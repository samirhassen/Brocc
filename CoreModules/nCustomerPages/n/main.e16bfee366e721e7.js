(self["webpackChunkcustomerpages"] = self["webpackChunkcustomerpages"] || []).push([["main"],{

/***/ 7536:
/*!**************************************************************!*\
  !*** ./projects/customerpages/src/app/app-routing.module.ts ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AppRoutingModule: () => (/* binding */ AppRoutingModule)
/* harmony export */ });
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ 7947);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ 1699);



const routes = [];
class AppRoutingModule {
  static #_ = this.ɵfac = function AppRoutingModule_Factory(t) {
    return new (t || AppRoutingModule)();
  };
  static #_2 = this.ɵmod = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({
    type: AppRoutingModule
  });
  static #_3 = this.ɵinj = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({
    imports: [_angular_router__WEBPACK_IMPORTED_MODULE_1__.RouterModule.forRoot(routes), _angular_router__WEBPACK_IMPORTED_MODULE_1__.RouterModule]
  });
}
(function () {
  (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](AppRoutingModule, {
    imports: [_angular_router__WEBPACK_IMPORTED_MODULE_1__.RouterModule],
    exports: [_angular_router__WEBPACK_IMPORTED_MODULE_1__.RouterModule]
  });
})();

/***/ }),

/***/ 7914:
/*!*********************************************************!*\
  !*** ./projects/customerpages/src/app/app.component.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AppComponent: () => (/* binding */ AppComponent)
/* harmony export */ });
/* harmony import */ var ngx_bootstrap_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ngx-bootstrap/utils */ 6630);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ 1699);
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common/http */ 4860);
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ 7947);




(0,ngx_bootstrap_utils__WEBPACK_IMPORTED_MODULE_0__.setTheme)('bs3'); //Ensure that the bootstrap 3 theme is used
class AppComponent {
  //@ts-ignore TODO remove unused locals
  constructor(httpClient) {
    this.httpClient = httpClient;
  }
  ngOnInit() {}
  static #_ = this.ɵfac = function AppComponent_Factory(t) {
    return new (t || AppComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_common_http__WEBPACK_IMPORTED_MODULE_2__.HttpClient));
  };
  static #_2 = this.ɵcmp = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
    type: AppComponent,
    selectors: [["np-root"]],
    decls: 1,
    vars: 0,
    template: function AppComponent_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](0, "router-outlet");
      }
    },
    dependencies: [_angular_router__WEBPACK_IMPORTED_MODULE_3__.RouterOutlet],
    encapsulation: 2
  });
}

/***/ }),

/***/ 5783:
/*!******************************************************!*\
  !*** ./projects/customerpages/src/app/app.module.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AppModule: () => (/* binding */ AppModule),
/* harmony export */   initializeConfig: () => (/* binding */ initializeConfig)
/* harmony export */ });
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/common */ 6575);
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/common/http */ 4860);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/core */ 1699);
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @angular/platform-browser */ 6480);
/* harmony import */ var _angular_common_locales_fi__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/common/locales/fi */ 7518);
/* harmony import */ var _angular_common_locales_sv__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/common/locales/sv */ 8085);
/* harmony import */ var _app_routing_module__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./app-routing.module */ 7536);
/* harmony import */ var _app_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./app.component */ 7914);
/* harmony import */ var _unsecured_loan_applications_unsecured_loan_applications_module__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./unsecured-loan-applications/unsecured-loan-applications.module */ 9009);
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! rxjs */ 8071);
/* harmony import */ var _common_services_customer_pages_config_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./common-services/customer-pages-config.service */ 5716);
/* harmony import */ var _common_services_customerpages_loader_interceptor__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./common-services/customerpages.loader.interceptor */ 8496);
/* harmony import */ var _mortgage_loan_applications_mortgage_loan_applications_module__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./mortgage-loan-applications/mortgage-loan-applications.module */ 1555);
/* harmony import */ var _mypages_mypages_module__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./mypages/mypages.module */ 9577);
/* harmony import */ var _shared_components_shared_components_module__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./shared-components/shared-components.module */ 7159);
/* harmony import */ var _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @angular/platform-browser/animations */ 4987);
/* harmony import */ var ngx_toastr__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ngx-toastr */ 7548);
/* harmony import */ var ngx_bootstrap_modal__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ngx-bootstrap/modal */ 7269);
/* harmony import */ var _kyc_questions_kyc_questions_module__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./kyc-questions/kyc-questions.module */ 8973);






















(0,_angular_common__WEBPACK_IMPORTED_MODULE_9__.registerLocaleData)(_angular_common_locales_fi__WEBPACK_IMPORTED_MODULE_10__["default"], 'fi');
(0,_angular_common__WEBPACK_IMPORTED_MODULE_9__.registerLocaleData)(_angular_common_locales_sv__WEBPACK_IMPORTED_MODULE_11__["default"], 'sv');
let selectedLocale = 'sv';
function createCurrencyCode() {
  return (0,_angular_common__WEBPACK_IMPORTED_MODULE_9__.getLocaleCurrencySymbol)(selectedLocale);
}
let isInitialized = new rxjs__WEBPACK_IMPORTED_MODULE_12__.BehaviorSubject(false);
let boostrapLoadingIndicator = document?.querySelector('#boostrapLoadingIndicator');
function initializeConfig(configService, httpClient, platform) {
  return () => {
    configService.initialize(cfg => {
      if (!cfg.isConfigLoaded()) {
        if (boostrapLoadingIndicator) {
          boostrapLoadingIndicator.textContent = 'Failed to load configuration from server';
        }
        return;
      }
      let baseCountry = cfg.config()?.Client.BaseCountry;
      if (baseCountry == 'SE') {
        selectedLocale = 'sv';
      } else if (baseCountry == 'FI') {
        selectedLocale = 'fi';
      }
      isInitialized.next(true);
    });
  };
}
let wasBootstrapped = false;
class AppModule {
  constructor(ngZone) {
    this.ngZone = ngZone;
  }
  ngDoBootstrap(app) {
    isInitialized.subscribe(x => {
      this.ngZone.run(() => {
        if (x && !wasBootstrapped) {
          wasBootstrapped = true;
          if (boostrapLoadingIndicator) {
            boostrapLoadingIndicator.remove();
          }
          app.bootstrap(_app_component__WEBPACK_IMPORTED_MODULE_1__.AppComponent);
        }
      });
    });
  }
  static #_ = this.ɵfac = function AppModule_Factory(t) {
    return new (t || AppModule)(_angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵinject"](_angular_core__WEBPACK_IMPORTED_MODULE_13__.NgZone));
  };
  static #_2 = this.ɵmod = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵdefineNgModule"]({
    type: AppModule
  });
  static #_3 = this.ɵinj = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵdefineInjector"]({
    providers: [{
      provide: _angular_core__WEBPACK_IMPORTED_MODULE_13__.APP_INITIALIZER,
      useFactory: initializeConfig,
      deps: [_common_services_customer_pages_config_service__WEBPACK_IMPORTED_MODULE_3__.CustomerPagesConfigService, _angular_common_http__WEBPACK_IMPORTED_MODULE_14__.HttpClient, _angular_common__WEBPACK_IMPORTED_MODULE_9__.PlatformLocation],
      multi: true
    }, {
      provide: _angular_core__WEBPACK_IMPORTED_MODULE_13__.LOCALE_ID,
      useValue: selectedLocale
    }, {
      provide: _angular_core__WEBPACK_IMPORTED_MODULE_13__.DEFAULT_CURRENCY_CODE,
      useFactory: createCurrencyCode,
      deps: [_angular_core__WEBPACK_IMPORTED_MODULE_13__.APP_INITIALIZER]
    }, {
      provide: _angular_common_http__WEBPACK_IMPORTED_MODULE_14__.HTTP_INTERCEPTORS,
      useClass: _common_services_customerpages_loader_interceptor__WEBPACK_IMPORTED_MODULE_4__.CustomerPagesLoaderInterceptor,
      multi: true
    }],
    imports: [_shared_components_shared_components_module__WEBPACK_IMPORTED_MODULE_7__.SharedComponentsModule, _unsecured_loan_applications_unsecured_loan_applications_module__WEBPACK_IMPORTED_MODULE_2__.UnsecuredLoanApplicationsModule, _mortgage_loan_applications_mortgage_loan_applications_module__WEBPACK_IMPORTED_MODULE_5__.MortgageLoanApplicationsModule, _mypages_mypages_module__WEBPACK_IMPORTED_MODULE_6__.MypagesModule, _kyc_questions_kyc_questions_module__WEBPACK_IMPORTED_MODULE_8__.KycQuestionsModule, _angular_platform_browser__WEBPACK_IMPORTED_MODULE_15__.BrowserModule, _app_routing_module__WEBPACK_IMPORTED_MODULE_0__.AppRoutingModule, _angular_common_http__WEBPACK_IMPORTED_MODULE_14__.HttpClientModule, _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_16__.BrowserAnimationsModule, ngx_toastr__WEBPACK_IMPORTED_MODULE_17__.ToastrModule.forRoot(), ngx_bootstrap_modal__WEBPACK_IMPORTED_MODULE_18__.ModalModule.forRoot()]
  });
}
(function () {
  (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_13__["ɵɵsetNgModuleScope"](AppModule, {
    declarations: [_app_component__WEBPACK_IMPORTED_MODULE_1__.AppComponent],
    imports: [_shared_components_shared_components_module__WEBPACK_IMPORTED_MODULE_7__.SharedComponentsModule, _unsecured_loan_applications_unsecured_loan_applications_module__WEBPACK_IMPORTED_MODULE_2__.UnsecuredLoanApplicationsModule, _mortgage_loan_applications_mortgage_loan_applications_module__WEBPACK_IMPORTED_MODULE_5__.MortgageLoanApplicationsModule, _mypages_mypages_module__WEBPACK_IMPORTED_MODULE_6__.MypagesModule, _kyc_questions_kyc_questions_module__WEBPACK_IMPORTED_MODULE_8__.KycQuestionsModule, _angular_platform_browser__WEBPACK_IMPORTED_MODULE_15__.BrowserModule, _app_routing_module__WEBPACK_IMPORTED_MODULE_0__.AppRoutingModule, _angular_common_http__WEBPACK_IMPORTED_MODULE_14__.HttpClientModule, _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_16__.BrowserAnimationsModule, ngx_toastr__WEBPACK_IMPORTED_MODULE_17__.ToastrModule, ngx_bootstrap_modal__WEBPACK_IMPORTED_MODULE_18__.ModalModule]
  });
})();

/***/ }),

/***/ 7991:
/*!**************************************************************************************!*\
  !*** ./projects/customerpages/src/app/common-services/customer-pages-api.service.ts ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CustomerPagesApiService: () => (/* binding */ CustomerPagesApiService)
/* harmony export */ });
/* harmony import */ var C_Repository_BaCS_SelfContainedModules_ntech_backoffice_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 1670);
/* harmony import */ var src_app_common_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/app/common.types */ 198);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ 1699);
/* harmony import */ var _customer_pages_config_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./customer-pages-config.service */ 5716);




class CustomerPagesApiService {
  constructor(config) {
    this.config = config;
    this.isoCountries = null;
  }
  /** Post thru the nCustomerPages proxy towards another module.  */
  post(moduleName, relativeUrl, request, options) {
    let normalizedRelativeUrl = (0,src_app_common_types__WEBPACK_IMPORTED_MODULE_1__.normalizeStringSlashes)(relativeUrl, false, false);
    let url = `/api/embedded-customerpages/${options?.isAnonymous ? 'anonymous-' : ''}proxy/${moduleName}/${normalizedRelativeUrl}`;
    let result = this.config.post(url, request, {
      skipLoadingIndicator: options?.skipLoadingIndicator
    }).toPromise();
    if (options?.handleNTechError) {
      return result.catch(x => {
        let error = x?.error;
        if (error?.errorCode && error?.errorMessage) {
          return options.handleNTechError(error);
        } else {
          throw x;
        }
      });
    } else {
      return result;
    }
  }
  download(moduleName, relativeUrl, request) {
    let normalizedRelativeUrl = (0,src_app_common_types__WEBPACK_IMPORTED_MODULE_1__.normalizeStringSlashes)(relativeUrl, false, false);
    let url = `/api/embedded-customerpages/proxy/${moduleName}/${normalizedRelativeUrl}`;
    return this.config.download(url, request).toPromise();
  }
  getArchiveDocumentUrl(archiveKey, skipFilename) {
    let url = `/api/embedded-customerpages/download-document?archiveKey=${encodeURIComponent(archiveKey)}`;
    if (skipFilename) {
      url += '&skipFilename=True';
    }
    return url;
  }
  fetchLoggedInUserDetails() {
    return this.config.post('/api/embedded-customerpages/fetch-loggedin-user-details', {}).toPromise();
  }
  getIsoCountries() {
    var _this = this;
    return (0,C_Repository_BaCS_SelfContainedModules_ntech_backoffice_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      if (_this.isoCountries) {
        return new Promise(resolve => resolve(_this.isoCountries));
      } else {
        _this.isoCountries = yield _this.config.post('/api/embedded-customerpages/iso-countries', {}).toPromise();
        return _this.isoCountries;
      }
    })();
  }
  parseCivicRegNr(civicRegNr) {
    return this.config.post('/api/embedded-customerpages/parse-civicregnr', {
      civicRegNr
    }).toPromise();
  }
  /** HttpPost towards nCustomerPages specifically.  */
  postLocal(localUrl, request, options) {
    let url = `/${(0,src_app_common_types__WEBPACK_IMPORTED_MODULE_1__.normalizeStringSlashes)(localUrl, false, false)}`;
    let result = this.config.post(url, request, {
      skipLoadingIndicator: options?.skipLoadingIndicator
    }).toPromise();
    if (options?.handleNTechError) {
      return result.catch(x => {
        let error = x?.error;
        if (error?.errorCode && error?.errorMessage) {
          return options.handleNTechError(error);
        } else {
          throw x;
        }
      });
    } else {
      return result;
    }
  }
  static #_ = this.ɵfac = function CustomerPagesApiService_Factory(t) {
    return new (t || CustomerPagesApiService)(_angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵinject"](_customer_pages_config_service__WEBPACK_IMPORTED_MODULE_2__.CustomerPagesConfigService));
  };
  static #_2 = this.ɵprov = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵdefineInjectable"]({
    token: CustomerPagesApiService,
    factory: CustomerPagesApiService.ɵfac,
    providedIn: 'root'
  });
}

/***/ }),

/***/ 5716:
/*!*****************************************************************************************!*\
  !*** ./projects/customerpages/src/app/common-services/customer-pages-config.service.ts ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CustomerPagesConfigService: () => (/* binding */ CustomerPagesConfigService)
/* harmony export */ });
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common/http */ 4860);
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/operators */ 3738);
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! moment */ 8540);
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var src_app_common_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/app/common.types */ 198);
/* harmony import */ var src_app_common_services_loader_interceptor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/common-services/loader.interceptor */ 6851);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/core */ 1699);







class CustomerPagesConfigService {
  constructor(httpClient) {
    this.httpClient = httpClient;
    this.serverData = undefined;
  }
  initialize(withLoadedConfig) {
    let queryStringParameters = (0,src_app_common_types__WEBPACK_IMPORTED_MODULE_1__.parseQueryStringParameters)();
    return this.fetchConfigFromServer().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.tap)(config => {
      this.serverData = {
        queryStringParameters: queryStringParameters,
        configResult: config
      };
      if (withLoadedConfig) {
        withLoadedConfig(this);
      }
    })).toPromise();
  }
  hasAuthenticatedRole(roleName) {
    return this.withServerData(x => x.configResult.AuthenticatedRoles.indexOf(roleName) >= 0);
  }
  isAuthenticated() {
    return this.withServerData(x => x.configResult.IsAuthenticated);
  }
  getLoginUrl(targetName, targetCustomData) {
    if (!targetName) {
      throw 'targetName required';
    }
    let pattern = this.withServerData(x => targetCustomData ? x.configResult.LoginUrlWithCustomDataPattern : x.configResult.LoginUrlPattern);
    pattern = pattern.replace('___targetname___', encodeURIComponent(targetName));
    if (targetCustomData) {
      pattern = pattern.replace('___targetcustomdata___', encodeURIComponent(targetCustomData));
    }
    return pattern;
  }
  getQueryStringParameters() {
    return this.withServerData(x => x.queryStringParameters);
  }
  isNTechTest() {
    return this.withServerData(x => x.configResult?.IsTest);
  }
  isConfigLoaded() {
    return !!this.serverData;
  }
  config() {
    return this.withServerData(x => x.configResult);
  }
  baseCountry() {
    return this.withServerData(x => x.configResult?.Client?.BaseCountry);
  }
  uiLanguage() {
    let country = this.baseCountry();
    if (country === 'SE') {
      return 'sv';
    } else {
      return 'sv';
    }
  }
  userDisplayName() {
    return this.withServerData(x => x.configResult?.UserDisplayName);
  }
  getClient() {
    return this.withServerData(x => x?.configResult?.Client);
  }
  isFeatureEnabled(featureName) {
    //ActiveFeatures is always all lowercase from the serverside
    return this.withServerData(x => x.configResult?.ActiveFeatures?.indexOf(featureName?.toLowerCase()) > 0);
  }
  isAnyFeatureEnabled(featureNames) {
    return this.withServerData(x => x.configResult?.ActiveFeatures?.some(af => featureNames.some(fn => fn === af)));
  }
  isMortgageLoansStandardEnabled() {
    return this.isFeatureEnabled('ntech.feature.mortgageloans.standard');
  }
  isUnsecuredLoansStandardEnabled() {
    return this.isFeatureEnabled('ntech.feature.unsecuredloans.standard');
  }
  isLoansStandardEnabled() {
    return this.isMortgageLoansStandardEnabled() || this.isUnsecuredLoansStandardEnabled();
  }
  getCurrentDateAndTime() {
    return this.withServerData(x => moment__WEBPACK_IMPORTED_MODULE_0__(x.configResult.CurrentDateAndTime));
  }
  getEnums() {
    return this.withServerData(x => x.configResult.Enums);
  }
  withServerData(f) {
    if (!this.serverData) {
      throw new Error('Config has not been loaded from the server yet. Call initialize and wait for it to complete first!');
    }
    return f(this.serverData);
  }
  fetchConfigFromServer() {
    return this.post('/api/embedded-customerpages/fetch-config', {});
  }
  fetchMlWebappSettings() {
    return this.post('/api/embedded-customerpages/fetch-ml-webapp-settings', {});
  }
  post(url, request, options) {
    var reqHeader = new _angular_common_http__WEBPACK_IMPORTED_MODULE_4__.HttpHeaders({
      'Content-Type': 'application/json'
    });
    if (options?.skipLoadingIndicator === true) {
      reqHeader = reqHeader.append(src_app_common_services_loader_interceptor__WEBPACK_IMPORTED_MODULE_2__.LoaderInterceptorSkipHeader, '1'); //NOTE: Not intented to actually be sent to the server. See interceptor for why this is here.
    }
    return this.httpClient.post(url, request, {
      headers: reqHeader
    });
  }
  download(url, request) {
    var reqHeader = new _angular_common_http__WEBPACK_IMPORTED_MODULE_4__.HttpHeaders({
      'Content-Type': 'application/json'
    });
    const requestOptions = {
      //Because the typescript compiler is stupid
      headers: reqHeader,
      responseType: 'blob'
    };
    return this.httpClient.post(url, request, requestOptions);
  }
  static #_ = this.ɵfac = function CustomerPagesConfigService_Factory(t) {
    return new (t || CustomerPagesConfigService)(_angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵinject"](_angular_common_http__WEBPACK_IMPORTED_MODULE_4__.HttpClient));
  };
  static #_2 = this.ɵprov = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵdefineInjectable"]({
    token: CustomerPagesConfigService,
    factory: CustomerPagesConfigService.ɵfac,
    providedIn: 'root'
  });
}

/***/ }),

/***/ 423:
/*!*********************************************************************************************!*\
  !*** ./projects/customerpages/src/app/common-services/customer-pages-validation.service.ts ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CustomerPagesValidationService: () => (/* binding */ CustomerPagesValidationService)
/* harmony export */ });
/* harmony import */ var src_app_common_services_ntech_validation_shared_base_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! src/app/common-services/ntech-validation-shared-base.service */ 1203);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ 1699);
/* harmony import */ var _customer_pages_config_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./customer-pages-config.service */ 5716);



class CustomerPagesValidationService extends src_app_common_services_ntech_validation_shared_base_service__WEBPACK_IMPORTED_MODULE_0__.NTechValidationSharedBaseService {
  constructor(configService) {
    super(configService.baseCountry());
  }
  static #_ = this.ɵfac = function CustomerPagesValidationService_Factory(t) {
    return new (t || CustomerPagesValidationService)(_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵinject"](_customer_pages_config_service__WEBPACK_IMPORTED_MODULE_1__.CustomerPagesConfigService));
  };
  static #_2 = this.ɵprov = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineInjectable"]({
    token: CustomerPagesValidationService,
    factory: CustomerPagesValidationService.ɵfac,
    providedIn: 'root'
  });
}

/***/ }),

/***/ 7423:
/*!*************************************************************************************!*\
  !*** ./projects/customerpages/src/app/common-services/customer-pages.auth.guard.ts ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CustomerPagesAuthGuard: () => (/* binding */ CustomerPagesAuthGuard)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ 1699);
/* harmony import */ var _customer_pages_config_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./customer-pages-config.service */ 5716);
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ 7947);



class CustomerPagesAuthGuard {
  constructor(configService, router) {
    this.configService = configService;
    this.router = router;
  }
  canActivate(route, state) {
    let loginTargetName = route.data.loginTargetName;
    let requiredUserRole = route.data.requiredUserRole;
    if (!this.hasRequiredFeatures(route)) {
      return this.router.createUrlTree(['/not-found']);
    }
    let getNoAccessUrl = () => loginTargetName ? this.configService.getLoginUrl(loginTargetName) : '/access-denied';
    if (!this.configService.isAuthenticated) {
      document.location.href = getNoAccessUrl();
      return false;
    }
    if (!requiredUserRole) {
      return true;
    }
    if (this.configService.hasAuthenticatedRole(requiredUserRole)) {
      return true;
    } else {
      document.location.href = getNoAccessUrl();
      return false;
    }
  }
  hasRequiredFeatures(route) {
    let requireAllTheseFeatures = route.data.requireFeatures;
    let requireFeature = route.data.requireFeature;
    let requireAnyOfTheseFeatures = route.data.requireAnyFeature;
    if (!requireAllTheseFeatures && !requireFeature && !requireAnyOfTheseFeatures) {
      return true;
    }
    if (requireFeature && !this.configService.isFeatureEnabled(requireFeature)) {
      return false;
    }
    if (requireAllTheseFeatures) {
      for (let f of requireAllTheseFeatures) {
        if (!this.configService.isFeatureEnabled(f)) {
          return false;
        }
      }
    }
    if (requireAnyOfTheseFeatures) {
      if (!this.configService.isAnyFeatureEnabled(requireAnyOfTheseFeatures)) {
        return false;
      }
    }
    return true;
  }
  static #_ = this.ɵfac = function CustomerPagesAuthGuard_Factory(t) {
    return new (t || CustomerPagesAuthGuard)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_customer_pages_config_service__WEBPACK_IMPORTED_MODULE_0__.CustomerPagesConfigService), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_angular_router__WEBPACK_IMPORTED_MODULE_2__.Router));
  };
  static #_2 = this.ɵprov = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({
    token: CustomerPagesAuthGuard,
    factory: CustomerPagesAuthGuard.ɵfac,
    providedIn: 'root'
  });
}

/***/ }),

/***/ 3211:
/*!***************************************************************************************!*\
  !*** ./projects/customerpages/src/app/common-services/customerpages-event.service.ts ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CustomerPagesEventService: () => (/* binding */ CustomerPagesEventService)
/* harmony export */ });
/* harmony import */ var src_app_common_services_ntech_event_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! src/app/common-services/ntech-event.service */ 2224);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ 1699);


class CustomerPagesEventService extends src_app_common_services_ntech_event_service__WEBPACK_IMPORTED_MODULE_0__.NtechEventServiceBase {
  constructor() {
    super();
  }
  static #_ = this.ɵfac = function CustomerPagesEventService_Factory(t) {
    return new (t || CustomerPagesEventService)();
  };
  static #_2 = this.ɵprov = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({
    token: CustomerPagesEventService,
    factory: CustomerPagesEventService.ɵfac,
    providedIn: 'root'
  });
}

/***/ }),

/***/ 8496:
/*!********************************************************************************************!*\
  !*** ./projects/customerpages/src/app/common-services/customerpages.loader.interceptor.ts ***!
  \********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CustomerPagesLoaderInterceptor: () => (/* binding */ CustomerPagesLoaderInterceptor)
/* harmony export */ });
/* harmony import */ var src_app_common_services_loader_interceptor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! src/app/common-services/loader.interceptor */ 6851);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ 1699);
/* harmony import */ var _customerpages_event_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./customerpages-event.service */ 3211);



class CustomerPagesLoaderInterceptor extends src_app_common_services_loader_interceptor__WEBPACK_IMPORTED_MODULE_0__.LoaderInterceptorBase {
  constructor(eventService) {
    super();
    this.eventService = eventService;
  }
  isLoadingSubject() {
    return this.eventService.isLoading;
  }
  static #_ = this.ɵfac = function CustomerPagesLoaderInterceptor_Factory(t) {
    return new (t || CustomerPagesLoaderInterceptor)(_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵinject"](_customerpages_event_service__WEBPACK_IMPORTED_MODULE_1__.CustomerPagesEventService));
  };
  static #_2 = this.ɵprov = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineInjectable"]({
    token: CustomerPagesLoaderInterceptor,
    factory: CustomerPagesLoaderInterceptor.ɵfac
  });
}

/***/ }),

/***/ 4227:
/*!**************************************************************************************!*\
  !*** ./projects/customerpages/src/app/kyc-questions/kyc-questions-routing.module.ts ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   KycQuestionsRoutingModule: () => (/* binding */ KycQuestionsRoutingModule)
/* harmony export */ });
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/router */ 7947);
/* harmony import */ var _common_services_customer_pages_auth_guard__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../common-services/customer-pages.auth.guard */ 7423);
/* harmony import */ var _pages_kyc_overview_kyc_overview_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./pages/kyc-overview/kyc-overview.component */ 9873);
/* harmony import */ var _pages_questions_session_questions_session_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./pages/questions-session/questions-session.component */ 5980);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ 1699);






const loggedInRoutes = [{
  path: 'overview',
  component: _pages_kyc_overview_kyc_overview_component__WEBPACK_IMPORTED_MODULE_1__.KycOverviewComponent
}];
const publicRoutes = [{
  path: 'questions-session/:sessionId',
  component: _pages_questions_session_questions_session_component__WEBPACK_IMPORTED_MODULE_2__.QuestionsSessionComponent
}];
const routes = [{
  path: 'kyc',
  children: loggedInRoutes,
  resolve: {},
  data: {
    requireFeatures: ['feature.customerpages.kyc'],
    loginTargetName: 'KycQuestions',
    requiredUserRole: 'EmbeddedCustomerPagesStandardCustomer'
  },
  canActivate: [_common_services_customer_pages_auth_guard__WEBPACK_IMPORTED_MODULE_0__.CustomerPagesAuthGuard]
}, {
  path: 'public-kyc',
  children: publicRoutes,
  resolve: {},
  data: {
    requireFeatures: ['feature.customerpages.kyc']
  },
  canActivate: []
}];
class KycQuestionsRoutingModule {
  static #_ = this.ɵfac = function KycQuestionsRoutingModule_Factory(t) {
    return new (t || KycQuestionsRoutingModule)();
  };
  static #_2 = this.ɵmod = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵdefineNgModule"]({
    type: KycQuestionsRoutingModule
  });
  static #_3 = this.ɵinj = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵdefineInjector"]({
    imports: [_angular_router__WEBPACK_IMPORTED_MODULE_4__.RouterModule.forChild(routes), _angular_router__WEBPACK_IMPORTED_MODULE_4__.RouterModule]
  });
}
(function () {
  (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵsetNgModuleScope"](KycQuestionsRoutingModule, {
    imports: [_angular_router__WEBPACK_IMPORTED_MODULE_4__.RouterModule],
    exports: [_angular_router__WEBPACK_IMPORTED_MODULE_4__.RouterModule]
  });
})();

/***/ }),

/***/ 8973:
/*!******************************************************************************!*\
  !*** ./projects/customerpages/src/app/kyc-questions/kyc-questions.module.ts ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   KycQuestionsModule: () => (/* binding */ KycQuestionsModule)
/* harmony export */ });
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/common */ 6575);
/* harmony import */ var _kyc_questions_routing_module__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./kyc-questions-routing.module */ 4227);
/* harmony import */ var _shared_components_shared_components_module__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../shared-components/shared-components.module */ 7159);
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/forms */ 8849);
/* harmony import */ var ngx_quill__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ngx-quill */ 945);
/* harmony import */ var _pages_kyc_overview_kyc_overview_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./pages/kyc-overview/kyc-overview.component */ 9873);
/* harmony import */ var projects_ntech_components_src_public_api__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! projects/ntech-components/src/public-api */ 3044);
/* harmony import */ var _pages_questions_session_questions_session_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./pages/questions-session/questions-session.component */ 5980);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/core */ 1699);










class KycQuestionsModule {
  static #_ = this.ɵfac = function KycQuestionsModule_Factory(t) {
    return new (t || KycQuestionsModule)();
  };
  static #_2 = this.ɵmod = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵdefineNgModule"]({
    type: KycQuestionsModule
  });
  static #_3 = this.ɵinj = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵdefineInjector"]({
    imports: [_angular_common__WEBPACK_IMPORTED_MODULE_6__.CommonModule, _shared_components_shared_components_module__WEBPACK_IMPORTED_MODULE_1__.SharedComponentsModule, _kyc_questions_routing_module__WEBPACK_IMPORTED_MODULE_0__.KycQuestionsRoutingModule, _angular_forms__WEBPACK_IMPORTED_MODULE_7__.ReactiveFormsModule, ngx_quill__WEBPACK_IMPORTED_MODULE_8__.QuillModule.forRoot(), projects_ntech_components_src_public_api__WEBPACK_IMPORTED_MODULE_3__.NtechComponentsModule]
  });
}
(function () {
  (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵsetNgModuleScope"](KycQuestionsModule, {
    declarations: [_pages_kyc_overview_kyc_overview_component__WEBPACK_IMPORTED_MODULE_2__.KycOverviewComponent, _pages_questions_session_questions_session_component__WEBPACK_IMPORTED_MODULE_4__.QuestionsSessionComponent],
    imports: [_angular_common__WEBPACK_IMPORTED_MODULE_6__.CommonModule, _shared_components_shared_components_module__WEBPACK_IMPORTED_MODULE_1__.SharedComponentsModule, _kyc_questions_routing_module__WEBPACK_IMPORTED_MODULE_0__.KycQuestionsRoutingModule, _angular_forms__WEBPACK_IMPORTED_MODULE_7__.ReactiveFormsModule, ngx_quill__WEBPACK_IMPORTED_MODULE_8__.QuillModule, projects_ntech_components_src_public_api__WEBPACK_IMPORTED_MODULE_3__.NtechComponentsModule]
  });
})();

/***/ }),

/***/ 9873:
/*!***************************************************************************************************!*\
  !*** ./projects/customerpages/src/app/kyc-questions/pages/kyc-overview/kyc-overview.component.ts ***!
  \***************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   KycOverviewComponent: () => (/* binding */ KycOverviewComponent)
/* harmony export */ });
/* harmony import */ var C_Repository_BaCS_SelfContainedModules_ntech_backoffice_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 1670);
/* harmony import */ var projects_ntech_components_src_public_api__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! projects/ntech-components/src/public-api */ 3044);
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! rxjs */ 8071);
/* harmony import */ var src_app_common_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/common.types */ 198);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/core */ 1699);
/* harmony import */ var _common_services_customer_pages_config_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../common-services/customer-pages-config.service */ 5716);
/* harmony import */ var _kyc_overview_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./kyc-overview.service */ 4809);
/* harmony import */ var _common_services_customer_pages_api_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../common-services/customer-pages-api.service */ 7991);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/common */ 6575);
/* harmony import */ var _ntech_components_src_lib_kyc_answers_view_kyc_answers_view_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../ntech-components/src/lib/kyc-answers-view/kyc-answers-view.component */ 1772);
/* harmony import */ var _ntech_components_src_lib_kyc_answers_editor_kyc_answers_editor_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../../ntech-components/src/lib/kyc-answers-editor/kyc-answers-editor.component */ 4299);











function KycOverviewComponent_div_0_div_2_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementStart"](0, "div", 6)(1, "a", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("href", ctx_r1.m.backUrl, _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵsanitizeUrl"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtextInterpolate"](ctx_r1.getStaticTranslation("back"));
  }
}
function KycOverviewComponent_div_0_div_7_div_4_kyc_answers_view_1_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelement"](0, "kyc-answers-view", 12);
  }
  if (rf & 2) {
    const relation_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("initialData", relation_r6.answersViewData);
  }
}
function KycOverviewComponent_div_0_div_7_div_4_kyc_answers_editor_2_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelement"](0, "kyc-answers-editor", 12);
  }
  if (rf & 2) {
    const relation_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("initialData", relation_r6 == null ? null : relation_r6.edit == null ? null : relation_r6.edit.data);
  }
}
const _c0 = a0 => ({
  "pt-2": a0
});
function KycOverviewComponent_div_0_div_7_div_4_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementStart"](0, "div", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtemplate"](1, KycOverviewComponent_div_0_div_7_div_4_kyc_answers_view_1_Template, 1, 1, "kyc-answers-view", 11)(2, KycOverviewComponent_div_0_div_7_div_4_kyc_answers_editor_2_Template, 1, 1, "kyc-answers-editor", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const relation_r6 = ctx.$implicit;
    const first_r7 = ctx.first;
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵpureFunction1"](3, _c0, !first_r7));
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("ngIf", !relation_r6.edit);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("ngIf", relation_r6.edit);
  }
}
function KycOverviewComponent_div_0_div_7_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementStart"](0, "div", 8)(1, "h2", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelement"](3, "hr", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtemplate"](4, KycOverviewComponent_div_0_div_7_div_4_Template, 3, 5, "div", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const productType_r3 = ctx.$implicit;
    const first_r4 = ctx.first;
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵpureFunction1"](3, _c0, !first_r4));
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtextInterpolate"](ctx_r2.getStaticTranslation(productType_r3.titleTranslationKey));
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("ngForOf", productType_r3.relations);
  }
}
const _c1 = a0 => ({
  "update-text": a0
});
function KycOverviewComponent_div_0_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementStart"](0, "div", 1)(1, "div", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtemplate"](2, KycOverviewComponent_div_0_div_2_Template, 3, 2, "div", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementStart"](3, "h1");
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementStart"](5, "p", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtext"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtemplate"](7, KycOverviewComponent_div_0_div_7_Template, 5, 5, "div", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("ngIf", ctx_r0.m.backUrl && (!ctx_r0.m.hideBackUntilAnswered || !ctx_r0.m.isUpdateRequired));
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtextInterpolate"](ctx_r0.getStaticTranslation("kyc"));
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵpureFunction1"](5, _c1, ctx_r0.m.isUpdateRequired));
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtextInterpolate1"](" ", ctx_r0.getStaticTranslation(ctx_r0.m.isUpdateRequired ? "explanationTextUpdate" : "explanationText"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("ngForOf", ctx_r0.m.productTypes);
  }
}
class KycOverviewComponent extends projects_ntech_components_src_public_api__WEBPACK_IMPORTED_MODULE_1__.KycQuestionsOverviewBase {
  constructor(config, apiService, sharedApiService) {
    super();
    this.config = config;
    this.apiService = apiService;
    this.sharedApiService = sharedApiService;
  }
  ngOnInit() {
    var _this = this;
    return (0,C_Repository_BaCS_SelfContainedModules_ntech_backoffice_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      let fromTarget = _this.config.getQueryStringParameters()['fromTarget'];
      if (!fromTarget) {
        const queryString = (0,src_app_common_types__WEBPACK_IMPORTED_MODULE_2__.parseQueryStringParameters)();
        fromTarget = queryString?.fromTarget;
      }
      let targetUrlPart = fromTarget ? `?targetName=${fromTarget}` : '';
      let language = _this.config.getQueryStringParameters()['lang'];
      let hideBackUntilAnswered = _this.config.getQueryStringParameters()['hbu'] === '1';
      _this.setup(_this.config.baseCountry(), language);
      let backUrl = targetUrlPart ? `/portal/navigate${targetUrlPart}` : null;
      _this.reload(backUrl, hideBackUntilAnswered);
    })();
  }
  reload(backUrl, hideBackUntilAnswered) {
    var _this2 = this;
    return (0,C_Repository_BaCS_SelfContainedModules_ntech_backoffice_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      let customerStatus = yield _this2.apiService.getCustomerStatus();
      _this2.reset(customerStatus, backUrl, hideBackUntilAnswered);
    })();
  }
  reset(customerStatus, backUrl, hideBackUntilAnswered) {
    var _this3 = this;
    let m = {
      isUpdateRequired: false,
      backUrl: backUrl,
      productTypes: [],
      hideBackUntilAnswered: hideBackUntilAnswered
    };
    let isEditDisabled = new rxjs__WEBPACK_IMPORTED_MODULE_9__.BehaviorSubject(false);
    let setupProductType = isSavings => {
      let productType = {
        titleTranslationKey: isSavings ? 'savingsTitle' : 'loanTitle',
        relations: customerStatus.activeRelations.filter(x => x.relationType.startsWith('Savings') === isSavings).map(relation => {
          let latestAnswers = customerStatus.latestAnswers?.find(x => x.relationType == relation.relationType && x.relationId === relation.relationId);
          let relationModel = {
            relationType: relation.relationType,
            relationId: relation.relationId,
            isUpdateRequired: relation.isUpdateRequired,
            answersViewData: {
              titleText: relation.relationId,
              isUpdateRequired: relation.isUpdateRequired,
              nrOfDaysSinceAnswer: relation.nrOfDaysSinceAnswer,
              answers: latestAnswers?.answers,
              isEditDisabled: isEditDisabled
            }
          };
          let {
            currentQuestionsTemplate
          } = customerStatus.questionTemplates.activeProducts.find(x => x.relationType === relation.relationType);
          relationModel.answersViewData.onEdit = /*#__PURE__*/(0,C_Repository_BaCS_SelfContainedModules_ntech_backoffice_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
            isEditDisabled.next(true);
            relationModel.edit = {
              data: {
                titleText: relation.relationId,
                language: _this3.language,
                currentQuestionsTemplate: currentQuestionsTemplate,
                onCancel: function () {
                  var _ref2 = (0,C_Repository_BaCS_SelfContainedModules_ntech_backoffice_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
                    relationModel.edit = null;
                    isEditDisabled.next(false);
                  });
                  return function onCancel() {
                    return _ref2.apply(this, arguments);
                  };
                }(),
                onAnswersSubmitted: function () {
                  var _ref3 = (0,C_Repository_BaCS_SelfContainedModules_ntech_backoffice_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* (answers) {
                    let newCustomerStatus = yield _this3.apiService.updateAnswers({
                      relationId: relation.relationId,
                      relationType: relation.relationType,
                      answers: answers
                    });
                    isEditDisabled.next(false);
                    _this3.reset(newCustomerStatus, _this3.m.backUrl, _this3.m.hideBackUntilAnswered);
                  });
                  return function onAnswersSubmitted(_x) {
                    return _ref3.apply(this, arguments);
                  };
                }(),
                getCountries: () => _this3.sharedApiService.getIsoCountries(),
                clientTwoLetterCountryIsoCode: _this3.config.baseCountry()
              }
            };
          });
          return relationModel;
        })
      };
      if (productType.relations.length > 0) {
        m.productTypes.push(productType);
      }
    };
    setupProductType(false);
    setupProductType(true);
    m.isUpdateRequired = m.productTypes.some(x => x.relations.some(y => y.isUpdateRequired));
    this.m = m;
  }
  static #_ = this.ɵfac = function KycOverviewComponent_Factory(t) {
    return new (t || KycOverviewComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵdirectiveInject"](_common_services_customer_pages_config_service__WEBPACK_IMPORTED_MODULE_3__.CustomerPagesConfigService), _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵdirectiveInject"](_kyc_overview_service__WEBPACK_IMPORTED_MODULE_4__.KycOverviewService), _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵdirectiveInject"](_common_services_customer_pages_api_service__WEBPACK_IMPORTED_MODULE_5__.CustomerPagesApiService));
  };
  static #_2 = this.ɵcmp = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵdefineComponent"]({
    type: KycOverviewComponent,
    selectors: [["np-kyc-overview"]],
    features: [_angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵInheritDefinitionFeature"]],
    decls: 1,
    vars: 1,
    consts: [["class", "flex-content-area", 4, "ngIf"], [1, "flex-content-area"], [1, "content-area", "pt-5", "pb-2"], ["class", "pb-2", 4, "ngIf"], [1, "pb-2", "explanation-text", 3, "ngClass"], [3, "ngClass", 4, "ngFor", "ngForOf"], [1, "pb-2"], [1, "n-anchor", 3, "href"], [3, "ngClass"], [1, "pt-2"], [1, "hr-section"], [3, "initialData", 4, "ngIf"], [3, "initialData"]],
    template: function KycOverviewComponent_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵtemplate"](0, KycOverviewComponent_div_0_Template, 8, 7, "div", 0);
      }
      if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵproperty"]("ngIf", ctx.m);
      }
    },
    dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_10__.NgClass, _angular_common__WEBPACK_IMPORTED_MODULE_10__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_10__.NgIf, _ntech_components_src_lib_kyc_answers_view_kyc_answers_view_component__WEBPACK_IMPORTED_MODULE_6__.KycAnswersViewComponent, _ntech_components_src_lib_kyc_answers_editor_kyc_answers_editor_component__WEBPACK_IMPORTED_MODULE_7__.KycAnswersEditorComponent],
    styles: ["h1[_ngcontent-%COMP%] {\n    font-size: 25px;\n    border-bottom: 2px solid #1a69c4;\n    margin-bottom: 0px;\n    margin-top: 0px;\n    padding-bottom: 5px;\n  }\n\n.explanation-text[_ngcontent-%COMP%] {\n  margin-top: 10px;\n}\n\n.update-text[_ngcontent-%COMP%] {\n  background-color: #EFC249;\n  border-radius: 10px;\n  padding: 10px; \n}\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3Byb2plY3RzL2N1c3RvbWVycGFnZXMvc3JjL2FwcC9reWMtcXVlc3Rpb25zL3BhZ2VzL2t5Yy1vdmVydmlldy9reWMtb3ZlcnZpZXcuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGVBQWU7SUFDZixnQ0FBZ0M7SUFDaEMsa0JBQWtCO0lBQ2xCLGVBQWU7SUFDZixtQkFBbUI7RUFDckI7O0FBRUY7RUFDRSxnQkFBZ0I7QUFDbEI7O0FBRUE7RUFDRSx5QkFBeUI7RUFDekIsbUJBQW1CO0VBQ25CLGFBQWE7QUFDZiIsInNvdXJjZXNDb250ZW50IjpbImgxIHtcclxuICAgIGZvbnQtc2l6ZTogMjVweDtcclxuICAgIGJvcmRlci1ib3R0b206IDJweCBzb2xpZCAjMWE2OWM0O1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMHB4O1xyXG4gICAgbWFyZ2luLXRvcDogMHB4O1xyXG4gICAgcGFkZGluZy1ib3R0b206IDVweDtcclxuICB9XHJcblxyXG4uZXhwbGFuYXRpb24tdGV4dCB7XHJcbiAgbWFyZ2luLXRvcDogMTBweDtcclxufVxyXG5cclxuLnVwZGF0ZS10ZXh0IHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjRUZDMjQ5O1xyXG4gIGJvcmRlci1yYWRpdXM6IDEwcHg7XHJcbiAgcGFkZGluZzogMTBweDsgXHJcbn0iXSwic291cmNlUm9vdCI6IiJ9 */"]
  });
}

/***/ }),

/***/ 4809:
/*!*************************************************************************************************!*\
  !*** ./projects/customerpages/src/app/kyc-questions/pages/kyc-overview/kyc-overview.service.ts ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   KycOverviewService: () => (/* binding */ KycOverviewService)
/* harmony export */ });
/* harmony import */ var C_Repository_BaCS_SelfContainedModules_ntech_backoffice_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 1670);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ 1699);
/* harmony import */ var _common_services_customer_pages_api_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../common-services/customer-pages-api.service */ 7991);



class KycOverviewService {
  constructor(apiService) {
    this.apiService = apiService;
  }
  getCustomerStatus() {
    var _this = this;
    return (0,C_Repository_BaCS_SelfContainedModules_ntech_backoffice_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      return yield _this.apiService.post('NTechHost', 'Api/Customer/KycQuestionUpdate/GetCustomerStatus', {});
    })();
  }
  updateAnswers(request) {
    var _this2 = this;
    return (0,C_Repository_BaCS_SelfContainedModules_ntech_backoffice_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      return yield _this2.apiService.post('NTechHost', 'Api/Customer/KycQuestionUpdate/UpdateAnswers', request);
    })();
  }
  static #_ = this.ɵfac = function KycOverviewService_Factory(t) {
    return new (t || KycOverviewService)(_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵinject"](_common_services_customer_pages_api_service__WEBPACK_IMPORTED_MODULE_1__.CustomerPagesApiService));
  };
  static #_2 = this.ɵprov = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineInjectable"]({
    token: KycOverviewService,
    factory: KycOverviewService.ɵfac,
    providedIn: 'root'
  });
}

/***/ }),

/***/ 5980:
/*!*************************************************************************************************************!*\
  !*** ./projects/customerpages/src/app/kyc-questions/pages/questions-session/questions-session.component.ts ***!
  \*************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   QuestionsSessionComponent: () => (/* binding */ QuestionsSessionComponent)
/* harmony export */ });
/* harmony import */ var C_Repository_BaCS_SelfContainedModules_ntech_backoffice_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 1670);
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs */ 8071);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/core */ 1699);
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/router */ 7947);
/* harmony import */ var _common_services_customer_pages_api_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../common-services/customer-pages-api.service */ 7991);
/* harmony import */ var _common_services_customer_pages_config_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../common-services/customer-pages-config.service */ 5716);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/common */ 6575);
/* harmony import */ var _ntech_components_src_lib_kyc_answers_editor_kyc_answers_editor_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../ntech-components/src/lib/kyc-answers-editor/kyc-answers-editor.component */ 4299);








function QuestionsSessionComponent_div_0_div_3_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](0, "div")(1, "b")(2, "a", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()()();
  }
  if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("href", ctx_r3.m.redirectUrl, _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵsanitizeUrl"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtextInterpolate"](ctx_r3.getStaticTranslation("backLinkText"));
  }
}
function QuestionsSessionComponent_div_0_div_9_div_6_Template(rf, ctx) {
  if (rf & 1) {
    const _r9 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](0, "div", 12)(1, "button", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵlistener"]("click", function QuestionsSessionComponent_div_0_div_9_div_6_Template_button_click_1_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵrestoreView"](_r9);
      const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"](3);
      return _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵresetView"](ctx_r8.submitAnswers($event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("disabled", !ctx_r7.isSavePossible());
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtextInterpolate1"](" ", ctx_r7.getStaticTranslation("saveAnswers"), " ");
  }
}
function QuestionsSessionComponent_div_0_div_9_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](0, "div")(1, "kyc-answers-editor", 8)(2, "div", 9)(3, "h2");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelement"](5, "hr", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtemplate"](6, QuestionsSessionComponent_div_0_div_9_div_6_Template, 3, 2, "div", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const customer_r5 = ctx.$implicit;
    const isLast_r6 = ctx.last;
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("initialData", customer_r5.kycAnswersInitialData);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtextInterpolate3"]("", customer_r5.fullName, "", customer_r5.birthDate ? ", " : "", "", customer_r5.birthDate, "");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngIf", isLast_r6);
  }
}
function QuestionsSessionComponent_div_0_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](0, "div", 2)(1, "div", 3)(2, "div");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtemplate"](3, QuestionsSessionComponent_div_0_div_3_Template, 4, 2, "div", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](4, "div", 4)(5, "h1");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelement"](7, "div", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](8, "div");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtemplate"](9, QuestionsSessionComponent_div_0_div_9_Template, 7, 5, "div", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()()();
  }
  if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngIf", ctx_r0.m == null ? null : ctx_r0.m.allowBackToRedirectUrl);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtextInterpolate"](ctx_r0.getStaticTranslation("kyc"));
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngForOf", ctx_r0.m.customers);
  }
}
function QuestionsSessionComponent_div_1_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](0, "div")(1, "h2");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtextInterpolate"](ctx_r1.getStaticTranslation("sessionCompleteText"));
  }
}
function QuestionsSessionComponent_div_2_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](0, "div")(1, "h2");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](3, "p")(4, "a", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()()();
  }
  if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtextInterpolate"](ctx_r2.getStaticTranslation("sessionCompleteRedirectText"));
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("href", ctx_r2.m.redirectUrl, _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵsanitizeUrl"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtextInterpolate"](ctx_r2.getStaticTranslation("redirectLinkText"));
  }
}
const staticTranslations = {
  'sessionCompleteText': {
    'sv': 'Frågorna är nu besvarade. Du kan stänga sidan.',
    'fi': 'Kysymykset on nyt vastattu. Voit sulkea sivun.'
  },
  'sessionCompleteRedirectText': {
    'sv': 'Frågorna är nu besvarande. Du kommer inom kort att skickas vidare.',
    'fi': 'Kysymykset on nyt vastattu. Sinut ohjataan pian eteenpäin.'
  },
  'redirectLinkText': {
    'sv': 'Nästa sida...',
    'fi': 'Seuraava sivu...'
  },
  'kyc': {
    'sv': 'Kundkännedom',
    'fi': 'Asiakkaan tuntemus'
  },
  'saveAnswers': {
    'sv': 'Skicka in svar',
    'fi': 'Lähetä vastaukset'
  },
  'backLinkText': {
    'sv': 'Tillbaka',
    'fi': 'Takaisin'
  }
};
class QuestionsSessionComponent {
  constructor(route, apiService, config) {
    this.route = route;
    this.apiService = apiService;
    this.config = config;
  }
  ngOnInit() {
    var _this = this;
    return (0,C_Repository_BaCS_SelfContainedModules_ntech_backoffice_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      _this.reload(_this.route.snapshot.params['sessionId']);
    })();
  }
  getStaticTranslation(name) {
    let t = staticTranslations[name];
    let s = t ? t[this.m.language] : null;
    return s ?? name;
  }
  reload(sessionId) {
    var _this2 = this;
    return (0,C_Repository_BaCS_SelfContainedModules_ntech_backoffice_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      _this2.m = null;
      if (!sessionId) {
        return;
      }
      let session = yield _this2.loadSession(sessionId);
      let m = {
        sessionId: session.sessionId,
        language: session.language,
        isActive: false,
        isCompleted: false,
        allowBackToRedirectUrl: session.allowBackToRedirectUrl,
        redirectUrl: session.allowBackToRedirectUrl ? session.redirectUrl : null
      };
      if (session.isActive) {
        m.isActive = true;
        m.customers = session.customers.map(x => ({
          fullName: x.fullName,
          birthDate: x.birthDate,
          customerKey: x.customerKey,
          kycAnswersInitialData: {
            language: new rxjs__WEBPACK_IMPORTED_MODULE_5__.BehaviorSubject(session.language),
            currentQuestionsTemplate: session.questionsTemplate,
            editState: new rxjs__WEBPACK_IMPORTED_MODULE_5__.BehaviorSubject(null),
            getCountries: () => _this2.apiService.getIsoCountries(),
            clientTwoLetterCountryIsoCode: _this2.config.baseCountry()
          }
        }));
      } else if (session.isCompleted) {
        if (session.redirectUrl) {
          m.isRedirecting = true;
          setTimeout(() => {
            document.location.href = session.redirectUrl;
          }, 1500);
        } else {
          m.isCompleted = true;
        }
      }
      _this2.m = m;
    })();
  }
  isSavePossible() {
    return this.m.customers.every(x => x.kycAnswersInitialData.editState.value?.isSavePossible === true);
  }
  submitAnswers(evt) {
    var _this3 = this;
    return (0,C_Repository_BaCS_SelfContainedModules_ntech_backoffice_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      evt?.preventDefault();
      _this3.m.isSaving = true;
      let saveRequest = {
        sessionId: _this3.m.sessionId,
        customerAnswers: _this3.m.customers.map(x => ({
          customerKey: x.customerKey,
          answers: x.kycAnswersInitialData.editState.value.answers
        }))
      };
      yield _this3.handleAnswers(saveRequest);
      _this3.reload(_this3.m.sessionId);
    })();
  }
  loadSession(sessionId) {
    return this.apiService.post('NTechHost', 'Api/Customer/KycQuestionSession/LoadCustomerPagesSession', {
      sessionId
    }, {
      isAnonymous: true
    });
  }
  handleAnswers(request) {
    return this.apiService.post('NTechHost', 'Api/Customer/KycQuestionSession/HandleAnswers', request, {
      isAnonymous: true
    });
  }
  static #_ = this.ɵfac = function QuestionsSessionComponent_Factory(t) {
    return new (t || QuestionsSessionComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_6__.ActivatedRoute), _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵdirectiveInject"](_common_services_customer_pages_api_service__WEBPACK_IMPORTED_MODULE_1__.CustomerPagesApiService), _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵdirectiveInject"](_common_services_customer_pages_config_service__WEBPACK_IMPORTED_MODULE_2__.CustomerPagesConfigService));
  };
  static #_2 = this.ɵcmp = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵdefineComponent"]({
    type: QuestionsSessionComponent,
    selectors: [["np-questions-session"]],
    decls: 3,
    vars: 3,
    consts: [["class", "flex-content-area", 4, "ngIf"], [4, "ngIf"], [1, "flex-content-area"], [1, "content-area", "pt-5", "pb-2"], [1, "pt-1", "pb-1", "text-center"], [1, "clearfix"], [4, "ngFor", "ngForOf"], [3, "href"], [3, "initialData"], ["kyc-answers-header-content", ""], [1, "hr-section"], ["kyc-answers-footer-content", "", "class", "text-center", 4, "ngIf"], ["kyc-answers-footer-content", "", 1, "text-center"], [1, "n-direct-btn", "n-green-btn", 3, "disabled", "click"]],
    template: function QuestionsSessionComponent_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtemplate"](0, QuestionsSessionComponent_div_0_Template, 10, 3, "div", 0)(1, QuestionsSessionComponent_div_1_Template, 3, 1, "div", 1)(2, QuestionsSessionComponent_div_2_Template, 6, 3, "div", 1);
      }
      if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngIf", (ctx.m == null ? null : ctx.m.isActive) && !(ctx.m == null ? null : ctx.m.isSaving));
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngIf", ctx.m == null ? null : ctx.m.isCompleted);
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngIf", ctx.m == null ? null : ctx.m.isRedirecting);
      }
    },
    dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_7__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_7__.NgIf, _ntech_components_src_lib_kyc_answers_editor_kyc_answers_editor_component__WEBPACK_IMPORTED_MODULE_3__.KycAnswersEditorComponent],
    encapsulation: 2
  });
}

/***/ }),

/***/ 9198:
/*!*************************************************************************************************************!*\
  !*** ./projects/customerpages/src/app/mortgage-loan-applications/components/ml-shell/ml-shell.component.ts ***!
  \*************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MlShellComponent: () => (/* binding */ MlShellComponent)
/* harmony export */ });
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs */ 8071);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ 1699);
/* harmony import */ var _common_services_customer_pages_config_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../common-services/customer-pages-config.service */ 5716);
/* harmony import */ var _common_services_customerpages_event_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../common-services/customerpages-event.service */ 3211);
/* harmony import */ var _shared_components_customerpages_shell_customerpages_shell_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../shared-components/customerpages-shell/customerpages-shell.component */ 4277);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/common */ 6575);






function MlShellComponent_a_6_Template(rf, ctx) {
  if (rf & 1) {
    const _r2 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](0, "a", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵlistener"]("click", function MlShellComponent_a_6_Template_a_click_0_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵrestoreView"](_r2);
      const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵresetView"](ctx_r1.logOut($event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](1, "Logga ut");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
  }
}
const _c0 = [[["", "shell-body", ""]]];
const _c1 = () => ["/unsecured-loan-applications/overview"];
const _c2 = a0 => ({
  logoRouterLink: a0
});
const _c3 = ["[shell-body]"];
class MlShellComponent {
  constructor(config, eventService) {
    this.config = config;
    this.eventService = eventService;
    this.isLoading = new rxjs__WEBPACK_IMPORTED_MODULE_4__.BehaviorSubject(false);
  }
  ngOnInit() {
    this.eventService.isLoading.subscribe(x => {
      //Good old ExpressionChangedAfterItHasBeenCheckedError: https://stackoverflow.com/questions/49914840/expressionchangedafterithasbeencheckederror-on-loadingindicator
      Promise.resolve(null).then(() => this.isLoading.next(x));
    });
  }
  logOut(evt) {
    evt?.preventDefault();
    document.location.href = this.config.config()?.LogoutUrl;
  }
  static #_ = this.ɵfac = function MlShellComponent_Factory(t) {
    return new (t || MlShellComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵdirectiveInject"](_common_services_customer_pages_config_service__WEBPACK_IMPORTED_MODULE_0__.CustomerPagesConfigService), _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵdirectiveInject"](_common_services_customerpages_event_service__WEBPACK_IMPORTED_MODULE_1__.CustomerPagesEventService));
  };
  static #_2 = this.ɵcmp = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵdefineComponent"]({
    type: MlShellComponent,
    selectors: [["ml-shell"]],
    ngContentSelectors: _c3,
    decls: 7,
    vars: 5,
    consts: [[3, "initialData"], ["shell-body", ""], ["navigation-area", ""], [1, "navigation-list"], ["href", "#", "class", "n-direct-btn n-white-btn", 3, "click", 4, "ngIf"], ["href", "#", 1, "n-direct-btn", "n-white-btn", 3, "click"]],
    template: function MlShellComponent_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵprojectionDef"](_c0);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](0, "customerpages-shell", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementContainerStart"](1, 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵprojection"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementContainerEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementContainerStart"](3, 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](4, "ul", 3)(5, "li");
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](6, MlShellComponent_a_6_Template, 2, 0, "a", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementContainerEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
      }
      if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("initialData", _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵpureFunction1"](3, _c2, _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵpureFunction0"](2, _c1)));
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](6);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngIf", ctx.config == null ? null : ctx.config.isAuthenticated());
      }
    },
    dependencies: [_shared_components_customerpages_shell_customerpages_shell_component__WEBPACK_IMPORTED_MODULE_2__.CustomerpagesShellComponent, _angular_common__WEBPACK_IMPORTED_MODULE_5__.NgIf],
    encapsulation: 2
  });
}

/***/ }),

/***/ 9562:
/*!****************************************************************************************************************!*\
  !*** ./projects/customerpages/src/app/mortgage-loan-applications/mortgage-loan-applications-routing.module.ts ***!
  \****************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MortgageLoanApplicationsRoutingModule: () => (/* binding */ MortgageLoanApplicationsRoutingModule)
/* harmony export */ });
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/router */ 7947);
/* harmony import */ var _common_services_customer_pages_auth_guard__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../common-services/customer-pages.auth.guard */ 7423);
/* harmony import */ var _open_pages_application_created_application_created_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./open-pages/application-created/application-created.component */ 5962);
/* harmony import */ var _open_pages_loan_calculator_loan_calculator_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./open-pages/loan-calculator/loan-calculator.component */ 2149);
/* harmony import */ var _secure_pages_initial_application_start_webapplication_start_webapplication_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./secure-pages/initial-application/start-webapplication/start-webapplication.component */ 5030);
/* harmony import */ var _secure_pages_kyc_task_application_kyc_task_application_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./secure-pages/kyc-task-application/kyc-task-application.component */ 1127);
/* harmony import */ var _secure_pages_ongoing_application_ongoing_application_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./secure-pages/ongoing-application/ongoing-application.component */ 2775);
/* harmony import */ var _secure_pages_overview_overview_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./secure-pages/overview/overview.component */ 6535);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/core */ 1699);










const secureRoutes = [{
  path: 'webapplication/:sessionId/start',
  component: _secure_pages_initial_application_start_webapplication_start_webapplication_component__WEBPACK_IMPORTED_MODULE_3__.StartWebapplicationComponent
}, {
  path: 'overview',
  component: _secure_pages_overview_overview_component__WEBPACK_IMPORTED_MODULE_6__.OverviewComponent
}, {
  path: 'application/:applicationNr',
  component: _secure_pages_ongoing_application_ongoing_application_component__WEBPACK_IMPORTED_MODULE_5__.OngoingApplicationComponent
}, {
  path: 'application/:applicationNr/kyc',
  component: _secure_pages_kyc_task_application_kyc_task_application_component__WEBPACK_IMPORTED_MODULE_4__.KycTaskApplicationComponent
}];
const openRoutes = [{
  path: 'calculator',
  component: _open_pages_loan_calculator_loan_calculator_component__WEBPACK_IMPORTED_MODULE_2__.LoanCalculatorComponent
}, {
  path: 'application/:applicationNr/created',
  component: _open_pages_application_created_application_created_component__WEBPACK_IMPORTED_MODULE_1__.ApplicationCreatedComponent
}];
const features = ['ntech.feature.mortgageloans', 'ntech.feature.mortgageloans.standard'];
const routes = [{
  path: 'mortgage-loan-applications/secure',
  children: secureRoutes,
  resolve: {},
  data: {
    requireFeatures: features,
    requiredUserRole: 'EmbeddedCustomerPagesStandardCustomer'
  },
  canActivate: [_common_services_customer_pages_auth_guard__WEBPACK_IMPORTED_MODULE_0__.CustomerPagesAuthGuard]
}, {
  path: 'mortgage-loan-applications/open',
  children: openRoutes,
  resolve: {},
  data: {
    requireFeatures: features
  },
  canActivate: [_common_services_customer_pages_auth_guard__WEBPACK_IMPORTED_MODULE_0__.CustomerPagesAuthGuard]
}];
class MortgageLoanApplicationsRoutingModule {
  static #_ = this.ɵfac = function MortgageLoanApplicationsRoutingModule_Factory(t) {
    return new (t || MortgageLoanApplicationsRoutingModule)();
  };
  static #_2 = this.ɵmod = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdefineNgModule"]({
    type: MortgageLoanApplicationsRoutingModule
  });
  static #_3 = this.ɵinj = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdefineInjector"]({
    imports: [_angular_router__WEBPACK_IMPORTED_MODULE_8__.RouterModule.forChild(routes), _angular_router__WEBPACK_IMPORTED_MODULE_8__.RouterModule]
  });
}
(function () {
  (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵsetNgModuleScope"](MortgageLoanApplicationsRoutingModule, {
    imports: [_angular_router__WEBPACK_IMPORTED_MODULE_8__.RouterModule],
    exports: [_angular_router__WEBPACK_IMPORTED_MODULE_8__.RouterModule]
  });
})();

/***/ }),

/***/ 1555:
/*!********************************************************************************************************!*\
  !*** ./projects/customerpages/src/app/mortgage-loan-applications/mortgage-loan-applications.module.ts ***!
  \********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MortgageLoanApplicationsModule: () => (/* binding */ MortgageLoanApplicationsModule)
/* harmony export */ });
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @angular/common */ 6575);
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @angular/forms */ 8849);
/* harmony import */ var _mortgage_loan_applications_routing_module__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./mortgage-loan-applications-routing.module */ 9562);
/* harmony import */ var _secure_pages_initial_application_start_webapplication_start_webapplication_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./secure-pages/initial-application/start-webapplication/start-webapplication.component */ 5030);
/* harmony import */ var _open_pages_loan_calculator_loan_calculator_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./open-pages/loan-calculator/loan-calculator.component */ 2149);
/* harmony import */ var _components_ml_shell_ml_shell_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./components/ml-shell/ml-shell.component */ 9198);
/* harmony import */ var _open_pages_loan_calculator_calculator_tab_move_calculator_tab_move_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./open-pages/loan-calculator/calculator-tab-move/calculator-tab-move.component */ 3492);
/* harmony import */ var _open_pages_loan_calculator_calculator_tab_purchase_calculator_tab_purchase_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./open-pages/loan-calculator/calculator-tab-purchase/calculator-tab-purchase.component */ 5444);
/* harmony import */ var _open_pages_loan_calculator_calculator_tab_additionalloan_calculator_tab_additionalloan_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./open-pages/loan-calculator/calculator-tab-additionalloan/calculator-tab-additionalloan.component */ 8975);
/* harmony import */ var _secure_pages_initial_application_components_application_wizard_shell_application_wizard_shell_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./secure-pages/initial-application/components/application-wizard-shell/application-wizard-shell.component */ 6203);
/* harmony import */ var _secure_pages_initial_application_components_application_step_object_application_step_object_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./secure-pages/initial-application/components/application-step-object/application-step-object.component */ 6934);
/* harmony import */ var _secure_pages_initial_application_components_application_step_applicants_application_step_applicants_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./secure-pages/initial-application/components/application-step-applicants/application-step-applicants.component */ 4386);
/* harmony import */ var _secure_pages_initial_application_components_application_step_economy_application_step_economy_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./secure-pages/initial-application/components/application-step-economy/application-step-economy.component */ 1241);
/* harmony import */ var _secure_pages_initial_application_components_application_step_consent_application_step_consent_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./secure-pages/initial-application/components/application-step-consent/application-step-consent.component */ 6995);
/* harmony import */ var _open_pages_application_created_application_created_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./open-pages/application-created/application-created.component */ 5962);
/* harmony import */ var _shared_components_shared_components_module__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../shared-components/shared-components.module */ 7159);
/* harmony import */ var src_app_common_components_pipes_join_pipe__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! src/app/common-components/pipes/join.pipe */ 9375);
/* harmony import */ var _secure_pages_overview_overview_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./secure-pages/overview/overview.component */ 6535);
/* harmony import */ var _secure_pages_ongoing_application_ongoing_application_component__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./secure-pages/ongoing-application/ongoing-application.component */ 2775);
/* harmony import */ var _secure_pages_kyc_task_application_kyc_task_application_component__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./secure-pages/kyc-task-application/kyc-task-application.component */ 1127);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @angular/core */ 1699);






















class MortgageLoanApplicationsModule {
  static #_ = this.ɵfac = function MortgageLoanApplicationsModule_Factory(t) {
    return new (t || MortgageLoanApplicationsModule)();
  };
  static #_2 = this.ɵmod = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵdefineNgModule"]({
    type: MortgageLoanApplicationsModule
  });
  static #_3 = this.ɵinj = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵdefineInjector"]({
    imports: [_shared_components_shared_components_module__WEBPACK_IMPORTED_MODULE_13__.SharedComponentsModule, _angular_common__WEBPACK_IMPORTED_MODULE_19__.CommonModule, _angular_forms__WEBPACK_IMPORTED_MODULE_20__.FormsModule, _angular_forms__WEBPACK_IMPORTED_MODULE_20__.ReactiveFormsModule, _mortgage_loan_applications_routing_module__WEBPACK_IMPORTED_MODULE_0__.MortgageLoanApplicationsRoutingModule]
  });
}
(function () {
  (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵsetNgModuleScope"](MortgageLoanApplicationsModule, {
    declarations: [_secure_pages_initial_application_start_webapplication_start_webapplication_component__WEBPACK_IMPORTED_MODULE_1__.StartWebapplicationComponent, _open_pages_loan_calculator_loan_calculator_component__WEBPACK_IMPORTED_MODULE_2__.LoanCalculatorComponent, _components_ml_shell_ml_shell_component__WEBPACK_IMPORTED_MODULE_3__.MlShellComponent, _open_pages_loan_calculator_calculator_tab_move_calculator_tab_move_component__WEBPACK_IMPORTED_MODULE_4__.CalculatorTabMoveComponent, _open_pages_loan_calculator_calculator_tab_purchase_calculator_tab_purchase_component__WEBPACK_IMPORTED_MODULE_5__.CalculatorTabPurchaseComponent, _open_pages_loan_calculator_calculator_tab_additionalloan_calculator_tab_additionalloan_component__WEBPACK_IMPORTED_MODULE_6__.CalculatorTabAdditionalloanComponent, _secure_pages_initial_application_components_application_wizard_shell_application_wizard_shell_component__WEBPACK_IMPORTED_MODULE_7__.ApplicationWizardShellComponent, _secure_pages_initial_application_components_application_step_object_application_step_object_component__WEBPACK_IMPORTED_MODULE_8__.ApplicationStepObjectComponent, _secure_pages_initial_application_components_application_step_applicants_application_step_applicants_component__WEBPACK_IMPORTED_MODULE_9__.ApplicationStepApplicantsComponent, _secure_pages_initial_application_components_application_step_economy_application_step_economy_component__WEBPACK_IMPORTED_MODULE_10__.ApplicationStepEconomyComponent, _secure_pages_initial_application_components_application_step_consent_application_step_consent_component__WEBPACK_IMPORTED_MODULE_11__.ApplicationStepConsentComponent, _open_pages_application_created_application_created_component__WEBPACK_IMPORTED_MODULE_12__.ApplicationCreatedComponent, src_app_common_components_pipes_join_pipe__WEBPACK_IMPORTED_MODULE_14__.JoinPipe, _secure_pages_overview_overview_component__WEBPACK_IMPORTED_MODULE_15__.OverviewComponent, _secure_pages_ongoing_application_ongoing_application_component__WEBPACK_IMPORTED_MODULE_16__.OngoingApplicationComponent, _secure_pages_kyc_task_application_kyc_task_application_component__WEBPACK_IMPORTED_MODULE_17__.KycTaskApplicationComponent],
    imports: [_shared_components_shared_components_module__WEBPACK_IMPORTED_MODULE_13__.SharedComponentsModule, _angular_common__WEBPACK_IMPORTED_MODULE_19__.CommonModule, _angular_forms__WEBPACK_IMPORTED_MODULE_20__.FormsModule, _angular_forms__WEBPACK_IMPORTED_MODULE_20__.ReactiveFormsModule, _mortgage_loan_applications_routing_module__WEBPACK_IMPORTED_MODULE_0__.MortgageLoanApplicationsRoutingModule]
  });
})();
_angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵsetComponentScope"](_secure_pages_initial_application_start_webapplication_start_webapplication_component__WEBPACK_IMPORTED_MODULE_1__.StartWebapplicationComponent, [_angular_common__WEBPACK_IMPORTED_MODULE_19__.NgClass, _angular_common__WEBPACK_IMPORTED_MODULE_19__.NgIf, _angular_common__WEBPACK_IMPORTED_MODULE_19__.NgSwitch, _angular_common__WEBPACK_IMPORTED_MODULE_19__.NgSwitchCase, _secure_pages_initial_application_components_application_wizard_shell_application_wizard_shell_component__WEBPACK_IMPORTED_MODULE_7__.ApplicationWizardShellComponent, _secure_pages_initial_application_components_application_step_object_application_step_object_component__WEBPACK_IMPORTED_MODULE_8__.ApplicationStepObjectComponent, _secure_pages_initial_application_components_application_step_applicants_application_step_applicants_component__WEBPACK_IMPORTED_MODULE_9__.ApplicationStepApplicantsComponent, _secure_pages_initial_application_components_application_step_economy_application_step_economy_component__WEBPACK_IMPORTED_MODULE_10__.ApplicationStepEconomyComponent, _secure_pages_initial_application_components_application_step_consent_application_step_consent_component__WEBPACK_IMPORTED_MODULE_11__.ApplicationStepConsentComponent], []);
_angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵsetComponentScope"](_open_pages_loan_calculator_loan_calculator_component__WEBPACK_IMPORTED_MODULE_2__.LoanCalculatorComponent, [_angular_common__WEBPACK_IMPORTED_MODULE_19__.NgIf, _angular_common__WEBPACK_IMPORTED_MODULE_19__.NgSwitch, _angular_common__WEBPACK_IMPORTED_MODULE_19__.NgSwitchCase, _components_ml_shell_ml_shell_component__WEBPACK_IMPORTED_MODULE_3__.MlShellComponent, _open_pages_loan_calculator_calculator_tab_move_calculator_tab_move_component__WEBPACK_IMPORTED_MODULE_4__.CalculatorTabMoveComponent, _open_pages_loan_calculator_calculator_tab_purchase_calculator_tab_purchase_component__WEBPACK_IMPORTED_MODULE_5__.CalculatorTabPurchaseComponent, _open_pages_loan_calculator_calculator_tab_additionalloan_calculator_tab_additionalloan_component__WEBPACK_IMPORTED_MODULE_6__.CalculatorTabAdditionalloanComponent], [_angular_common__WEBPACK_IMPORTED_MODULE_19__.DecimalPipe]);

/***/ }),

/***/ 5962:
/*!***********************************************************************************************************************************!*\
  !*** ./projects/customerpages/src/app/mortgage-loan-applications/open-pages/application-created/application-created.component.ts ***!
  \***********************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ApplicationCreatedComponent: () => (/* binding */ ApplicationCreatedComponent)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ 1699);
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ 7947);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common */ 6575);
/* harmony import */ var _components_ml_shell_ml_shell_component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../components/ml-shell/ml-shell.component */ 9198);




function ApplicationCreatedComponent_div_2_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 2)(1, "div", 3)(2, "div", 4)(3, "div", 5)(4, "h1", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](5, "Ans\u00F6kan inskickad");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](6, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](7);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()()()();
  }
  if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](7);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" Din ans\u00F6kan ", ctx_r0.m.applicationNr, " behandlas nu och du kommer att f\u00E5 ett besked inom kort. ");
  }
}
class ApplicationCreatedComponent {
  constructor(route) {
    this.route = route;
  }
  ngOnInit() {
    this.m = {
      applicationNr: this.route.snapshot.params['applicationNr']
    };
  }
  static #_ = this.ɵfac = function ApplicationCreatedComponent_Factory(t) {
    return new (t || ApplicationCreatedComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_2__.ActivatedRoute));
  };
  static #_2 = this.ɵcmp = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
    type: ApplicationCreatedComponent,
    selectors: [["np-application-created"]],
    decls: 3,
    vars: 1,
    consts: [["shell-body", ""], ["class", "row", 4, "ngIf"], [1, "row"], [1, "col-xs-12"], [1, "flex-container"], [1, "align-center", "frame"], [1, "header-light", "text-center", "pb-3"]],
    template: function ApplicationCreatedComponent_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "ml-shell")(1, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](2, ApplicationCreatedComponent_div_2_Template, 8, 1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
      }
      if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.m);
      }
    },
    dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_3__.NgIf, _components_ml_shell_ml_shell_component__WEBPACK_IMPORTED_MODULE_0__.MlShellComponent],
    encapsulation: 2
  });
}
class Model {}

/***/ }),

/***/ 8975:
/*!***********************************************************************************************************************************************************************!*\
  !*** ./projects/customerpages/src/app/mortgage-loan-applications/open-pages/loan-calculator/calculator-tab-additionalloan/calculator-tab-additionalloan.component.ts ***!
  \***********************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CalculatorAdditionalLoanData: () => (/* binding */ CalculatorAdditionalLoanData),
/* harmony export */   CalculatorTabAdditionalloanComponent: () => (/* binding */ CalculatorTabAdditionalloanComponent)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ 1699);
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ 8849);
/* harmony import */ var src_app_common_services_ntech_forms_helper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! src/app/common-services/ntech-forms-helper */ 7093);
/* harmony import */ var _shared_components_calculator_slider_calculator_slider_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../shared-components/calculator-slider/calculator-slider.component */ 738);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common */ 6575);







class CalculatorTabAdditionalloanComponent {
  constructor(fb) {
    this.fb = fb;
    this.additionalLoanDataChanged = new _angular_core__WEBPACK_IMPORTED_MODULE_2__.EventEmitter();
    this.subs = [];
  }
  ngOnInit() {
    let set = this.settings;
    let initialAdditionalLoanData = {
      isValid: true,
      objectValueAmount: this.getStartValue(set.MinEstimatedValue, set.MaxEstimatedValue, 0.7),
      currentDebtAmount: this.getStartValue(set.MinCurrentMortgageLoanAmount, set.MaxCurrentMortgageLoanAmount, 0.3),
      paidToCustomerAmount: this.getStartValue(set.MinAdditionalLoanAmount, set.MaxAdditionalLoanAmount, 0.3)
    };
    let f = this.fb.group({
      objectValueAmount: [initialAdditionalLoanData.objectValueAmount, [_angular_forms__WEBPACK_IMPORTED_MODULE_3__.Validators.required]],
      currentDebtAmount: [initialAdditionalLoanData.currentDebtAmount, [_angular_forms__WEBPACK_IMPORTED_MODULE_3__.Validators.required]],
      paidToCustomerAmount: [initialAdditionalLoanData.paidToCustomerAmount, [_angular_forms__WEBPACK_IMPORTED_MODULE_3__.Validators.required]]
    });
    let form = new src_app_common_services_ntech_forms_helper__WEBPACK_IMPORTED_MODULE_0__.FormsHelper(f);
    this.m = {
      form: form,
      currentDebtAmountSliderData: {
        minValue: set.MinCurrentMortgageLoanAmount,
        maxValue: set.MaxCurrentMortgageLoanAmount,
        stepSize: 10000,
        tickButtonStepSize: 1000,
        formControlName: 'currentDebtAmount',
        form: form
      },
      objectValueAmountSliderData: {
        minValue: set.MinEstimatedValue,
        maxValue: set.MaxEstimatedValue,
        stepSize: 10000,
        tickButtonStepSize: 1000,
        formControlName: 'objectValueAmount',
        form: form
      },
      paidToCustomerAmountSliderData: {
        minValue: set.MinAdditionalLoanAmount,
        maxValue: set.MaxAdditionalLoanAmount,
        stepSize: 1000,
        tickButtonStepSize: 1000,
        formControlName: 'paidToCustomerAmount',
        form: form
      }
    };
    this.additionalLoanDataChanged.emit(initialAdditionalLoanData);
    this.subs.push(f.valueChanges.subscribe(_ => {
      let f = this.m.form;
      if (f.invalid()) {
        this.additionalLoanDataChanged.emit({
          isValid: false
        });
      } else {
        this.additionalLoanDataChanged.emit({
          isValid: true,
          paidToCustomerAmount: parseInt(f.getValue('paidToCustomerAmount')),
          objectValueAmount: parseInt(f.getValue('objectValueAmount')),
          currentDebtAmount: parseInt(f.getValue('currentDebtAmount'))
        });
      }
    }));
  }
  getStartValue(min, max, multi) {
    return min + (max - min) * multi;
  }
  ngOnDestroy() {
    if (this.subs) {
      for (let sub of this.subs) {
        sub.unsubscribe();
        this.subs = [];
      }
    }
  }
  static #_ = this.ɵfac = function CalculatorTabAdditionalloanComponent_Factory(t) {
    return new (t || CalculatorTabAdditionalloanComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdirectiveInject"](_angular_forms__WEBPACK_IMPORTED_MODULE_3__.UntypedFormBuilder));
  };
  static #_2 = this.ɵcmp = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineComponent"]({
    type: CalculatorTabAdditionalloanComponent,
    selectors: [["calculator-tab-additionalloan"]],
    inputs: {
      settings: "settings"
    },
    outputs: {
      additionalLoanDataChanged: "additionalLoanDataChanged"
    },
    decls: 24,
    vars: 15,
    consts: [[1, "row", "text-center", "pt-3"], [1, "col-sm-12"], [3, "initialData"]],
    template: function CalculatorTabAdditionalloanComponent_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](0, "div", 0)(1, "div", 1)(2, "p");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](3, "Hur mycket vill du l\u00E5na?");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](4, "h2");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipe"](6, "number");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]()()();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelement"](7, "calculator-slider", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](8, "div", 0)(9, "div", 1)(10, "p");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](11, "Hur mycket har du i befintliga bol\u00E5n?");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](12, "h2");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](13);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipe"](14, "number");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]()()();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelement"](15, "calculator-slider", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](16, "div", 0)(17, "div", 1)(18, "p");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](19, "Vad \u00E4r det uppskattade v\u00E4rdet p\u00E5 bostaden?");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](20, "h2");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](21);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipe"](22, "number");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]()()();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelement"](23, "calculator-slider", 2);
      }
      if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtextInterpolate1"]("", _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipeBind2"](6, 6, ctx.m.form.getValue("paidToCustomerAmount"), "1.0-2"), " kr");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("initialData", ctx.m.paidToCustomerAmountSliderData);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](6);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtextInterpolate1"]("", _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipeBind2"](14, 9, ctx.m.form.getValue("currentDebtAmount"), "1.0-2"), " kr");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("initialData", ctx.m.currentDebtAmountSliderData);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](6);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtextInterpolate1"]("", _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipeBind2"](22, 12, ctx.m.form.getValue("objectValueAmount"), "1.0-2"), " kr");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("initialData", ctx.m.objectValueAmountSliderData);
      }
    },
    dependencies: [_shared_components_calculator_slider_calculator_slider_component__WEBPACK_IMPORTED_MODULE_1__.CalculatorSliderComponent, _angular_common__WEBPACK_IMPORTED_MODULE_4__.DecimalPipe],
    encapsulation: 2
  });
}
class Model {}
class CalculatorAdditionalLoanData {}

/***/ }),

/***/ 3492:
/*!***************************************************************************************************************************************************!*\
  !*** ./projects/customerpages/src/app/mortgage-loan-applications/open-pages/loan-calculator/calculator-tab-move/calculator-tab-move.component.ts ***!
  \***************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CalculatorMoveData: () => (/* binding */ CalculatorMoveData),
/* harmony export */   CalculatorTabMoveComponent: () => (/* binding */ CalculatorTabMoveComponent)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ 1699);
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ 8849);
/* harmony import */ var src_app_common_services_ntech_forms_helper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! src/app/common-services/ntech-forms-helper */ 7093);
/* harmony import */ var _shared_components_calculator_slider_calculator_slider_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../shared-components/calculator-slider/calculator-slider.component */ 738);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common */ 6575);







function CalculatorTabMoveComponent_div_22_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](0, "div", 1)(1, "div", 2)(2, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](3, "Hur mycket extra vill du l\u00E5na?");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](4, "h2");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipe"](6, "number");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]()()();
  }
  if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipeBind2"](6, 1, ctx_r0.m.form.getValue("paidToCustomerAmount"), "1.0-2"), " kr ");
  }
}
function CalculatorTabMoveComponent_calculator_slider_23_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelement"](0, "calculator-slider", 3);
  }
  if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("initialData", ctx_r1.m.paidToCustomerAmountSliderData);
  }
}
class CalculatorTabMoveComponent {
  constructor(fb) {
    this.fb = fb;
    this.moveDataChanged = new _angular_core__WEBPACK_IMPORTED_MODULE_2__.EventEmitter();
    this.subs = [];
  }
  ngOnInit() {
    if (!this.settings) {
      return;
    }
    let set = this.settings;
    let initialMoveData = {
      isValid: true,
      objectValueAmount: this.getStartValue(set.MinEstimatedValue, set.MaxEstimatedValue, 0.7),
      currentDebtAmount: this.getStartValue(set.MinCurrentMortgageLoanAmount, set.MaxCurrentMortgageLoanAmount, 0.3),
      paidToCustomerAmount: 0
    };
    let f = this.fb.group({
      objectValueAmount: [initialMoveData.objectValueAmount, [_angular_forms__WEBPACK_IMPORTED_MODULE_3__.Validators.required]],
      currentDebtAmount: [initialMoveData.currentDebtAmount, [_angular_forms__WEBPACK_IMPORTED_MODULE_3__.Validators.required]],
      paidToCustomerAmount: [initialMoveData.paidToCustomerAmount, [_angular_forms__WEBPACK_IMPORTED_MODULE_3__.Validators.required]],
      isPayoutRequested: [false, []] //This is just used to hide/show the paidToCustomerAmount slider, it has no semanti meaning in the model
    });
    let form = new src_app_common_services_ntech_forms_helper__WEBPACK_IMPORTED_MODULE_0__.FormsHelper(f);
    this.m = {
      form: form,
      currentDebtAmountSliderData: {
        minValue: set.MinCurrentMortgageLoanAmount,
        maxValue: set.MaxCurrentMortgageLoanAmount,
        stepSize: 10000,
        tickButtonStepSize: 1000,
        formControlName: 'currentDebtAmount',
        form: form
      },
      objectValueAmountSliderData: {
        minValue: set.MinEstimatedValue,
        maxValue: set.MaxEstimatedValue,
        stepSize: 10000,
        tickButtonStepSize: 1000,
        formControlName: 'objectValueAmount',
        form: form
      },
      paidToCustomerAmountSliderData: {
        minValue: set.MinAdditionalLoanAmount,
        maxValue: set.MaxAdditionalLoanAmount,
        stepSize: 1000,
        tickButtonStepSize: 1000,
        formControlName: 'paidToCustomerAmount',
        form: form
      }
    };
    this.moveDataChanged.emit(initialMoveData);
    this.subs.push(f.valueChanges.subscribe(_ => {
      let f = this.m.form;
      let isChecked = f.getValue('isPayoutRequested');
      if (f.invalid()) {
        this.moveDataChanged.emit({
          isValid: false
        });
      } else {
        this.moveDataChanged.emit({
          isValid: true,
          paidToCustomerAmount: isChecked ? parseInt(f.getValue('paidToCustomerAmount')) : 0,
          objectValueAmount: parseInt(f.getValue('objectValueAmount')),
          currentDebtAmount: parseInt(f.getValue('currentDebtAmount'))
        });
      }
    }));
  }
  getStartValue(min, max, multi) {
    return min + (max - min) * multi;
  }
  ngOnDestroy() {
    if (this.subs) {
      for (let sub of this.subs) {
        sub.unsubscribe();
        this.subs = [];
      }
    }
  }
  static #_ = this.ɵfac = function CalculatorTabMoveComponent_Factory(t) {
    return new (t || CalculatorTabMoveComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdirectiveInject"](_angular_forms__WEBPACK_IMPORTED_MODULE_3__.UntypedFormBuilder));
  };
  static #_2 = this.ɵcmp = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineComponent"]({
    type: CalculatorTabMoveComponent,
    selectors: [["calculator-tab-move"]],
    inputs: {
      settings: "settings"
    },
    outputs: {
      moveDataChanged: "moveDataChanged"
    },
    decls: 24,
    vars: 13,
    consts: [[3, "formGroup"], [1, "row", "text-center", "pt-3"], [1, "col-sm-12"], [3, "initialData"], [1, "pt-1"], [1, "checkbox"], ["type", "checkbox", "formControlName", "isPayoutRequested"], ["class", "row text-center pt-3", 4, "ngIf"], [3, "initialData", 4, "ngIf"]],
    template: function CalculatorTabMoveComponent_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](0, "form", 0)(1, "div", 1)(2, "div", 2)(3, "p");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](4, "Hur mycket har du i befintliga bol\u00E5n?");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](5, "h2");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](6);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipe"](7, "number");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]()()();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelement"](8, "calculator-slider", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](9, "div", 1)(10, "div", 2)(11, "p");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](12, "Vad \u00E4r det uppskattade v\u00E4rdet p\u00E5 bostaden?");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](13, "h2");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](14);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipe"](15, "number");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]()()();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelement"](16, "calculator-slider", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](17, "div", 4)(18, "div", 5)(19, "label");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelement"](20, "input", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](21, " Jag vill ut\u00F6ka l\u00E5net");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]()()();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](22, CalculatorTabMoveComponent_div_22_Template, 7, 4, "div", 7)(23, CalculatorTabMoveComponent_calculator_slider_23_Template, 1, 1, "calculator-slider", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
      }
      if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("formGroup", ctx.m.form.form);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](6);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtextInterpolate1"]("", _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipeBind2"](7, 7, ctx.m.form.getValue("currentDebtAmount"), "1.0-2"), " kr");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("initialData", ctx.m.currentDebtAmountSliderData);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](6);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtextInterpolate1"]("", _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipeBind2"](15, 10, ctx.m.form.getValue("objectValueAmount"), "1.0-2"), " kr");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("initialData", ctx.m.objectValueAmountSliderData);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](6);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngIf", ctx.m.form.getValue("isPayoutRequested"));
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngIf", ctx.m.form.getValue("isPayoutRequested"));
      }
    },
    dependencies: [_shared_components_calculator_slider_calculator_slider_component__WEBPACK_IMPORTED_MODULE_1__.CalculatorSliderComponent, _angular_common__WEBPACK_IMPORTED_MODULE_4__.NgIf, _angular_forms__WEBPACK_IMPORTED_MODULE_3__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_3__.CheckboxControlValueAccessor, _angular_forms__WEBPACK_IMPORTED_MODULE_3__.NgControlStatus, _angular_forms__WEBPACK_IMPORTED_MODULE_3__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_3__.FormGroupDirective, _angular_forms__WEBPACK_IMPORTED_MODULE_3__.FormControlName, _angular_common__WEBPACK_IMPORTED_MODULE_4__.DecimalPipe],
    encapsulation: 2
  });
}
class Model {}
class CalculatorMoveData {}

/***/ }),

/***/ 5444:
/*!***********************************************************************************************************************************************************!*\
  !*** ./projects/customerpages/src/app/mortgage-loan-applications/open-pages/loan-calculator/calculator-tab-purchase/calculator-tab-purchase.component.ts ***!
  \***********************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CalculatorPurchaseData: () => (/* binding */ CalculatorPurchaseData),
/* harmony export */   CalculatorTabPurchaseComponent: () => (/* binding */ CalculatorTabPurchaseComponent)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ 1699);
/* harmony import */ var src_app_common_services_ntech_forms_helper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! src/app/common-services/ntech-forms-helper */ 7093);
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ 8849);
/* harmony import */ var _shared_components_calculator_slider_calculator_slider_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../shared-components/calculator-slider/calculator-slider.component */ 738);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common */ 6575);







class CalculatorTabPurchaseComponent {
  constructor(fb) {
    this.fb = fb;
    this.purchaseDataChanged = new _angular_core__WEBPACK_IMPORTED_MODULE_2__.EventEmitter();
    this.subs = [];
  }
  ngOnInit() {
    let set = this.settings;
    let initialPurchaseData = {
      isValid: true,
      objectPriceAmount: this.getStartValue(set.MinEstimatedValue, set.MaxEstimatedValue, 0.7),
      ownSavingsAmount: this.getStartValue(set.MinCashAmount, set.MaxCashAmount, 0.3)
    };
    let f = this.fb.group({
      objectPriceAmount: [initialPurchaseData.objectPriceAmount, [_angular_forms__WEBPACK_IMPORTED_MODULE_3__.Validators.required]],
      ownSavingsAmount: [initialPurchaseData.ownSavingsAmount, [_angular_forms__WEBPACK_IMPORTED_MODULE_3__.Validators.required]]
    });
    let form = new src_app_common_services_ntech_forms_helper__WEBPACK_IMPORTED_MODULE_0__.FormsHelper(f);
    this.m = {
      form: form,
      objectPriceSliderData: {
        minValue: set.MinEstimatedValue,
        maxValue: set.MaxEstimatedValue,
        stepSize: 10000,
        tickButtonStepSize: 1000,
        formControlName: 'objectPriceAmount',
        form: form
      },
      ownSavingsSliderData: {
        minValue: set.MinCashAmount,
        maxValue: set.MaxCashAmount,
        stepSize: 1000,
        tickButtonStepSize: 1000,
        formControlName: 'ownSavingsAmount',
        form: form
      }
    };
    this.purchaseDataChanged.emit(initialPurchaseData);
    this.subs.push(f.valueChanges.subscribe(_ => {
      let f = this.m.form;
      if (f.invalid()) {
        this.purchaseDataChanged.emit({
          isValid: false
        });
      } else {
        this.purchaseDataChanged.emit({
          isValid: true,
          objectPriceAmount: parseInt(f.getValue('objectPriceAmount')),
          ownSavingsAmount: parseInt(f.getValue('ownSavingsAmount'))
        });
      }
    }));
  }
  getStartValue(min, max, multi) {
    return min + (max - min) * multi;
  }
  ngOnDestroy() {
    if (this.subs) {
      for (let sub of this.subs) {
        sub.unsubscribe();
        this.subs = [];
      }
    }
  }
  static #_ = this.ɵfac = function CalculatorTabPurchaseComponent_Factory(t) {
    return new (t || CalculatorTabPurchaseComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdirectiveInject"](_angular_forms__WEBPACK_IMPORTED_MODULE_3__.UntypedFormBuilder));
  };
  static #_2 = this.ɵcmp = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineComponent"]({
    type: CalculatorTabPurchaseComponent,
    selectors: [["calculator-tab-purchase"]],
    inputs: {
      settings: "settings"
    },
    outputs: {
      purchaseDataChanged: "purchaseDataChanged"
    },
    decls: 17,
    vars: 11,
    consts: [[3, "formGroup"], [1, "row", "text-center", "pt-3"], [1, "col-sm-12"], [3, "initialData"]],
    template: function CalculatorTabPurchaseComponent_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](0, "form", 0)(1, "div", 1)(2, "div", 2)(3, "p");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](4, "Vad \u00E4r priset p\u00E5 bostaden?");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](5, "h2");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](6);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipe"](7, "number");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]()()();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelement"](8, "calculator-slider", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](9, "div", 1)(10, "div", 2)(11, "p");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](12, "Hur mycket kan du l\u00E4gga i kontantinsats?");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](13, "h2");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](14);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipe"](15, "number");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]()()();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelement"](16, "calculator-slider", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
      }
      if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("formGroup", ctx.m.form.form);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](6);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtextInterpolate1"]("", _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipeBind2"](7, 5, ctx.m.form.getValue("objectPriceAmount"), "1.0-2"), " kr");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("initialData", ctx.m.objectPriceSliderData);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](6);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtextInterpolate1"]("", _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipeBind2"](15, 8, ctx.m.form.getValue("ownSavingsAmount"), "1.0-2"), " kr");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("initialData", ctx.m.ownSavingsSliderData);
      }
    },
    dependencies: [_shared_components_calculator_slider_calculator_slider_component__WEBPACK_IMPORTED_MODULE_1__.CalculatorSliderComponent, _angular_forms__WEBPACK_IMPORTED_MODULE_3__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_3__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_3__.FormGroupDirective, _angular_common__WEBPACK_IMPORTED_MODULE_4__.DecimalPipe],
    encapsulation: 2
  });
}
class Model {}
class CalculatorPurchaseData {}

/***/ }),

/***/ 2149:
/*!***************************************************************************************************************************!*\
  !*** ./projects/customerpages/src/app/mortgage-loan-applications/open-pages/loan-calculator/loan-calculator.component.ts ***!
  \***************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LoanCalculatorComponent: () => (/* binding */ LoanCalculatorComponent),
/* harmony export */   MortgageLoanWebappSettings: () => (/* binding */ MortgageLoanWebappSettings)
/* harmony export */ });
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! moment */ 8540);
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var src_app_common_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/app/common.types */ 198);
/* harmony import */ var _secure_pages_initial_application_start_webapplication_start_webapplication_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../secure-pages/initial-application/start-webapplication/start-webapplication.component */ 5030);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/core */ 1699);
/* harmony import */ var _common_services_customer_pages_config_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../common-services/customer-pages-config.service */ 5716);
/* harmony import */ var _common_services_customerpages_event_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../common-services/customerpages-event.service */ 3211);
/* harmony import */ var _common_services_customer_pages_validation_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../common-services/customer-pages-validation.service */ 423);







function LoanCalculatorComponent_div_2_div_9_Template(rf, ctx) {
  if (rf & 1) {
    const _r10 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "div", 24)(1, "a", 25);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵlistener"]("click", function LoanCalculatorComponent_div_2_div_9_Template_a_click_1_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵrestoreView"](_r10);
      const ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"](2);
      return _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵresetView"](ctx_r9.setActiveTab("move", $event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](2, "span", 26);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](3, "Flytta ditt bol\u00E5n");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](4, " till oss");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵclassProp"]("active", ctx_r2.m.currentTabName === "move");
  }
}
function LoanCalculatorComponent_div_2_div_10_Template(rf, ctx) {
  if (rf & 1) {
    const _r12 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "div", 27)(1, "a", 25);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵlistener"]("click", function LoanCalculatorComponent_div_2_div_10_Template_a_click_1_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵrestoreView"](_r12);
      const ctx_r11 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"](2);
      return _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵresetView"](ctx_r11.setActiveTab("purchase", $event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](2, "Bol\u00E5n f\u00F6r att ");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](3, "span", 26);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](4, "k\u00F6pa bostad");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()()();
  }
  if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵclassProp"]("active", ctx_r3.m.currentTabName === "purchase");
  }
}
function LoanCalculatorComponent_div_2_div_11_Template(rf, ctx) {
  if (rf & 1) {
    const _r14 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "div", 28)(1, "a", 25);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵlistener"]("click", function LoanCalculatorComponent_div_2_div_11_Template_a_click_1_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵrestoreView"](_r14);
      const ctx_r13 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"](2);
      return _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵresetView"](ctx_r13.setActiveTab("additionalloan", $event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](2, "span", 26);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](3, "Bel\u00E5na");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](4, " din bostad");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵclassProp"]("active", ctx_r4.m.currentTabName === "additionalloan");
  }
}
function LoanCalculatorComponent_div_2_calculator_tab_move_13_Template(rf, ctx) {
  if (rf & 1) {
    const _r16 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "calculator-tab-move", 29);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵlistener"]("moveDataChanged", function LoanCalculatorComponent_div_2_calculator_tab_move_13_Template_calculator_tab_move_moveDataChanged_0_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵrestoreView"](_r16);
      const ctx_r15 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"](2);
      return _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵresetView"](ctx_r15.onCalculatorMoveDataChanged($event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("settings", ctx_r5.m.settings);
  }
}
function LoanCalculatorComponent_div_2_calculator_tab_purchase_14_Template(rf, ctx) {
  if (rf & 1) {
    const _r18 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "calculator-tab-purchase", 30);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵlistener"]("purchaseDataChanged", function LoanCalculatorComponent_div_2_calculator_tab_purchase_14_Template_calculator_tab_purchase_purchaseDataChanged_0_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵrestoreView"](_r18);
      const ctx_r17 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"](2);
      return _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵresetView"](ctx_r17.onPurchaseDataChanged($event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("settings", ctx_r6.m.settings);
  }
}
function LoanCalculatorComponent_div_2_calculator_tab_additionalloan_15_Template(rf, ctx) {
  if (rf & 1) {
    const _r20 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "calculator-tab-additionalloan", 31);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵlistener"]("additionalLoanDataChanged", function LoanCalculatorComponent_div_2_calculator_tab_additionalloan_15_Template_calculator_tab_additionalloan_additionalLoanDataChanged_0_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵrestoreView"](_r20);
      const ctx_r19 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"](2);
      return _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵresetView"](ctx_r19.onCalculatorAdditionalLoanDataChanged($event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("settings", ctx_r7.m.settings);
  }
}
function LoanCalculatorComponent_div_2_div_55_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "div", 32);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpipe"](2, "number");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtextInterpolate1"](" Maximal bel\u00E5ningsgrad \u00E4r ", _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpipeBind2"](2, 1, ctx_r8.m == null ? null : ctx_r8.m.settings.MaxLoanToValuePercent, "1.0-2"), "%. ");
  }
}
function LoanCalculatorComponent_div_2_Template(rf, ctx) {
  if (rf & 1) {
    const _r22 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "div", 2)(1, "div", 3)(2, "div", 4)(3, "div", 5)(4, "h1", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](5, "V\u00E5ra bol\u00E5n");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](6, "p", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](7, "Vad vill du g\u00F6ra?");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](8, "div", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtemplate"](9, LoanCalculatorComponent_div_2_div_9_Template, 5, 2, "div", 9)(10, LoanCalculatorComponent_div_2_div_10_Template, 5, 2, "div", 10)(11, LoanCalculatorComponent_div_2_div_11_Template, 5, 2, "div", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementContainerStart"](12, 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtemplate"](13, LoanCalculatorComponent_div_2_calculator_tab_move_13_Template, 1, 1, "calculator-tab-move", 13)(14, LoanCalculatorComponent_div_2_calculator_tab_purchase_14_Template, 1, 1, "calculator-tab-purchase", 14)(15, LoanCalculatorComponent_div_2_calculator_tab_additionalloan_15_Template, 1, 1, "calculator-tab-additionalloan", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementContainerEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](16, "div", 16)(17, "div", 2)(18, "div", 17)(19, "div", 18)(20, "label", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](21, "Du \u00F6nskar l\u00E5na");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](22, "p", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](23);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpipe"](24, "number");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](25, "div", 19)(26, "div", 18)(27, "label", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](28, "M\u00E5nadskostnad");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](29, "p", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](30);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpipe"](31, "number");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](32, "div", 19)(33, "div", 18)(34, "label", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](35, "Exempelr\u00E4nta");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](36, "p", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](37);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpipe"](38, "number");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](39, "div", 2)(40, "div", 17)(41, "div", 18)(42, "label", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](43, "Bel\u00E5ningsgraden blir");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](44, "p", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](45);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpipe"](46, "number");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](47, "div", 19)(48, "div", 18)(49, "label", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](50, "Amorteringstakt");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](51, "p", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](52);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpipe"](53, "number");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()()()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelement"](54, "div", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtemplate"](55, LoanCalculatorComponent_div_2_div_55_Template, 3, 4, "div", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](56, "div", 22)(57, "button", 23);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵlistener"]("click", function LoanCalculatorComponent_div_2_Template_button_click_57_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵrestoreView"](_r22);
      const ctx_r21 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵresetView"](ctx_r21.apply($event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](58, "G\u00E5 vidare");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()()()()()();
  }
  if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](9);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngIf", ctx_r0.m == null ? null : ctx_r0.m.settings == null ? null : ctx_r0.m.settings.IsMoveTabActive);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngIf", ctx_r0.m == null ? null : ctx_r0.m.settings == null ? null : ctx_r0.m.settings.IsPurchaseTabActive);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngIf", ctx_r0.m == null ? null : ctx_r0.m.settings == null ? null : ctx_r0.m.settings.IsAdditionalLoanTabActive);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngSwitch", ctx_r0.m.currentTabName);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngSwitchCase", "move");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngSwitchCase", "purchase");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngSwitchCase", "additionalloan");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](8);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtextInterpolate1"]("", _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpipeBind2"](24, 14, ctx_r0.m == null ? null : ctx_r0.m.summary == null ? null : ctx_r0.m.summary.wishToBorrowAmount, "1.0-2"), " kr");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](7);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtextInterpolate1"]("", _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpipeBind2"](31, 17, ctx_r0.m == null ? null : ctx_r0.m.summary == null ? null : ctx_r0.m.summary.monthlyCostAmount, "1.0-0"), " kr");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](7);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtextInterpolate1"]("", _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpipeBind2"](38, 20, ctx_r0.m == null ? null : ctx_r0.m.summary == null ? null : ctx_r0.m.summary.exampleInterestRate, "1.0-4"), "%");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](8);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtextInterpolate1"]("", _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpipeBind2"](46, 23, ctx_r0.m == null ? null : ctx_r0.m.summary == null ? null : ctx_r0.m.summary.loanToValueAmount, "1.0-0"), "%");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](7);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtextInterpolate1"]("", _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpipeBind2"](53, 26, ctx_r0.m == null ? null : ctx_r0.m.summary == null ? null : ctx_r0.m.summary.amortizationRatePercent, "1.0-2"), "%");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngIf", !(ctx_r0.m == null ? null : ctx_r0.m.isValid().loanToValueAmountIsValod));
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("disabled", !ctx_r0.m.isValid().valid);
  }
}
function LoanCalculatorComponent_div_3_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "div", 2)(1, "div", 3)(2, "div", 4)(3, "div", 5)(4, "h1", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](5, "V\u00E5ra bol\u00E5n");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](6, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](7, "F\u00F6r tillf\u00E4lligt har vi inga aktiva produkter.");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()()()()();
  }
}
class LoanCalculatorComponent {
  constructor(configService, changeDetector, eventService, validationService) {
    this.configService = configService;
    this.changeDetector = changeDetector;
    this.eventService = eventService;
    this.validationService = validationService;
  }
  ngOnInit() {
    this.configService.fetchMlWebappSettings().toPromise().then(x => {
      let settings = new MortgageLoanWebappSettings(x.MortgageLoanExternalApplicationSettings, this.validationService);
      let startTab = settings.IsPurchaseTabActive ? 'purchase' : settings.IsAdditionalLoanTabActive ? 'additionalloan' : settings.IsMoveTabActive ? 'move' : null;
      this.m = new Model(startTab, settings);
      this.calculateSummary();
    });
  }
  apply(evt) {
    evt?.preventDefault();
    let sessionId = (0,src_app_common_types__WEBPACK_IMPORTED_MODULE_1__.generateUniqueId)(10);
    let session = {
      sessionId: sessionId,
      creationDate: moment__WEBPACK_IMPORTED_MODULE_0__().toISOString(),
      application: {}
    };
    let m = this.m;
    if (m.currentTabName === 'purchase') {
      session.application.Purchase = {
        ObjectPriceAmount: m.purchaseData.objectPriceAmount,
        OwnSavingsAmount: m.purchaseData.ownSavingsAmount
      };
    } else if (m.currentTabName === 'move') {
      session.application.ChangeExistingLoan = {
        ObjectValueAmount: m.moveData.objectValueAmount,
        PaidToCustomerAmount: m.moveData.paidToCustomerAmount,
        MortgageLoansToSettle: [{
          ShouldBeSettled: true,
          CurrentDebtAmount: m.moveData.currentDebtAmount
        }]
      };
    } else if (m.currentTabName === 'additionalloan') {
      session.application.ChangeExistingLoan = {
        ObjectValueAmount: m.additionalLoanData.objectValueAmount,
        PaidToCustomerAmount: m.additionalLoanData.paidToCustomerAmount,
        MortgageLoansToSettle: [{
          ShouldBeSettled: false,
          CurrentDebtAmount: m.additionalLoanData.currentDebtAmount
        }]
      };
    }
    localStorage.setItem((0,_secure_pages_initial_application_start_webapplication_start_webapplication_component__WEBPACK_IMPORTED_MODULE_2__.getMlApplicationSessionModelStorageKey)(sessionId), JSON.stringify(session));
    let loginUrl = this.configService.getLoginUrl('ContinueMortgageLoanApplication', sessionId);
    this.eventService.isLoading.next(true);
    document.location.href = loginUrl;
  }
  calculateSummary() {
    let wishToBorrowAmount = this.calculateWishToBorrowAmount();
    let loanToValue = this.calculateLtv(wishToBorrowAmount);
    let amortizationRatePercent = this.calculateAmortizationRatePercent(loanToValue);
    let exampleInterest = this.m.settings.ExampleInterestRatePercent; // Get from ClientConfiguration
    let interestPayment = exampleInterest * wishToBorrowAmount / 100 / 12;
    let amortizationPayment = amortizationRatePercent * wishToBorrowAmount / 100 / 12;
    let monthlyCost = interestPayment + amortizationPayment;
    this.m.summary = {
      wishToBorrowAmount: wishToBorrowAmount,
      amortizationRatePercent: amortizationRatePercent,
      exampleInterestRate: exampleInterest,
      loanToValueAmount: loanToValue,
      monthlyCostAmount: monthlyCost
    };
  }
  calculateAmortizationRatePercent(ltv) {
    if (ltv > 70) return 2;
    if (ltv > 50 && ltv <= 70) return 1;else return 0;
  }
  calculateWishToBorrowAmount() {
    if (this.m?.purchaseData) {
      return (this.m?.purchaseData?.objectPriceAmount || 0) - (this.m?.purchaseData?.ownSavingsAmount || 0);
    } else if (this.m?.moveData) {
      return (this.m?.moveData?.currentDebtAmount || 0) + (this.m?.moveData?.paidToCustomerAmount || 0);
    } else {
      return this.m?.additionalLoanData?.paidToCustomerAmount || 0;
    }
  }
  calculateLtv(wishToBorrowAmount) {
    let purch = this.m?.purchaseData;
    let addi = this.m?.additionalLoanData;
    let move = this.m?.moveData;
    if (purch) {
      return 100 * (wishToBorrowAmount / (purch?.objectPriceAmount || 0));
    } else if (addi) {
      return 100 * ((wishToBorrowAmount + (addi?.currentDebtAmount || 0)) / (addi?.objectValueAmount || 0));
    } else {
      return 100 * (wishToBorrowAmount / (move?.objectValueAmount || 0));
    }
  }
  onPurchaseDataChanged(data) {
    this.m.purchaseData = data;
    this.m.additionalLoanData = null;
    this.m.moveData = null;
    this.calculateSummary();
    this.changeDetector.detectChanges();
  }
  onCalculatorMoveDataChanged(data) {
    this.m.moveData = data;
    this.m.purchaseData = null;
    this.m.additionalLoanData = null;
    this.calculateSummary();
    this.changeDetector.detectChanges();
  }
  onCalculatorAdditionalLoanDataChanged(data) {
    this.m.additionalLoanData = data;
    this.m.purchaseData = null;
    this.m.moveData = null;
    this.calculateSummary();
    this.changeDetector.detectChanges();
  }
  setActiveTab(tabName, evt) {
    evt?.preventDefault();
    this.m.currentTabName = tabName;
  }
  static #_ = this.ɵfac = function LoanCalculatorComponent_Factory(t) {
    return new (t || LoanCalculatorComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵdirectiveInject"](_common_services_customer_pages_config_service__WEBPACK_IMPORTED_MODULE_3__.CustomerPagesConfigService), _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_6__.ChangeDetectorRef), _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵdirectiveInject"](_common_services_customerpages_event_service__WEBPACK_IMPORTED_MODULE_4__.CustomerPagesEventService), _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵdirectiveInject"](_common_services_customer_pages_validation_service__WEBPACK_IMPORTED_MODULE_5__.CustomerPagesValidationService));
  };
  static #_2 = this.ɵcmp = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵdefineComponent"]({
    type: LoanCalculatorComponent,
    selectors: [["np-loan-calculator"]],
    decls: 4,
    vars: 2,
    consts: [["shell-body", ""], ["class", "row", 4, "ngIf"], [1, "row"], [1, "col-xs-12"], [1, "flex-container"], [1, "align-center", "frame"], [1, "header-light", "text-center", "pb-3"], [1, "text-center", "pb-2"], [1, "row", "pb-2"], ["class", "col-sm-4 pb-1", 4, "ngIf"], ["class", "col-sm-4 text-center pb-1", 4, "ngIf"], ["class", "col-sm-4 text-right pb-1", 4, "ngIf"], [3, "ngSwitch"], [3, "settings", "moveDataChanged", 4, "ngSwitchCase"], [3, "settings", "purchaseDataChanged", 4, "ngSwitchCase"], [3, "settings", "additionalLoanDataChanged", 4, "ngSwitchCase"], ["id", "summary", 1, "pt-5"], [1, "col-xs-12", "col-sm-6"], [1, "form-group", "pb-1"], [1, "col-xs-12", "col-sm-3"], [1, "pt-3"], ["class", "text-right notice pt-1", 4, "ngIf"], [1, "text-right", "pt-2"], [1, "n-main-btn", "n-green-btn", 3, "disabled", "click"], [1, "col-sm-4", "pb-1"], ["href", "#", 1, "big-button-tabs", 3, "click"], [1, "font-weight-bold"], [1, "col-sm-4", "text-center", "pb-1"], [1, "col-sm-4", "text-right", "pb-1"], [3, "settings", "moveDataChanged"], [3, "settings", "purchaseDataChanged"], [3, "settings", "additionalLoanDataChanged"], [1, "text-right", "notice", "pt-1"]],
    template: function LoanCalculatorComponent_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "ml-shell")(1, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtemplate"](2, LoanCalculatorComponent_div_2_Template, 59, 29, "div", 1)(3, LoanCalculatorComponent_div_3_Template, 8, 0, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()();
      }
      if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngIf", ctx.m == null ? null : ctx.m.currentTabName);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngIf", ctx.m && !(ctx.m == null ? null : ctx.m.currentTabName));
      }
    },
    styles: ["#summary[_ngcontent-%COMP%] {\n                background-color: #023365;\n                color: white;\n                border-radius: 6px;\n                padding: 12px;\n                margin-top: 30px;\n            }\n            div.notice[_ngcontent-%COMP%] {\n                color: red;\n            }\n        \n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3Byb2plY3RzL2N1c3RvbWVycGFnZXMvc3JjL2FwcC9tb3J0Z2FnZS1sb2FuLWFwcGxpY2F0aW9ucy9vcGVuLXBhZ2VzL2xvYW4tY2FsY3VsYXRvci9sb2FuLWNhbGN1bGF0b3IuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7WUFDWTtnQkFDSSx5QkFBeUI7Z0JBQ3pCLFlBQVk7Z0JBQ1osa0JBQWtCO2dCQUNsQixhQUFhO2dCQUNiLGdCQUFnQjtZQUNwQjtZQUNBO2dCQUNJLFVBQVU7WUFDZCIsInNvdXJjZXNDb250ZW50IjpbIlxuICAgICAgICAgICAgI3N1bW1hcnkge1xuICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMwMjMzNjU7XG4gICAgICAgICAgICAgICAgY29sb3I6IHdoaXRlO1xuICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDZweDtcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiAxMnB4O1xuICAgICAgICAgICAgICAgIG1hcmdpbi10b3A6IDMwcHg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkaXYubm90aWNlIHtcbiAgICAgICAgICAgICAgICBjb2xvcjogcmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAiXSwic291cmNlUm9vdCI6IiJ9 */"]
  });
}
class Model {
  constructor(currentTabName, settings) {
    this.currentTabName = currentTabName;
    this.settings = settings;
  }
  isValid() {
    let validLtv = this.summary?.loanToValueAmount <= this.settings.MaxLoanToValuePercent;
    let validTabData = this.currentTabName === 'purchase' && this.purchaseData?.isValid || this.currentTabName === 'move' && this.moveData?.isValid || this.currentTabName === 'additionalloan' && this.additionalLoanData?.isValid;
    return {
      valid: validTabData && validLtv,
      loanToValueAmountIsValod: validLtv
    };
  }
}
class Summary {}
class MortgageLoanWebappSettings {
  constructor(settings, validationService) {
    this.ExampleInterestRatePercent = validationService.parsePositiveDecimalOrNull(settings['exampleInterestRatePercent']);
    this.IsPurchaseTabActive = settings['isPurchaseTabActive'] == 'true';
    this.IsMoveTabActive = settings['isMoveTabActive'] == 'true';
    this.IsAdditionalLoanTabActive = settings['isAdditionalLoanTabActive'] == 'true';
    this.MaxLoanToValuePercent = validationService.parseInteger(settings['maxLoanToValuePercent']);
    this.MaxCurrentMortgageLoanAmount = validationService.parseInteger(settings['maxCurrentMortgageLoanAmount']);
    this.MinCurrentMortgageLoanAmount = validationService.parseInteger(settings['minCurrentMortgageLoanAmount']);
    this.MaxEstimatedValue = validationService.parseInteger(settings['maxEstimatedValue']);
    this.MinEstimatedValue = validationService.parseInteger(settings['minEstimatedValue']);
    this.MaxCashAmount = validationService.parseInteger(settings['maxCashAmount']);
    this.MinCashAmount = validationService.parseInteger(settings['minCashAmount']);
    this.MaxAdditionalLoanAmount = validationService.parseInteger(settings['maxAdditionalLoanAmount']);
    this.MinAdditionalLoanAmount = validationService.parseInteger(settings['minAdditionalLoanAmount']);
  }
}

/***/ }),

/***/ 4386:
/*!************************************************************************************************************************************************************************************!*\
  !*** ./projects/customerpages/src/app/mortgage-loan-applications/secure-pages/initial-application/components/application-step-applicants/application-step-applicants.component.ts ***!
  \************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ApplicationStepApplicantsComponent: () => (/* binding */ ApplicationStepApplicantsComponent)
/* harmony export */ });
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/forms */ 8849);
/* harmony import */ var src_app_common_services_ntech_forms_helper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! src/app/common-services/ntech-forms-helper */ 7093);
/* harmony import */ var _start_webapplication_start_webapplication_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../start-webapplication/start-webapplication.component */ 5030);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/core */ 1699);
/* harmony import */ var projects_customerpages_src_app_common_services_customerpages_event_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! projects/customerpages/src/app/common-services/customerpages-event.service */ 3211);
/* harmony import */ var projects_customerpages_src_app_common_services_customer_pages_validation_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! projects/customerpages/src/app/common-services/customer-pages-validation.service */ 423);
/* harmony import */ var _services_customer_pages_ml_api_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../services/customer-pages-ml-api.service */ 2040);
/* harmony import */ var projects_customerpages_src_app_shared_components_services_employment_form_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! projects/customerpages/src/app/shared-components/services/employment-form.service */ 2168);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/common */ 6575);










function ApplicationStepApplicantsComponent_ng_container_0_ng_container_6_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementContainer"](0);
  }
}
function ApplicationStepApplicantsComponent_ng_container_0_ng_container_7_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementContainer"](0);
  }
}
function ApplicationStepApplicantsComponent_ng_container_0_ng_container_8_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementContainer"](0);
  }
}
function ApplicationStepApplicantsComponent_ng_container_0_option_14_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelement"](0, "option", 16);
  }
}
function ApplicationStepApplicantsComponent_ng_container_0_option_15_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "option", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const opt_r13 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("value", opt_r13.Code);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtextInterpolate"](opt_r13.DisplayName);
  }
}
function ApplicationStepApplicantsComponent_ng_container_0_ng_container_16_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementContainer"](0);
  }
}
function ApplicationStepApplicantsComponent_ng_container_0_ng_container_17_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementContainer"](0);
  }
}
function ApplicationStepApplicantsComponent_ng_container_0_ng_container_18_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementContainer"](0);
  }
}
function ApplicationStepApplicantsComponent_ng_container_0_ng_container_19_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementContainer"](0);
  }
}
function ApplicationStepApplicantsComponent_ng_container_0_ng_container_33_ng_container_16_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementContainer"](0);
  }
}
function ApplicationStepApplicantsComponent_ng_container_0_ng_container_33_ng_container_17_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementContainer"](0);
  }
}
function ApplicationStepApplicantsComponent_ng_container_0_ng_container_33_ng_container_18_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementContainer"](0);
  }
}
function ApplicationStepApplicantsComponent_ng_container_0_ng_container_33_ng_container_19_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementContainer"](0);
  }
}
function ApplicationStepApplicantsComponent_ng_container_0_ng_container_33_option_25_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelement"](0, "option", 16);
  }
}
function ApplicationStepApplicantsComponent_ng_container_0_ng_container_33_option_26_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "option", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const opt_r24 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("value", opt_r24.Code);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtextInterpolate"](opt_r24.DisplayName);
  }
}
function ApplicationStepApplicantsComponent_ng_container_0_ng_container_33_ng_container_27_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementContainer"](0);
  }
}
function ApplicationStepApplicantsComponent_ng_container_0_ng_container_33_ng_container_28_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementContainer"](0);
  }
}
function ApplicationStepApplicantsComponent_ng_container_0_ng_container_33_ng_container_29_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementContainer"](0);
  }
}
function ApplicationStepApplicantsComponent_ng_container_0_ng_container_33_ng_container_30_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementContainer"](0);
  }
}
const _c0 = a0 => ({
  "has-error": a0
});
const _c1 = () => ({
  formControlName: "coApplicantCivicRegNr",
  displayText: "Meds\u00F6kande personnummer"
});
const _c2 = () => ({
  formControlName: "coApplicantEmail",
  displayText: "Meds\u00F6kande epostadress"
});
const _c3 = () => ({
  formControlName: "coApplicantPhone",
  displayText: "Meds\u00F6kande telefonnummer"
});
const _c4 = () => ({
  formControlName: "coApplicantIncomePerMonthAmount",
  displayText: "Vad \u00E4r din m\u00E5nadsinkomst innan skatt?"
});
const _c5 = () => ({
  formControlName: "coApplicantEmployedSince",
  displayText: "Fr\u00E5n n\u00E4r har du haft din syssels\u00E4ttning?"
});
const _c6 = () => ({
  formControlName: "coApplicantEmployedTo",
  displayText: "Till n\u00E4r har du din syssels\u00E4ttning?"
});
const _c7 = () => ({
  formControlName: "coApplicantEmployer",
  displayText: "Vem \u00E4r din arbetsgivare?"
});
const _c8 = () => ({
  formControlName: "coApplicantEmployerPhone",
  displayText: "Vad \u00E4r din arbetsgivares telefonnummer?"
});
function ApplicationStepApplicantsComponent_ng_container_0_ng_container_33_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](1, "h2", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](2, "Meds\u00F6kande");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](3, "div", 3)(4, "div", 4)(5, "div", 6)(6, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](7, "Ing\u00E5r meds\u00F6kande i hush\u00E5llet?");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](8, "div", 11)(9, "label");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelement"](10, "input", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](11, " Ja");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](12, "div", 11)(13, "label");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelement"](14, "input", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](15, " Nej");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtemplate"](16, ApplicationStepApplicantsComponent_ng_container_0_ng_container_33_ng_container_16_Template, 1, 0, "ng-container", 5)(17, ApplicationStepApplicantsComponent_ng_container_0_ng_container_33_ng_container_17_Template, 1, 0, "ng-container", 5)(18, ApplicationStepApplicantsComponent_ng_container_0_ng_container_33_ng_container_18_Template, 1, 0, "ng-container", 5)(19, ApplicationStepApplicantsComponent_ng_container_0_ng_container_33_ng_container_19_Template, 1, 0, "ng-container", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](20, "div", 4)(21, "div", 6)(22, "label");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](23, "Vad har du f\u00F6r syssels\u00E4ttning");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](24, "select", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtemplate"](25, ApplicationStepApplicantsComponent_ng_container_0_ng_container_33_option_25_Template, 1, 0, "option", 8)(26, ApplicationStepApplicantsComponent_ng_container_0_ng_container_33_option_26_Template, 2, 2, "option", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtemplate"](27, ApplicationStepApplicantsComponent_ng_container_0_ng_container_33_ng_container_27_Template, 1, 0, "ng-container", 5)(28, ApplicationStepApplicantsComponent_ng_container_0_ng_container_33_ng_container_28_Template, 1, 0, "ng-container", 5)(29, ApplicationStepApplicantsComponent_ng_container_0_ng_container_33_ng_container_29_Template, 1, 0, "ng-container", 5)(30, ApplicationStepApplicantsComponent_ng_container_0_ng_container_33_ng_container_30_Template, 1, 0, "ng-container", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const ctx_r12 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"](2);
    const _r2 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵreference"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpureFunction1"](20, _c0, ctx_r12.m.form.hasError("isCoApplicantPartOfTheHousehold")));
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](11);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngTemplateOutlet", _r2)("ngTemplateOutletContext", _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpureFunction0"](22, _c1));
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngTemplateOutlet", _r2)("ngTemplateOutletContext", _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpureFunction0"](23, _c2));
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngTemplateOutlet", _r2)("ngTemplateOutletContext", _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpureFunction0"](24, _c3));
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngTemplateOutlet", _r2)("ngTemplateOutletContext", _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpureFunction0"](25, _c4));
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpureFunction1"](26, _c0, ctx_r12.m.form.hasError("coApplicantEmployment")));
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngIf", !ctx_r12.m.form.getValue("coApplicantEmployment"));
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngForOf", ctx_r12.m.employmentCodes);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngTemplateOutlet", _r2)("ngTemplateOutletContext", _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpureFunction0"](28, _c5));
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngTemplateOutlet", _r2)("ngTemplateOutletContext", _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpureFunction0"](29, _c6));
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngTemplateOutlet", _r2)("ngTemplateOutletContext", _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpureFunction0"](30, _c7));
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngTemplateOutlet", _r2)("ngTemplateOutletContext", _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpureFunction0"](31, _c8));
  }
}
const _c9 = () => ({
  formControlName: "mainApplicantEmail",
  displayText: "Vilken epostadress n\u00E5r vi dig p\u00E5?"
});
const _c10 = () => ({
  formControlName: "mainApplicantPhone",
  displayText: "Vilket telefonnummer n\u00E5r vi dig enklast p\u00E5?"
});
const _c11 = () => ({
  formControlName: "mainApplicantIncomePerMonthAmount",
  displayText: "Vad \u00E4r din m\u00E5nadsinkomst innan skatt?"
});
const _c12 = () => ({
  formControlName: "mainApplicantEmployedSince",
  displayText: "Fr\u00E5n n\u00E4r har du haft din syssels\u00E4ttning?"
});
const _c13 = () => ({
  formControlName: "mainApplicantEmployedTo",
  displayText: "Till n\u00E4r har du din syssels\u00E4ttning?"
});
const _c14 = () => ({
  formControlName: "mainApplicantEmployer",
  displayText: "Vem \u00E4r din arbetsgivare?"
});
const _c15 = () => ({
  formControlName: "mainApplicantEmployerPhone",
  displayText: "Vad \u00E4r din arbetsgivares telefonnummer?"
});
function ApplicationStepApplicantsComponent_ng_container_0_Template(rf, ctx) {
  if (rf & 1) {
    const _r26 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](1, "form", 2)(2, "h2");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](3, "Huvuds\u00F6kande");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](4, "div", 3)(5, "div", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtemplate"](6, ApplicationStepApplicantsComponent_ng_container_0_ng_container_6_Template, 1, 0, "ng-container", 5)(7, ApplicationStepApplicantsComponent_ng_container_0_ng_container_7_Template, 1, 0, "ng-container", 5)(8, ApplicationStepApplicantsComponent_ng_container_0_ng_container_8_Template, 1, 0, "ng-container", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](9, "div", 4)(10, "div", 6)(11, "label");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](12, "Vad har du f\u00F6r syssels\u00E4ttning");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](13, "select", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtemplate"](14, ApplicationStepApplicantsComponent_ng_container_0_option_14_Template, 1, 0, "option", 8)(15, ApplicationStepApplicantsComponent_ng_container_0_option_15_Template, 2, 2, "option", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtemplate"](16, ApplicationStepApplicantsComponent_ng_container_0_ng_container_16_Template, 1, 0, "ng-container", 5)(17, ApplicationStepApplicantsComponent_ng_container_0_ng_container_17_Template, 1, 0, "ng-container", 5)(18, ApplicationStepApplicantsComponent_ng_container_0_ng_container_18_Template, 1, 0, "ng-container", 5)(19, ApplicationStepApplicantsComponent_ng_container_0_ng_container_19_Template, 1, 0, "ng-container", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](20, "div", 3)(21, "div", 4)(22, "div", 10)(23, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](24, "Finns det en meds\u00F6kande?");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](25, "div", 11)(26, "label");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelement"](27, "input", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](28, " Ja");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](29, "div", 11)(30, "label");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelement"](31, "input", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](32, " Nej");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()()()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtemplate"](33, ApplicationStepApplicantsComponent_ng_container_0_ng_container_33_Template, 31, 32, "ng-container", 0);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](34, "div", 14)(35, "button", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵlistener"]("click", function ApplicationStepApplicantsComponent_ng_container_0_Template_button_click_35_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵrestoreView"](_r26);
      const ctx_r25 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵresetView"](ctx_r25.apply($event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](36, "G\u00E5 vidare");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"]();
    const _r2 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵreference"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("formGroup", ctx_r0.m.form.form);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngTemplateOutlet", _r2)("ngTemplateOutletContext", _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpureFunction0"](20, _c9));
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngTemplateOutlet", _r2)("ngTemplateOutletContext", _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpureFunction0"](21, _c10));
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngTemplateOutlet", _r2)("ngTemplateOutletContext", _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpureFunction0"](22, _c11));
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpureFunction1"](23, _c0, ctx_r0.m.form.hasError("mainApplicantEmployment")));
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngIf", !ctx_r0.m.form.getValue("mainApplicantEmployment"));
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngForOf", ctx_r0.m.employmentCodes);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngTemplateOutlet", _r2)("ngTemplateOutletContext", _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpureFunction0"](25, _c12));
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngTemplateOutlet", _r2)("ngTemplateOutletContext", _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpureFunction0"](26, _c13));
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngTemplateOutlet", _r2)("ngTemplateOutletContext", _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpureFunction0"](27, _c14));
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngTemplateOutlet", _r2)("ngTemplateOutletContext", _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpureFunction0"](28, _c15));
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](14);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngIf", ctx_r0.m.form.hasFormControl(null, "coApplicantEmail"));
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("disabled", ctx_r0.m.form.invalid());
  }
}
function ApplicationStepApplicantsComponent_ng_template_1_div_0_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "div", 23)(1, "label");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelement"](3, "input", 24);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r30 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"]();
    const formControlName_r28 = ctx_r30.formControlName;
    const displayText_r27 = ctx_r30.displayText;
    const ctx_r29 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpureFunction1"](4, _c0, ctx_r29.m.form.hasError(formControlName_r28)))("formGroup", ctx_r29.m.form.form);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtextInterpolate"](displayText_r27);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("formControlName", formControlName_r28);
  }
}
function ApplicationStepApplicantsComponent_ng_template_1_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtemplate"](0, ApplicationStepApplicantsComponent_ng_template_1_div_0_Template, 4, 6, "div", 22);
  }
  if (rf & 2) {
    const formControlName_r28 = ctx.formControlName;
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngIf", ctx_r1.m.form.hasFormControl(null, formControlName_r28));
  }
}
class ApplicationStepApplicantsComponent {
  constructor(fb, eventService, validationService, apiService, employmentFormService) {
    this.fb = fb;
    this.eventService = eventService;
    this.validationService = validationService;
    this.apiService = apiService;
    this.employmentFormService = employmentFormService;
  }
  ngOnChanges(changes) {
    if (this.subs) {
      for (let sub of this.subs) {
        sub.unsubscribe();
      }
    }
    this.subs = [];
    this.m = null;
    if (!this.session) {
      return;
    }
    this.subs.push(this.eventService.applicationEvents.subscribe(x => {
      if (x.eventCode === _start_webapplication_start_webapplication_component__WEBPACK_IMPORTED_MODULE_1__.AutoFillInTestEventName) {
        this.autoFillInTest();
      }
    }));
    this.subs.push(this.session.subscribe(x => {
      if (!x) {
        this.m = null;
        return;
      }
      let f = this.fb.group({
        mainApplicantEmail: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_7__.Validators.required, this.validationService.getEmailValidator()]],
        mainApplicantPhone: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_7__.Validators.required, this.validationService.getPhoneValidator()]],
        mainApplicantEmployment: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_7__.Validators.required]],
        mainApplicantIncomePerMonthAmount: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_7__.Validators.required, this.validationService.getPositiveIntegerValidator()]],
        hasCoApplicant: ['false', [_angular_forms__WEBPACK_IMPORTED_MODULE_7__.Validators.required]]
      });
      let h = new src_app_common_services_ntech_forms_helper__WEBPACK_IMPORTED_MODULE_0__.FormsHelper(f);
      f.valueChanges.subscribe(x => {
        //Main applicant
        h.ensureControlOnConditionOnly(this.employmentFormService.isEmployedSinceEmploymentCode(h.getValue('mainApplicantEmployment')), 'mainApplicantEmployedSince', () => '', () => [this.validationService.getDateOnlyValidator()]);
        h.ensureControlOnConditionOnly(this.employmentFormService.isEmployedToEmploymentCode(h.getValue('mainApplicantEmployment')), 'mainApplicantEmployedTo', () => '', () => [this.validationService.getDateOnlyValidator()]);
        h.ensureControlOnConditionOnly(this.employmentFormService.isEmployerEmploymentCode(h.getValue('mainApplicantEmployment')), 'mainApplicantEmployer', () => '', () => []);
        h.ensureControlOnConditionOnly(this.employmentFormService.isEmployerEmploymentCode(h.getValue('mainApplicantEmployment')), 'mainApplicantEmployerPhone', () => '', () => [this.validationService.getPhoneValidator()]);
        //Co applicant
        let hasCoApplicant = h.getValue('hasCoApplicant') === 'true';
        h.ensureControlOnConditionOnly(hasCoApplicant, 'coApplicantCivicRegNr', () => '', () => [_angular_forms__WEBPACK_IMPORTED_MODULE_7__.Validators.required, this.validationService.getCivicRegNrValidator()]);
        h.ensureControlOnConditionOnly(hasCoApplicant, 'coApplicantEmail', () => '', () => [_angular_forms__WEBPACK_IMPORTED_MODULE_7__.Validators.required, this.validationService.getEmailValidator()]);
        h.ensureControlOnConditionOnly(hasCoApplicant, 'coApplicantPhone', () => '', () => [_angular_forms__WEBPACK_IMPORTED_MODULE_7__.Validators.required, this.validationService.getPhoneValidator()]);
        h.ensureControlOnConditionOnly(hasCoApplicant, 'coApplicantEmployment', () => '', () => [_angular_forms__WEBPACK_IMPORTED_MODULE_7__.Validators.required]);
        h.ensureControlOnConditionOnly(hasCoApplicant, 'coApplicantIncomePerMonthAmount', () => '', () => [_angular_forms__WEBPACK_IMPORTED_MODULE_7__.Validators.required, this.validationService.getPositiveIntegerValidator()]);
        h.ensureControlOnConditionOnly(hasCoApplicant && this.employmentFormService.isEmployedSinceEmploymentCode(h.getValue('coApplicantEmployment')), 'coApplicantEmployedSince', () => '', () => [this.validationService.getDateOnlyValidator()]);
        h.ensureControlOnConditionOnly(hasCoApplicant && this.employmentFormService.isEmployedToEmploymentCode(h.getValue('coApplicantEmployment')), 'coApplicantEmployedTo', () => '', () => [this.validationService.getDateOnlyValidator()]);
        h.ensureControlOnConditionOnly(hasCoApplicant && this.employmentFormService.isEmployerEmploymentCode(h.getValue('coApplicantEmployment')), 'coApplicantEmployer', () => '', () => []);
        h.ensureControlOnConditionOnly(hasCoApplicant && this.employmentFormService.isEmployerEmploymentCode(h.getValue('coApplicantEmployment')), 'coApplicantEmployerPhone', () => '', () => [this.validationService.getPhoneValidator()]);
        h.ensureControlOnConditionOnly(hasCoApplicant, 'isCoApplicantPartOfTheHousehold', () => 'true', () => [_angular_forms__WEBPACK_IMPORTED_MODULE_7__.Validators.required]);
      });
      let employmentCodes = this.employmentFormService.getEmploymentStatuses();
      let m = new Model(h, x, employmentCodes);
      this.m = m;
    }));
  }
  apply(evt) {
    evt?.preventDefault();
    let f = this.m.form;
    let a = this.m.session.application;
    a.Applicants[0].Email = f.getValue('mainApplicantEmail');
    a.Applicants[0].Phone = f.getValue('mainApplicantPhone');
    a.Applicants[0].IsPartOfTheHousehold = true;
    a.Applicants[0].IncomePerMonthAmount = this.validationService.parseIntegerOrNull(f.getValue('mainApplicantIncomePerMonthAmount'));
    a.Applicants[0].Employment = this.validationService.normalizeString(f.getValue('mainApplicantEmployment'));
    a.Applicants[0].EmployedSince = this.validationService.parseDateOnlyOrNull(f.getValue('mainApplicantEmployedSince'));
    a.Applicants[0].EmployedTo = this.validationService.parseDateOnlyOrNull(f.getValue('mainApplicantEmployedTo'));
    a.Applicants[0].Employer = this.validationService.normalizeString(f.getValue('mainApplicantEmployer'));
    a.Applicants[0].EmployerPhone = this.validationService.normalizeString(f.getValue('mainApplicantEmployerPhone'));
    let hasCoApplicant = f.getValue('hasCoApplicant') === 'true';
    if (hasCoApplicant) {
      if (a.Applicants.length < 2) {
        a.Applicants.push({
          CivicRegNr: null
        });
        a.Applicants[1].CivicRegNr = f.getValue('coApplicantCivicRegNr');
        a.Applicants[1].Email = f.getValue('coApplicantEmail');
        a.Applicants[1].Phone = f.getValue('coApplicantPhone');
        a.Applicants[1].IsPartOfTheHousehold = f.getValue('isCoApplicantPartOfTheHousehold') === 'true';
        a.Applicants[1].IncomePerMonthAmount = this.validationService.parseIntegerOrNull(f.getValue('coApplicantIncomePerMonthAmount'));
        a.Applicants[1].Employment = this.validationService.normalizeString(f.getValue('coApplicantEmployment'));
        a.Applicants[1].EmployedSince = this.validationService.parseDateOnlyOrNull(f.getValue('coApplicantEmployedSince'));
        a.Applicants[1].EmployedTo = this.validationService.parseDateOnlyOrNull(f.getValue('coApplicantEmployedTo'));
        a.Applicants[1].Employer = this.validationService.normalizeString(f.getValue('coApplicantEmployer'));
        a.Applicants[1].EmployerPhone = this.validationService.normalizeString(f.getValue('coApplicantEmployerPhone'));
      }
    }
    this.eventService.emitApplicationEvent(_start_webapplication_start_webapplication_component__WEBPACK_IMPORTED_MODULE_1__.NextStepEventName, JSON.stringify({
      session: this.m.session
    }));
  }
  autoFillInTest() {
    let f = this.m.form;
    this.apiService.generateTestPersons(2, true, true).then(x => {
      let a1 = x.Persons[0].Properties;
      f.setValue('mainApplicantEmail', a1.email);
      f.setValue('mainApplicantPhone', a1.phone);
      f.setValue('mainApplicantIncomePerMonthAmount', '37500');
      f.setValue('mainApplicantEmployment', 'full_time');
      f.setValue('mainApplicantEmployedSince', '2017-03-15');
      f.setValue('mainApplicantEmployedTo', '2021-09-12');
      f.setValue('mainApplicantEmployer', 'Employer AB');
      f.setValue('mainApplicantEmployerPhone', '08 - 123 654');
      let a2 = x.Persons[1].Properties;
      f.setValue('hasCoApplicant', 'true');
      f.setValue('coApplicantCivicRegNr', a2.civicRegNr);
      f.setValue('coApplicantEmail', a2.email);
      f.setValue('coApplicantPhone', a2.phone);
      f.setValue('coApplicantIncomePerMonthAmount', '12000');
      f.setValue('isCoApplicantPartOfTheHousehold', 'true');
      f.setValue('coApplicantEmployment', 'student');
      f.setValue('coApplicantEmployedSince', '2015-04-21');
      f.setValue('coApplicantEmployedTo', '2021-12-19');
    });
  }
  static #_ = this.ɵfac = function ApplicationStepApplicantsComponent_Factory(t) {
    return new (t || ApplicationStepApplicantsComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵdirectiveInject"](_angular_forms__WEBPACK_IMPORTED_MODULE_7__.UntypedFormBuilder), _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵdirectiveInject"](projects_customerpages_src_app_common_services_customerpages_event_service__WEBPACK_IMPORTED_MODULE_2__.CustomerPagesEventService), _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵdirectiveInject"](projects_customerpages_src_app_common_services_customer_pages_validation_service__WEBPACK_IMPORTED_MODULE_3__.CustomerPagesValidationService), _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵdirectiveInject"](_services_customer_pages_ml_api_service__WEBPACK_IMPORTED_MODULE_4__.CustomerPagesMortgageLoanApiService), _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵdirectiveInject"](projects_customerpages_src_app_shared_components_services_employment_form_service__WEBPACK_IMPORTED_MODULE_5__.EmploymentFormService));
  };
  static #_2 = this.ɵcmp = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵdefineComponent"]({
    type: ApplicationStepApplicantsComponent,
    selectors: [["application-step-applicants"]],
    inputs: {
      session: "session"
    },
    features: [_angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵNgOnChangesFeature"]],
    decls: 3,
    vars: 1,
    consts: [[4, "ngIf"], ["textGroup", ""], [3, "formGroup"], [1, "row"], [1, "col-sm-6", "col-xs-12"], [4, "ngTemplateOutlet", "ngTemplateOutletContext"], [1, "form-group", "pb-1", 3, "ngClass"], ["formControlName", "mainApplicantEmployment", 1, "form-control"], ["value", "", 4, "ngIf"], [3, "value", 4, "ngFor", "ngForOf"], [1, "form-group", "pb-1"], [1, "radio-inline"], ["type", "radio", "formControlName", "hasCoApplicant", "value", "true"], ["type", "radio", "formControlName", "hasCoApplicant", "value", "false"], [1, "text-right", "pt-5"], [1, "n-main-btn", "n-green-btn", 3, "disabled", "click"], ["value", ""], [3, "value"], [1, "pt-3"], ["type", "radio", "formControlName", "isCoApplicantPartOfTheHousehold", "value", "true"], ["type", "radio", "formControlName", "isCoApplicantPartOfTheHousehold", "value", "false"], ["formControlName", "coApplicantEmployment", 1, "form-control"], ["class", "form-group pb-1", 3, "ngClass", "formGroup", 4, "ngIf"], [1, "form-group", "pb-1", 3, "ngClass", "formGroup"], ["type", "text", 1, "form-control", 3, "formControlName"]],
    template: function ApplicationStepApplicantsComponent_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtemplate"](0, ApplicationStepApplicantsComponent_ng_container_0_Template, 37, 29, "ng-container", 0)(1, ApplicationStepApplicantsComponent_ng_template_1_Template, 1, 1, "ng-template", null, 1, _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtemplateRefExtractor"]);
      }
      if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngIf", ctx.m);
      }
    },
    dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_8__.NgClass, _angular_common__WEBPACK_IMPORTED_MODULE_8__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_8__.NgIf, _angular_common__WEBPACK_IMPORTED_MODULE_8__.NgTemplateOutlet, _angular_forms__WEBPACK_IMPORTED_MODULE_7__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_7__.NgSelectOption, _angular_forms__WEBPACK_IMPORTED_MODULE_7__["ɵNgSelectMultipleOption"], _angular_forms__WEBPACK_IMPORTED_MODULE_7__.DefaultValueAccessor, _angular_forms__WEBPACK_IMPORTED_MODULE_7__.SelectControlValueAccessor, _angular_forms__WEBPACK_IMPORTED_MODULE_7__.RadioControlValueAccessor, _angular_forms__WEBPACK_IMPORTED_MODULE_7__.NgControlStatus, _angular_forms__WEBPACK_IMPORTED_MODULE_7__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_7__.FormGroupDirective, _angular_forms__WEBPACK_IMPORTED_MODULE_7__.FormControlName],
    encapsulation: 2
  });
}
class Model {
  constructor(form, session, employmentCodes) {
    this.form = form;
    this.session = session;
    this.employmentCodes = employmentCodes;
  }
}

/***/ }),

/***/ 6995:
/*!******************************************************************************************************************************************************************************!*\
  !*** ./projects/customerpages/src/app/mortgage-loan-applications/secure-pages/initial-application/components/application-step-consent/application-step-consent.component.ts ***!
  \******************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ApplicationStepConsentComponent: () => (/* binding */ ApplicationStepConsentComponent)
/* harmony export */ });
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/forms */ 8849);
/* harmony import */ var src_app_common_services_ntech_forms_helper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! src/app/common-services/ntech-forms-helper */ 7093);
/* harmony import */ var _start_webapplication_start_webapplication_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../start-webapplication/start-webapplication.component */ 5030);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/core */ 1699);
/* harmony import */ var projects_customerpages_src_app_common_services_customerpages_event_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! projects/customerpages/src/app/common-services/customerpages-event.service */ 3211);
/* harmony import */ var projects_customerpages_src_app_common_services_customer_pages_config_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! projects/customerpages/src/app/common-services/customer-pages-config.service */ 5716);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/common */ 6575);
/* harmony import */ var src_app_common_components_pipes_join_pipe__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/common-components/pipes/join.pipe */ 9375);









function ApplicationStepConsentComponent_ng_container_0_ng_container_8_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtextInterpolate1"](", lgh ", ctx_r7.m.app.SeBrfApartmentNr, "");
  }
}
function ApplicationStepConsentComponent_ng_container_0_ng_container_25_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementContainer"](0);
  }
}
function ApplicationStepConsentComponent_ng_container_0_ng_container_26_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementContainer"](0);
  }
}
function ApplicationStepConsentComponent_ng_container_0_ng_container_27_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementContainer"](0);
  }
}
function ApplicationStepConsentComponent_ng_container_0_ng_container_29_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementContainer"](0);
  }
}
function ApplicationStepConsentComponent_ng_container_0_ng_container_31_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementContainer"](0);
  }
}
function ApplicationStepConsentComponent_ng_container_0_ng_container_32_tr_15_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](0, "tr")(1, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpipe"](3, "number");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](4, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](6, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](7);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpipe"](8, "number");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](9, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](10);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const loan_r20 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtextInterpolate1"]("", _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpipeBind2"](3, 4, loan_r20.CurrentDebtAmount, "1.0-2"), " kr");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtextInterpolate"](loan_r20.BankName ? loan_r20.BankName : "-");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtextInterpolate1"](" ", loan_r20.CurrentMonthlyAmortizationAmount ? _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpipeBind2"](8, 7, loan_r20.CurrentMonthlyAmortizationAmount, "1.0-2") + " kr" : "-", " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtextInterpolate1"](" ", loan_r20.InterestRatePercent ? loan_r20.InterestRatePercent + " %" : "-", " ");
  }
}
function ApplicationStepConsentComponent_ng_container_0_ng_container_32_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](1, "h2");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](2, "Nuvarande l\u00E5n p\u00E5 bostaden");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](3, "table", 10)(4, "thead")(5, "tr")(6, "td", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](7, "L\u00E5nebelopp");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](8, "td", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](9, "Bank");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](10, "td", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](11, "Nuvarande amortering");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](12, "td", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](13, "Nuvarande r\u00E4nta");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](14, "tbody");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplate"](15, ApplicationStepConsentComponent_ng_container_0_ng_container_32_tr_15_Template, 11, 10, "tr", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const ctx_r13 = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](15);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngForOf", ctx_r13.m.app.ChangeExistingLoan.MortgageLoansToSettle);
  }
}
function ApplicationStepConsentComponent_ng_container_0_ng_container_35_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementContainer"](0);
  }
}
function ApplicationStepConsentComponent_ng_container_0_ng_container_36_ng_container_3_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementContainer"](0);
  }
}
const _c0 = a0 => ({
  applicant: a0,
  isMainApplicant: false
});
function ApplicationStepConsentComponent_ng_container_0_ng_container_36_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](1, "h2");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](2, "Meds\u00F6kande");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplate"](3, ApplicationStepConsentComponent_ng_container_0_ng_container_36_ng_container_3_Template, 1, 0, "ng-container", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const ctx_r15 = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵnextContext"](2);
    const _r4 = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵreference"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngTemplateOutlet", _r4)("ngTemplateOutletContext", _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpureFunction1"](2, _c0, ctx_r15.m.app.Applicants[1]));
  }
}
function ApplicationStepConsentComponent_ng_container_0_ng_container_41_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementContainer"](0);
  }
}
function ApplicationStepConsentComponent_ng_container_0_ng_container_42_ng_container_1_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementContainer"](0);
  }
}
function ApplicationStepConsentComponent_ng_container_0_ng_container_42_ng_container_3_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementContainer"](0);
  }
}
function ApplicationStepConsentComponent_ng_container_0_ng_container_42_ng_container_5_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementContainer"](0);
  }
}
function ApplicationStepConsentComponent_ng_container_0_ng_container_42_ng_container_6_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementContainer"](0);
  }
}
const _c1 = a1 => ({
  title: "\u00C5lder p\u00E5 barn",
  value: a1
});
const _c2 = a1 => ({
  title: "F\u00E5r i barnbidrag/studiebidrag",
  value: a1
});
const _c3 = (a1, a2) => ({
  title: "F\u00E5r i underh\u00E5ll",
  value: a1,
  hide: a2
});
const _c4 = (a1, a2) => ({
  title: "Betalar i underh\u00E5ll",
  value: a1,
  hide: a2
});
function ApplicationStepConsentComponent_ng_container_0_ng_container_42_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplate"](1, ApplicationStepConsentComponent_ng_container_0_ng_container_42_ng_container_1_Template, 1, 0, "ng-container", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpipe"](2, "join");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplate"](3, ApplicationStepConsentComponent_ng_container_0_ng_container_42_ng_container_3_Template, 1, 0, "ng-container", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpipe"](4, "number");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplate"](5, ApplicationStepConsentComponent_ng_container_0_ng_container_42_ng_container_5_Template, 1, 0, "ng-container", 11)(6, ApplicationStepConsentComponent_ng_container_0_ng_container_42_ng_container_6_Template, 1, 0, "ng-container", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const ctx_r17 = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵnextContext"](2);
    const _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵreference"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngTemplateOutlet", _r6)("ngTemplateOutletContext", _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpureFunction1"](15, _c1, _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpipeBind3"](2, 8, ctx_r17.m.app.HouseholdChildren, ", ", "AgeInYears")));
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngTemplateOutlet", _r6)("ngTemplateOutletContext", _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpureFunction1"](17, _c2, _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpipeBind2"](4, 12, ctx_r17.m.app.ChildBenefitAmount, "1.0-2") + " kr / m\u00E5n"));
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngTemplateOutlet", _r6)("ngTemplateOutletContext", _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpureFunction2"](19, _c3, ctx_r17.m.app.IncomingChildSupportAmount + " kr / m\u00E5n", !ctx_r17.m.app.IncomingChildSupportAmount));
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngTemplateOutlet", _r6)("ngTemplateOutletContext", _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpureFunction2"](22, _c4, ctx_r17.m.app.OutgoingChildSupportAmount + " kr / m\u00E5n", !ctx_r17.m.app.OutgoingChildSupportAmount));
  }
}
function ApplicationStepConsentComponent_ng_container_0_table_46_tr_10_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](0, "tr")(1, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](3, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpipe"](5, "number");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](6, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](7);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpipe"](8, "number");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const loan_r27 = ctx.$implicit;
    const ctx_r26 = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtextInterpolate"](ctx_r26.m.getLoanType(loan_r27.LoanType));
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtextInterpolate1"]("", _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpipeBind2"](5, 3, loan_r27.CurrentDebtAmount, "1.0-2"), " kr");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtextInterpolate1"]("", _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpipeBind2"](8, 6, loan_r27.MonthlyCostAmount, "1.0-2"), " kr");
  }
}
function ApplicationStepConsentComponent_ng_container_0_table_46_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](0, "table", 10)(1, "thead")(2, "tr")(3, "td", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](4, "L\u00E5netyp");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](5, "td", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](6, "L\u00E5nebelopp");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](7, "td", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](8, "M\u00E5nadskostnad");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](9, "tbody");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplate"](10, ApplicationStepConsentComponent_ng_container_0_table_46_tr_10_Template, 9, 9, "tr", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const ctx_r18 = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](10);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngForOf", ctx_r18.m.app.LoansToSettle);
  }
}
const _c5 = a1 => ({
  title: "Typ av bostad",
  value: a1
});
const _c6 = a1 => ({
  title: "Kommun",
  value: a1
});
const _c7 = a1 => ({
  title: "M\u00E5nadsavgift",
  value: a1
});
const _c8 = a1 => ({
  title: "Andra fasta kostnader",
  value: a1
});
const _c9 = a1 => ({
  title: "Boyta",
  value: a1
});
const _c10 = a0 => ({
  applicant: a0,
  isMainApplicant: true
});
const _c11 = a1 => ({
  title: "Antal barn",
  value: a1
});
function ApplicationStepConsentComponent_ng_container_0_Template(rf, ctx) {
  if (rf & 1) {
    const _r29 = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](1, "form", 4)(2, "div", 5)(3, "div", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelement"](4, "span", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](5, "div", 8)(6, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](7);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplate"](8, ApplicationStepConsentComponent_ng_container_0_ng_container_8_Template, 2, 1, "ng-container", 0);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](9, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](10);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](11, "div", 9)(12, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](13, "\u00D6nskat l\u00E5nebelopp");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](14, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](15, "Uppskattat v\u00E4rde");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](16, "div", 9)(17, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](18);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpipe"](19, "number");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](20, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](21);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpipe"](22, "number");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](23, "table", 10)(24, "tbody");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplate"](25, ApplicationStepConsentComponent_ng_container_0_ng_container_25_Template, 1, 0, "ng-container", 11)(26, ApplicationStepConsentComponent_ng_container_0_ng_container_26_Template, 1, 0, "ng-container", 11)(27, ApplicationStepConsentComponent_ng_container_0_ng_container_27_Template, 1, 0, "ng-container", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpipe"](28, "number");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplate"](29, ApplicationStepConsentComponent_ng_container_0_ng_container_29_Template, 1, 0, "ng-container", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpipe"](30, "number");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplate"](31, ApplicationStepConsentComponent_ng_container_0_ng_container_31_Template, 1, 0, "ng-container", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplate"](32, ApplicationStepConsentComponent_ng_container_0_ng_container_32_Template, 16, 1, "ng-container", 0);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](33, "h2");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](34, "S\u00F6kande");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplate"](35, ApplicationStepConsentComponent_ng_container_0_ng_container_35_Template, 1, 0, "ng-container", 11)(36, ApplicationStepConsentComponent_ng_container_0_ng_container_36_Template, 4, 4, "ng-container", 0);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](37, "h2");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](38, "Hush\u00E5llets ekonomi");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](39, "table", 10)(40, "tbody");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplate"](41, ApplicationStepConsentComponent_ng_container_0_ng_container_41_Template, 1, 0, "ng-container", 11)(42, ApplicationStepConsentComponent_ng_container_0_ng_container_42_Template, 7, 25, "ng-container", 0);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementContainerStart"](43);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](44, "h2");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](45, "\u00D6vriga l\u00E5n");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplate"](46, ApplicationStepConsentComponent_ng_container_0_table_46_Template, 11, 1, "table", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementContainerEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelement"](47, "hr", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](48, "form", 4)(49, "div", 14)(50, "label");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelement"](51, "input", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](52, " Jag intygar att uppgifterna i ans\u00F6kan \u00E4r korrekta och godk\u00E4nner att en kreditupplysning inh\u00E4mtas f\u00F6r l\u00E5ntagarna samt att personuppgifter behandlas i enlighet med ");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](53, "a", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](54, "personuppgiftspolicyn");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](55, ".");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](56, "div", 17)(57, "button", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵlistener"]("click", function ApplicationStepConsentComponent_ng_container_0_Template_button_click_57_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵrestoreView"](_r29);
      const ctx_r28 = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵresetView"](ctx_r28.apply($event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](58, " Skicka in ans\u00F6kan ");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]()()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵnextContext"]();
    const _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵreference"](6);
    const _r4 = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵreference"](4);
    const _r2 = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵreference"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("formGroup", ctx_r0.m.form.form);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtextInterpolate1"](" ", ctx_r0.m.app.ObjectAddressStreet, "");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngIf", ctx_r0.m.app.ObjectTypeCode === "seBrf");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtextInterpolate2"]("", ctx_r0.m.app.ObjectAddressZipcode, ", ", ctx_r0.m.app.ObjectAddressCity, "");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](8);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtextInterpolate1"]("", _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpipeBind2"](19, 29, ctx_r0.m.getWishedToLoanAmount(), "1.0-2"), " kr");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtextInterpolate1"]("", _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpipeBind2"](22, 32, ctx_r0.m.getEstimatedValueAmount(), "1.0-2"), " kr");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngTemplateOutlet", _r6)("ngTemplateOutletContext", _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpureFunction1"](41, _c5, ctx_r0.m.getObjectTypeText()));
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngTemplateOutlet", _r6)("ngTemplateOutletContext", _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpureFunction1"](43, _c6, ctx_r0.m.app.ObjectAddressMunicipality));
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngTemplateOutlet", _r6)("ngTemplateOutletContext", _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpureFunction1"](45, _c7, _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpipeBind2"](28, 35, ctx_r0.m.app.ObjectMonthlyFeeAmount, "1.0-2") + " kr"));
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngTemplateOutlet", _r6)("ngTemplateOutletContext", _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpureFunction1"](47, _c8, _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpipeBind2"](30, 38, ctx_r0.m.app.ObjectOtherMonthlyCostsAmount, "1.0-2") + " kr"));
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngTemplateOutlet", _r6)("ngTemplateOutletContext", _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpureFunction1"](49, _c9, ctx_r0.m.app.ObjectLivingArea + " kvm"));
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngIf", ctx_r0.m.app.ChangeExistingLoan && ctx_r0.m.app.ChangeExistingLoan.MortgageLoansToSettle);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngTemplateOutlet", _r4)("ngTemplateOutletContext", _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpureFunction1"](51, _c10, ctx_r0.m.app.Applicants[0]));
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngIf", ctx_r0.m.app.Applicants.length === 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngTemplateOutlet", _r6)("ngTemplateOutletContext", _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpureFunction1"](53, _c11, ctx_r0.m.app.HouseholdChildren ? ctx_r0.m.app.HouseholdChildren.length + " st" : "Inga"));
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngIf", ctx_r0.m.app.HouseholdChildren);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngIf", (ctx_r0.m.app.LoansToSettle == null ? null : ctx_r0.m.app.LoansToSettle.length) > 0)("ngIfElse", _r2);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("formGroup", ctx_r0.m.form.form);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("href", ctx_r0.m.personalDataPolicyUrl, _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵsanitizeUrl"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("disabled", ctx_r0.m.form.invalid());
  }
}
function ApplicationStepConsentComponent_ng_template_1_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](0, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](1, "Du har inte angivit n\u00E5gra l\u00E5n.");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
  }
}
function ApplicationStepConsentComponent_ng_template_3_ng_container_2_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementContainer"](0);
  }
}
function ApplicationStepConsentComponent_ng_template_3_ng_container_3_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementContainer"](0);
  }
}
function ApplicationStepConsentComponent_ng_template_3_ng_container_4_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementContainer"](0);
  }
}
function ApplicationStepConsentComponent_ng_template_3_ng_container_5_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementContainer"](0);
  }
}
function ApplicationStepConsentComponent_ng_template_3_ng_container_6_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementContainer"](0);
  }
}
function ApplicationStepConsentComponent_ng_template_3_ng_container_7_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementContainer"](0);
  }
}
function ApplicationStepConsentComponent_ng_template_3_ng_container_8_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementContainer"](0);
  }
}
function ApplicationStepConsentComponent_ng_template_3_ng_container_9_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementContainer"](0);
  }
}
function ApplicationStepConsentComponent_ng_template_3_ng_container_10_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementContainer"](0);
  }
}
function ApplicationStepConsentComponent_ng_template_3_ng_container_11_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementContainer"](0);
  }
}
const _c12 = (a1, a2) => ({
  title: "Ing\u00E5r i hush\u00E5llet?",
  value: a1,
  hide: a2
});
const _c13 = a1 => ({
  title: "Personnummer",
  value: a1
});
const _c14 = a1 => ({
  title: "Epost",
  value: a1
});
const _c15 = a1 => ({
  title: "Telefonnummer",
  value: a1
});
const _c16 = a1 => ({
  title: "Syssels\u00E4ttning",
  value: a1
});
const _c17 = (a1, a2) => ({
  title: "Arbetsgivarens namn",
  value: a1,
  hide: a2
});
const _c18 = (a1, a2) => ({
  title: "Arbetsgivarens telefon",
  value: a1,
  hide: a2
});
const _c19 = (a1, a2) => ({
  title: "Syssels\u00E4ttning sedan",
  value: a1,
  hide: a2
});
const _c20 = (a1, a2) => ({
  title: "Syssels\u00E4ttning till",
  value: a1,
  hide: a2
});
const _c21 = a1 => ({
  title: "M\u00E5nadsinkomst innan skatt",
  value: a1
});
function ApplicationStepConsentComponent_ng_template_3_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](0, "table", 10)(1, "tbody");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplate"](2, ApplicationStepConsentComponent_ng_template_3_ng_container_2_Template, 1, 0, "ng-container", 11)(3, ApplicationStepConsentComponent_ng_template_3_ng_container_3_Template, 1, 0, "ng-container", 11)(4, ApplicationStepConsentComponent_ng_template_3_ng_container_4_Template, 1, 0, "ng-container", 11)(5, ApplicationStepConsentComponent_ng_template_3_ng_container_5_Template, 1, 0, "ng-container", 11)(6, ApplicationStepConsentComponent_ng_template_3_ng_container_6_Template, 1, 0, "ng-container", 11)(7, ApplicationStepConsentComponent_ng_template_3_ng_container_7_Template, 1, 0, "ng-container", 11)(8, ApplicationStepConsentComponent_ng_template_3_ng_container_8_Template, 1, 0, "ng-container", 11)(9, ApplicationStepConsentComponent_ng_template_3_ng_container_9_Template, 1, 0, "ng-container", 11)(10, ApplicationStepConsentComponent_ng_template_3_ng_container_10_Template, 1, 0, "ng-container", 11)(11, ApplicationStepConsentComponent_ng_template_3_ng_container_11_Template, 1, 0, "ng-container", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpipe"](12, "number");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const applicant_r30 = ctx.applicant;
    const isMainApplicant_r31 = ctx.isMainApplicant;
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵnextContext"]();
    const _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵreference"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngTemplateOutlet", _r6)("ngTemplateOutletContext", _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpureFunction2"](23, _c12, applicant_r30.IsPartOfTheHousehold ? "Ja" : "Nej", isMainApplicant_r31));
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngTemplateOutlet", _r6)("ngTemplateOutletContext", _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpureFunction1"](26, _c13, applicant_r30.CivicRegNr));
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngTemplateOutlet", _r6)("ngTemplateOutletContext", _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpureFunction1"](28, _c14, applicant_r30.Email));
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngTemplateOutlet", _r6)("ngTemplateOutletContext", _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpureFunction1"](30, _c15, applicant_r30.Phone));
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngTemplateOutlet", _r6)("ngTemplateOutletContext", _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpureFunction1"](32, _c16, ctx_r3.m.getEmploymentType(applicant_r30.Employment)));
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngTemplateOutlet", _r6)("ngTemplateOutletContext", _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpureFunction2"](34, _c17, applicant_r30.Employer, !applicant_r30.Employer));
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngTemplateOutlet", _r6)("ngTemplateOutletContext", _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpureFunction2"](37, _c18, applicant_r30.EmployerPhone, !applicant_r30.EmployerPhone));
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngTemplateOutlet", _r6)("ngTemplateOutletContext", _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpureFunction2"](40, _c19, applicant_r30.EmployedSince, !applicant_r30.EmployedSince));
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngTemplateOutlet", _r6)("ngTemplateOutletContext", _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpureFunction2"](43, _c20, applicant_r30.EmployedTo, !applicant_r30.EmployedTo));
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngTemplateOutlet", _r6)("ngTemplateOutletContext", _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpureFunction1"](46, _c21, _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpipeBind2"](12, 20, applicant_r30.IncomePerMonthAmount, "1.0-2") + " kr"));
  }
}
function ApplicationStepConsentComponent_ng_template_5_tr_0_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](0, "tr")(1, "td", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](3, "td", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const ctx_r46 = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵnextContext"]();
    const title_r42 = ctx_r46.title;
    const value_r43 = ctx_r46.value;
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtextInterpolate"](title_r42);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtextInterpolate"](value_r43);
  }
}
function ApplicationStepConsentComponent_ng_template_5_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplate"](0, ApplicationStepConsentComponent_ng_template_5_tr_0_Template, 5, 2, "tr", 0);
  }
  if (rf & 2) {
    const hide_r44 = ctx.hide;
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngIf", !hide_r44);
  }
}
class ApplicationStepConsentComponent {
  constructor(fb, eventService, config) {
    this.fb = fb;
    this.eventService = eventService;
    this.config = config;
  }
  ngOnChanges(changes) {
    if (this.subs) {
      for (let sub of this.subs) {
        sub.unsubscribe();
      }
    }
    this.subs = [];
    this.m = null;
    if (!this.session) {
      return;
    }
    this.subs.push(this.eventService.applicationEvents.subscribe(x => {
      if (x.eventCode === _start_webapplication_start_webapplication_component__WEBPACK_IMPORTED_MODULE_1__.AutoFillInTestEventName) {
        this.autoFillInTest();
      }
    }));
    this.subs.push(this.session.subscribe(session => {
      if (!session) {
        this.m = null;
        return;
      }
      let form = this.fb.group({
        hasGivenConsent: [false, [_angular_forms__WEBPACK_IMPORTED_MODULE_6__.Validators.required, _angular_forms__WEBPACK_IMPORTED_MODULE_6__.Validators.requiredTrue]]
      });
      let helper = new src_app_common_services_ntech_forms_helper__WEBPACK_IMPORTED_MODULE_0__.FormsHelper(form);
      let enums = this.config.getEnums();
      this.config.fetchMlWebappSettings().toPromise().then(res => {
        let m = new Model(helper, session, enums.OtherLoanTypes, enums.EmploymentStatuses);
        m.personalDataPolicyUrl = res.MortgageLoanExternalApplicationSettings['personalDataPolicyUrl'];
        this.m = m;
      });
    }));
  }
  apply(evt) {
    evt?.preventDefault();
    //@ts-ignore TODO remove unused locals
    let f = this.m.form;
    let a = this.m.session.application;
    a.Applicants.forEach(a => a.HasConsentedToCreditReport = true);
    this.eventService.emitApplicationEvent(_start_webapplication_start_webapplication_component__WEBPACK_IMPORTED_MODULE_1__.NextStepEventName, JSON.stringify({
      session: this.m.session
    }));
  }
  autoFillInTest() {
    //@ts-ignore TODO remove unused locals
    let f = this.m.form;
  }
  static #_ = this.ɵfac = function ApplicationStepConsentComponent_Factory(t) {
    return new (t || ApplicationStepConsentComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵdirectiveInject"](_angular_forms__WEBPACK_IMPORTED_MODULE_6__.UntypedFormBuilder), _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵdirectiveInject"](projects_customerpages_src_app_common_services_customerpages_event_service__WEBPACK_IMPORTED_MODULE_2__.CustomerPagesEventService), _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵdirectiveInject"](projects_customerpages_src_app_common_services_customer_pages_config_service__WEBPACK_IMPORTED_MODULE_3__.CustomerPagesConfigService));
  };
  static #_2 = this.ɵcmp = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵdefineComponent"]({
    type: ApplicationStepConsentComponent,
    selectors: [["application-step-consent"]],
    inputs: {
      session: "session"
    },
    features: [_angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵNgOnChangesFeature"]],
    decls: 7,
    vars: 1,
    consts: [[4, "ngIf"], ["noLoans", ""], ["applicantShared", ""], ["twoColumn", ""], [3, "formGroup"], [1, "row", "pb-2"], [1, "col-xs-2", "col-sm-1"], [1, "glyphicon", "glyphicon-home", "glyphicon-big"], [1, "col-xs-4", "col-sm-5"], [1, "col-xs-3"], [1, "table"], [4, "ngTemplateOutlet", "ngTemplateOutletContext"], ["class", "table", 4, "ngIf", "ngIfElse"], [1, "hr-section", "dotted"], [1, "checkbox"], ["type", "checkbox", "formControlName", "hasGivenConsent"], ["target", "_blank", 1, "n-anchor", 3, "href"], [1, "text-right", "pt-5"], [1, "n-main-btn", "n-green-btn", 3, "disabled", "click"], [4, "ngFor", "ngForOf"], [1, "col-xs-4"], [1, "col-xs-4", "col-sm-6"]],
    template: function ApplicationStepConsentComponent_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplate"](0, ApplicationStepConsentComponent_ng_container_0_Template, 59, 55, "ng-container", 0)(1, ApplicationStepConsentComponent_ng_template_1_Template, 2, 0, "ng-template", null, 1, _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplateRefExtractor"])(3, ApplicationStepConsentComponent_ng_template_3_Template, 13, 48, "ng-template", null, 2, _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplateRefExtractor"])(5, ApplicationStepConsentComponent_ng_template_5_Template, 1, 1, "ng-template", null, 3, _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplateRefExtractor"]);
      }
      if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngIf", ctx.m);
      }
    },
    dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_7__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_7__.NgIf, _angular_common__WEBPACK_IMPORTED_MODULE_7__.NgTemplateOutlet, _angular_forms__WEBPACK_IMPORTED_MODULE_6__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_6__.CheckboxControlValueAccessor, _angular_forms__WEBPACK_IMPORTED_MODULE_6__.NgControlStatus, _angular_forms__WEBPACK_IMPORTED_MODULE_6__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_6__.FormGroupDirective, _angular_forms__WEBPACK_IMPORTED_MODULE_6__.FormControlName, _angular_common__WEBPACK_IMPORTED_MODULE_7__.DecimalPipe, src_app_common_components_pipes_join_pipe__WEBPACK_IMPORTED_MODULE_4__.JoinPipe],
    styles: [".glyphicon.glyphicon-big[_ngcontent-%COMP%] {\n                font-size: 50px;\n            }\n        \n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3Byb2plY3RzL2N1c3RvbWVycGFnZXMvc3JjL2FwcC9tb3J0Z2FnZS1sb2FuLWFwcGxpY2F0aW9ucy9zZWN1cmUtcGFnZXMvaW5pdGlhbC1hcHBsaWNhdGlvbi9jb21wb25lbnRzL2FwcGxpY2F0aW9uLXN0ZXAtY29uc2VudC9hcHBsaWNhdGlvbi1zdGVwLWNvbnNlbnQuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7WUFDWTtnQkFDSSxlQUFlO1lBQ25CIiwic291cmNlc0NvbnRlbnQiOlsiXG4gICAgICAgICAgICAuZ2x5cGhpY29uLmdseXBoaWNvbi1iaWcge1xuICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogNTBweDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgIl0sInNvdXJjZVJvb3QiOiIifQ== */"]
  });
}
class Model {
  constructor(form, session, loanTypes, employmentTypes) {
    this.form = form;
    this.session = session;
    this.loanTypes = loanTypes;
    this.employmentTypes = employmentTypes;
    this.app = session.application;
  }
  // sum(MortgageLoansToSettle[*].CurrentDebtAmount) where ShouldBeSettled = true + ChangeExistingLoan.PaidToCustomerAmount
  getWishedToLoanAmount() {
    if (this.app.Purchase) {
      return this.app.Purchase.ObjectPriceAmount - this.app.Purchase.OwnSavingsAmount;
    } else {
      let currentDebt = this.app.ChangeExistingLoan.MortgageLoansToSettle.map(loan => loan.ShouldBeSettled ? loan.CurrentDebtAmount : 0).reduce(amount => {
        return amount;
      });
      return currentDebt + this.app.ChangeExistingLoan.PaidToCustomerAmount;
    }
  }
  getEstimatedValueAmount() {
    return this.app.Purchase?.ObjectPriceAmount ?? this.app.ChangeExistingLoan?.ObjectValueAmount;
  }
  getLoanType(typeCode) {
    return this.loanTypes.find(type => type.Code === typeCode).DisplayName;
  }
  getEmploymentType(typeCode) {
    return this.employmentTypes.find(type => type.Code === typeCode).DisplayName;
  }
  getObjectTypeText() {
    return this.app.ObjectTypeCode === 'seBrf' ? 'Bostadsrättsförening' : 'Fastighet';
  }
}

/***/ }),

/***/ 1241:
/*!******************************************************************************************************************************************************************************!*\
  !*** ./projects/customerpages/src/app/mortgage-loan-applications/secure-pages/initial-application/components/application-step-economy/application-step-economy.component.ts ***!
  \******************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ApplicationStepEconomyComponent: () => (/* binding */ ApplicationStepEconomyComponent)
/* harmony export */ });
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/forms */ 8849);
/* harmony import */ var src_app_common_services_ntech_forms_helper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! src/app/common-services/ntech-forms-helper */ 7093);
/* harmony import */ var src_app_common_services_randomizer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/app/common-services/randomizer */ 7790);
/* harmony import */ var _start_webapplication_start_webapplication_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../start-webapplication/start-webapplication.component */ 5030);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/core */ 1699);
/* harmony import */ var projects_customerpages_src_app_common_services_customerpages_event_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! projects/customerpages/src/app/common-services/customerpages-event.service */ 3211);
/* harmony import */ var projects_customerpages_src_app_common_services_customer_pages_validation_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! projects/customerpages/src/app/common-services/customer-pages-validation.service */ 423);
/* harmony import */ var projects_customerpages_src_app_common_services_customer_pages_config_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! projects/customerpages/src/app/common-services/customer-pages-config.service */ 5716);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/common */ 6575);










function ApplicationStepEconomyComponent_ng_container_0_ng_container_19_div_6_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "div", 9)(1, "label");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](2, "Delad v\u00E5rdnad?");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](3, "select", 30);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelement"](4, "option", 31);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](5, "option", 31);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](6, "Ja");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](7, "option", 31);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](8, "Nej");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()()();
  }
  if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngValue", "");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngValue", "true");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngValue", "false");
  }
}
const _c0 = a0 => ({
  "has-error": a0
});
function ApplicationStepEconomyComponent_ng_container_0_ng_container_19_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](1, "div", 26)(2, "div", 27)(3, "label");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](4, "\u00C5lder");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelement"](5, "input", 28);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtemplate"](6, ApplicationStepEconomyComponent_ng_container_0_ng_container_19_div_6_Template, 9, 3, "div", 29);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const groupName_r12 = ctx.$implicit;
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpropertyInterpolate"]("formGroupName", groupName_r12);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpureFunction1"](3, _c0, ctx_r3.m.form.form.hasError("ageInYears", groupName_r12)));
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngIf", ctx_r3.m.form.getValue("sharedCustodyAndUpkeep"));
  }
}
function ApplicationStepEconomyComponent_ng_container_0_div_20_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "div", 32)(1, "div", 33)(2, "label");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelement"](3, "input", 34);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](4, " Hush\u00E5llet har delad v\u00E5rdnad och underh\u00E5ll");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()()();
  }
}
function ApplicationStepEconomyComponent_ng_container_0_ng_container_22_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementContainer"](0);
  }
}
function ApplicationStepEconomyComponent_ng_container_0_ng_container_23_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementContainer"](0);
  }
}
function ApplicationStepEconomyComponent_ng_container_0_ng_container_24_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementContainer"](0);
  }
}
function ApplicationStepEconomyComponent_ng_container_0_ng_container_38_div_12_Template(rf, ctx) {
  if (rf & 1) {
    const _r18 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "div", 41)(1, "div", 42)(2, "button", 43);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵlistener"]("click", function ApplicationStepEconomyComponent_ng_container_0_ng_container_38_div_12_Template_button_click_2_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵrestoreView"](_r18);
      const groupName_r14 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"]().$implicit;
      const ctx_r16 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"](2);
      return _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵresetView"](ctx_r16.removeMortgageLoan(false, groupName_r14));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelement"](3, "span", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()()();
  }
}
function ApplicationStepEconomyComponent_ng_container_0_ng_container_38_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](1, "div", 35)(2, "div", 36)(3, "div", 5)(4, "div", 37)(5, "label");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](6, "M\u00E5nadskostnad");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelement"](7, "input", 38);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](8, "div", 37)(9, "label");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](10, "Nuvarande skuld");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelement"](11, "input", 39);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtemplate"](12, ApplicationStepEconomyComponent_ng_container_0_ng_container_38_div_12_Template, 4, 0, "div", 40);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const groupName_r14 = ctx.$implicit;
    const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpropertyInterpolate"]("formGroupName", groupName_r14);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpropertyInterpolate"]("formGroupName", groupName_r14);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngIf", ctx_r8.m.mortgageLoanGroupNames.length > 1);
  }
}
function ApplicationStepEconomyComponent_ng_container_0_div_39_Template(rf, ctx) {
  if (rf & 1) {
    const _r20 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "div", 44)(1, "button", 43);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵlistener"]("click", function ApplicationStepEconomyComponent_ng_container_0_div_39_Template_button_click_1_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵrestoreView"](_r20);
      const ctx_r19 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"](2);
      return _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵresetView"](ctx_r19.addMortgageLoan());
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelement"](2, "span", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()();
  }
}
function ApplicationStepEconomyComponent_ng_container_0_ng_container_51_option_9_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "option", 49);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const opt_r24 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("value", opt_r24.Code);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtextInterpolate"](opt_r24.DisplayName);
  }
}
function ApplicationStepEconomyComponent_ng_container_0_ng_container_51_div_18_Template(rf, ctx) {
  if (rf & 1) {
    const _r27 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "div", 41)(1, "div", 42)(2, "button", 43);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵlistener"]("click", function ApplicationStepEconomyComponent_ng_container_0_ng_container_51_div_18_Template_button_click_2_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵrestoreView"](_r27);
      const groupName_r21 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"]().$implicit;
      const ctx_r25 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"](2);
      return _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵresetView"](ctx_r25.removeOtherLoan(false, groupName_r21));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelement"](3, "span", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()()();
  }
}
function ApplicationStepEconomyComponent_ng_container_0_ng_container_51_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](1, "div", 35)(2, "div", 36)(3, "div", 5)(4, "div", 45)(5, "label");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](6, "Typ av l\u00E5n");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](7, "select", 46);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelement"](8, "option", 47);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtemplate"](9, ApplicationStepEconomyComponent_ng_container_0_ng_container_51_option_9_Template, 2, 2, "option", 48);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](10, "div", 45)(11, "label");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](12, "M\u00E5nadskostnad");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelement"](13, "input", 38);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](14, "div", 45)(15, "label");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](16, "Nuvarande skuld");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelement"](17, "input", 39);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtemplate"](18, ApplicationStepEconomyComponent_ng_container_0_ng_container_51_div_18_Template, 4, 0, "div", 40);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const groupName_r21 = ctx.$implicit;
    const ctx_r10 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpropertyInterpolate"]("formGroupName", groupName_r21);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngForOf", ctx_r10.m.otherLoanTypes());
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpropertyInterpolate"]("formGroupName", groupName_r21);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpropertyInterpolate"]("formGroupName", groupName_r21);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngIf", ctx_r10.m.otherLoanGroupNames.length > 1);
  }
}
function ApplicationStepEconomyComponent_ng_container_0_div_52_Template(rf, ctx) {
  if (rf & 1) {
    const _r29 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "div", 50)(1, "button", 43);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵlistener"]("click", function ApplicationStepEconomyComponent_ng_container_0_div_52_Template_button_click_1_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵrestoreView"](_r29);
      const ctx_r28 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"](2);
      return _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵresetView"](ctx_r28.addOtherLoan());
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelement"](2, "span", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()();
  }
}
const _c1 = "Hur mycket f\u00E5r hush\u00E5llet i barnbidrag/studiebidrag?";
const _c2 = () => ({
  formControlName: "childBenefitAmount",
  displayText: _c1
});
const _c3 = () => ({
  formControlName: "outgoingChildSupportAmount",
  displayText: "Hur mycket f\u00E5r hush\u00E5llet i underh\u00E5ll?"
});
const _c4 = () => ({
  formControlName: "incomingChildSupportAmount",
  displayText: "Hur mycket betalar hush\u00E5llet i underh\u00E5ll?"
});
function ApplicationStepEconomyComponent_ng_container_0_Template(rf, ctx) {
  if (rf & 1) {
    const _r31 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](1, "form", 2)(2, "h2");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](3, "Hush\u00E5llets ekonomi");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](4, "div", 3)(5, "div", 4)(6, "div", 2)(7, "label");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](8, "Hur m\u00E5nga barn bor i hush\u00E5llet?");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](9, "div", 5)(10, "div", 6)(11, "button", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵlistener"]("click", function ApplicationStepEconomyComponent_ng_container_0_Template_button_click_11_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵrestoreView"](_r31);
      const ctx_r30 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵresetView"](ctx_r30.removeChild());
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelement"](12, "span", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](13, "div", 9)(14, "p", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](15);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](16, "div", 6)(17, "button", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵlistener"]("click", function ApplicationStepEconomyComponent_ng_container_0_Template_button_click_17_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵrestoreView"](_r31);
      const ctx_r32 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵresetView"](ctx_r32.addChild());
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelement"](18, "span", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtemplate"](19, ApplicationStepEconomyComponent_ng_container_0_ng_container_19_Template, 7, 5, "ng-container", 13)(20, ApplicationStepEconomyComponent_ng_container_0_div_20_Template, 5, 0, "div", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](21, "div", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtemplate"](22, ApplicationStepEconomyComponent_ng_container_0_ng_container_22_Template, 1, 0, "ng-container", 15)(23, ApplicationStepEconomyComponent_ng_container_0_ng_container_23_Template, 1, 0, "ng-container", 15)(24, ApplicationStepEconomyComponent_ng_container_0_ng_container_24_Template, 1, 0, "ng-container", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](25, "h2");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](26, "\u00D6vriga l\u00E5n");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](27, "div", 16)(28, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](29, "Har ni andra bol\u00E5n (f\u00F6rutom det ni vill l\u00E5na till nu)?");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](30, "div", 17)(31, "label");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelement"](32, "input", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](33, " Ja");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](34, "div", 17)(35, "label");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelement"](36, "input", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](37, " Nej");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtemplate"](38, ApplicationStepEconomyComponent_ng_container_0_ng_container_38_Template, 13, 3, "ng-container", 13)(39, ApplicationStepEconomyComponent_ng_container_0_div_39_Template, 3, 0, "div", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](40, "div", 16)(41, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](42, "Har ni ytterligare l\u00E5n (f\u00F6rutom bol\u00E5n)?");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](43, "div", 17)(44, "label");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelement"](45, "input", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](46, " Ja");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](47, "div", 17)(48, "label");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelement"](49, "input", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](50, " Nej");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtemplate"](51, ApplicationStepEconomyComponent_ng_container_0_ng_container_51_Template, 19, 5, "ng-container", 13)(52, ApplicationStepEconomyComponent_ng_container_0_div_52_Template, 3, 0, "div", 23);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](53, "div", 24)(54, "button", 25);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵlistener"]("click", function ApplicationStepEconomyComponent_ng_container_0_Template_button_click_54_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵrestoreView"](_r31);
      const ctx_r33 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵresetView"](ctx_r33.apply($event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](55, "G\u00E5 vidare");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"]();
    const _r2 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵreference"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("formGroup", ctx_r0.m.form.form);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("formGroup", ctx_r0.m.form.form);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("disabled", !ctx_r0.m.form || ctx_r0.m.childrenGroupNames.length === 0);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtextInterpolate"](ctx_r0.m.childrenGroupNames.length);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngForOf", ctx_r0.m.childrenGroupNames);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngIf", ctx_r0.m.childrenGroupNames.length > 0);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngTemplateOutlet", _r2)("ngTemplateOutletContext", _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpureFunction0"](17, _c2));
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngTemplateOutlet", _r2)("ngTemplateOutletContext", _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpureFunction0"](18, _c3));
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngTemplateOutlet", _r2)("ngTemplateOutletContext", _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpureFunction0"](19, _c4));
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](14);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngForOf", ctx_r0.m.mortgageLoanGroupNames);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngIf", ctx_r0.m.form.getValue("hasOtherMortgageLoans") === "true");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](12);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngForOf", ctx_r0.m.otherLoanGroupNames);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngIf", ctx_r0.m.form.getValue("hasOtherNonMortgageLoans") === "true");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("disabled", ctx_r0.m.form.invalid());
  }
}
function ApplicationStepEconomyComponent_ng_template_1_div_0_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "div", 52)(1, "label");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelement"](3, "input", 53);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r37 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"]();
    const formControlName_r35 = ctx_r37.formControlName;
    const displayText_r34 = ctx_r37.displayText;
    const ctx_r36 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpureFunction1"](4, _c0, ctx_r36.m.form.hasError(formControlName_r35)))("formGroup", ctx_r36.m.form.form);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtextInterpolate"](displayText_r34);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("formControlName", formControlName_r35);
  }
}
function ApplicationStepEconomyComponent_ng_template_1_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtemplate"](0, ApplicationStepEconomyComponent_ng_template_1_div_0_Template, 4, 6, "div", 51);
  }
  if (rf & 2) {
    const formControlName_r35 = ctx.formControlName;
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngIf", ctx_r1.m.form.hasFormControl(null, formControlName_r35));
  }
}
class ApplicationStepEconomyComponent {
  constructor(fb, eventService, validationService, config) {
    this.fb = fb;
    this.eventService = eventService;
    this.validationService = validationService;
    this.config = config;
  }
  ngOnChanges(changes) {
    if (this.subs) {
      for (let sub of this.subs) {
        sub.unsubscribe();
      }
    }
    this.subs = [];
    this.m = null;
    if (!this.session) {
      return;
    }
    this.subs.push(this.eventService.applicationEvents.subscribe(x => {
      if (x.eventCode === _start_webapplication_start_webapplication_component__WEBPACK_IMPORTED_MODULE_2__.AutoFillInTestEventName) {
        this.autoFillInTest();
      }
    }));
    this.subs.push(this.session.subscribe(session => {
      if (!session) {
        this.m = null;
        return;
      }
      // These will always exist.
      let baseForm = this.fb.group({
        hasOtherMortgageLoans: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_7__.Validators.required]],
        hasOtherNonMortgageLoans: [null, [_angular_forms__WEBPACK_IMPORTED_MODULE_7__.Validators.required]],
        internalChildCount: [0, []]
      });
      let baseHelper = new src_app_common_services_ntech_forms_helper__WEBPACK_IMPORTED_MODULE_0__.FormsHelper(baseForm);
      baseForm.valueChanges.subscribe(x => {
        // Add some fields based on other values on the form.
        baseHelper.ensureControlOnConditionOnly(baseHelper.getValue('internalChildCount') > 0, 'childBenefitAmount', () => '', () => [_angular_forms__WEBPACK_IMPORTED_MODULE_7__.Validators.required, this.validationService.getPositiveIntegerValidator()]);
        baseHelper.ensureControlOnConditionOnly(baseHelper.getValue('internalChildCount') > 0, 'sharedCustodyAndUpkeep', () => false, () => []);
        baseHelper.ensureControlOnConditionOnly(baseHelper.getValue('sharedCustodyAndUpkeep') === true, 'outgoingChildSupportAmount', () => '', () => [_angular_forms__WEBPACK_IMPORTED_MODULE_7__.Validators.required, this.validationService.getPositiveIntegerValidator()]);
        baseHelper.ensureControlOnConditionOnly(baseHelper.getValue('sharedCustodyAndUpkeep') === true, 'incomingChildSupportAmount', () => '', () => [_angular_forms__WEBPACK_IMPORTED_MODULE_7__.Validators.required, this.validationService.getPositiveIntegerValidator()]);
        let hasOtherMortgageLoans = baseHelper.getValue('hasOtherMortgageLoans');
        if (hasOtherMortgageLoans === 'true' && this.m.mortgageLoanGroupNames?.length === 0) {
          let newGroupName = this.addMortgageLoanFormGroup(this.m.form, 1);
          if (newGroupName !== null) this.m.mortgageLoanGroupNames.push(newGroupName);
          this.m.takeMortgageLoanSuffix();
        } else if (hasOtherMortgageLoans === 'false') {
          this.removeMortgageLoan(true);
        }
        let hasOtherNonMortgageLoans = baseHelper.getValue('hasOtherNonMortgageLoans');
        if (hasOtherNonMortgageLoans === 'true' && this.m.otherLoanGroupNames.length === 0) {
          let newGroupName = this.addOtherLoanFormGroup(this.m.form, 1);
          if (newGroupName !== null) this.m.otherLoanGroupNames.push(newGroupName);
          this.m.takeNonMortgageLoanSuffix();
        } else if (hasOtherNonMortgageLoans === 'false') {
          this.removeOtherLoan(true);
        }
      });
      let loanTypes = this.config.getEnums().OtherLoanTypes;
      let m = new Model(baseHelper, session, loanTypes);
      this.m = m;
    }));
  }
  addMortgageLoanFormGroup(form, suffix) {
    let formGroupName = 'mortgageLoanGroup' + suffix.toString();
    let addedOrNull = form.addGroupIfNotExists(formGroupName, [{
      controlName: 'loanType',
      initialValue: 'mortgage',
      validators: []
    }, {
      controlName: 'monthlyCostAmount',
      initialValue: null,
      validators: [this.validationService.getPositiveIntegerValidator()]
    }, {
      controlName: 'currentDebtAmount',
      initialValue: null,
      validators: [_angular_forms__WEBPACK_IMPORTED_MODULE_7__.Validators.required, this.validationService.getPositiveIntegerValidator()]
    }]);
    return addedOrNull ? formGroupName : null;
  }
  addMortgageLoan() {
    let newGroupName = this.addMortgageLoanFormGroup(this.m.form, this.m.takeMortgageLoanSuffix());
    // To protect against label/input triggering change twice from radiobuttons.
    if (newGroupName !== null) this.m.mortgageLoanGroupNames.push(newGroupName);
  }
  removeMortgageLoan(removeAll, groupName) {
    let removeSingle = group => {
      this.m.mortgageLoanGroupNames.splice(this.m.mortgageLoanGroupNames.indexOf(group), 1);
      this.m.form.form.removeControl(group);
    };
    if (removeAll) {
      this.m.mortgageLoanGroupNames.every(x => removeSingle(x));
    } else if (groupName !== null) {
      removeSingle(groupName);
    }
  }
  addOtherLoanFormGroup(form, suffix) {
    let formGroupName = 'otherLoanGroup' + suffix.toString();
    let addedOrNull = form.addGroupIfNotExists(formGroupName, [{
      controlName: 'loanType',
      initialValue: null,
      validators: []
    }, {
      controlName: 'monthlyCostAmount',
      initialValue: null,
      validators: [this.validationService.getPositiveIntegerValidator()]
    }, {
      controlName: 'currentDebtAmount',
      initialValue: null,
      validators: [_angular_forms__WEBPACK_IMPORTED_MODULE_7__.Validators.required, this.validationService.getPositiveIntegerValidator()]
    }]);
    return addedOrNull ? formGroupName : null;
  }
  addOtherLoan() {
    let newGroupName = this.addOtherLoanFormGroup(this.m.form, this.m.takeNonMortgageLoanSuffix());
    // To protect against label/input triggering change twice from radiobuttons.
    if (newGroupName !== null) this.m.otherLoanGroupNames.push(newGroupName);
  }
  removeOtherLoan(removeAll, groupName) {
    let removeSingle = group => {
      this.m.otherLoanGroupNames.splice(this.m.otherLoanGroupNames.indexOf(group), 1);
      this.m.form.form.removeControl(group);
    };
    if (removeAll) {
      this.m.otherLoanGroupNames.forEach(x => removeSingle(x));
    } else if (groupName !== null) {
      removeSingle(groupName);
    }
  }
  addChildFormGroup(form, index) {
    let formGroupName = 'childGroup' + (index + 1).toString();
    form.setValue('internalChildCount', form.getValue('internalChildCount') + 1);
    form.addGroupIfNotExists(formGroupName, [{
      controlName: 'ageInYears',
      initialValue: null,
      validators: [this.validationService.getPositiveIntegerWithBoundsValidator(0, 200)]
    }, {
      controlName: 'sharedCustody',
      initialValue: null,
      validators: []
    }]);
    return formGroupName;
  }
  apply(evt) {
    evt?.preventDefault();
    let f = this.m.form;
    let a = this.m.session.application;
    let val = this.validationService;
    a.ChildBenefitAmount = val.parseIntegerOrNull(f.getValue('childBenefitAmount'));
    a.OutgoingChildSupportAmount = val.parseIntegerOrNull(f.getValue('outgoingChildSupportAmount'));
    a.IncomingChildSupportAmount = val.parseIntegerOrNull(f.getValue('incomingChildSupportAmount'));
    if (this.m.childrenGroupNames.length > 0) {
      let children = [];
      for (let group of this.m.childrenGroupNames) {
        children.push({
          Exists: true,
          AgeInYears: val.parseIntegerOrNull(f.getFormGroupValue(group, 'ageInYears')),
          SharedCustody: f.getFormGroupValue(group, 'sharedCustody') === 'true'
        });
      }
      a.HouseholdChildren = children;
    }
    let otherLoans = [];
    if (this.m.mortgageLoanGroupNames.length > 0) {
      for (let group of this.m.mortgageLoanGroupNames) {
        otherLoans.push({
          LoanType: 'mortgage',
          MonthlyCostAmount: val.parseIntegerOrNull(f.getFormGroupValue(group, 'monthlyCostAmount')),
          CurrentDebtAmount: val.parseIntegerOrNull(f.getFormGroupValue(group, 'currentDebtAmount'))
        });
      }
    }
    if (this.m.otherLoanGroupNames.length > 0) {
      for (let group of this.m.otherLoanGroupNames) {
        otherLoans.push({
          LoanType: f.getFormGroupValue(group, 'loanType'),
          MonthlyCostAmount: val.parseIntegerOrNull(f.getFormGroupValue(group, 'monthlyCostAmount')),
          CurrentDebtAmount: val.parseIntegerOrNull(f.getFormGroupValue(group, 'currentDebtAmount'))
        });
      }
    }
    a.LoansToSettle = otherLoans;
    this.eventService.emitApplicationEvent(_start_webapplication_start_webapplication_component__WEBPACK_IMPORTED_MODULE_2__.NextStepEventName, JSON.stringify({
      session: this.m.session
    }));
  }
  addChild() {
    let currentCount = this.m.childrenGroupNames?.length ?? 0;
    let newGroupName = this.addChildFormGroup(this.m.form, currentCount);
    this.m.childrenGroupNames.push(newGroupName);
  }
  removeChild() {
    let indexToRemove = this.m.childrenGroupNames.length - 1;
    this.m.form.setValue('internalChildCount', indexToRemove.toString());
    let groupNameToRemove = this.m.childrenGroupNames[indexToRemove];
    this.m.childrenGroupNames.splice(indexToRemove, 1);
    this.m.form.form.removeControl(groupNameToRemove);
  }
  autoFillInTest() {
    let f = this.m.form;
    let nrOfChildren = src_app_common_services_randomizer__WEBPACK_IMPORTED_MODULE_1__.Randomizer.anyOf([0, 0, 0, 1, 2]);
    if (nrOfChildren > 0) {
      [...Array(nrOfChildren)].forEach(_ => this.addChild());
      let sharedCustody = src_app_common_services_randomizer__WEBPACK_IMPORTED_MODULE_1__.Randomizer.anyOf([true, false]);
      this.m.childrenGroupNames.map((groupName, _) => {
        f.setValue2(groupName, 'ageInYears', src_app_common_services_randomizer__WEBPACK_IMPORTED_MODULE_1__.Randomizer.anyOf(['1', '3', '5', '7', '9']));
        f.setValue2(groupName, 'sharedCustody', src_app_common_services_randomizer__WEBPACK_IMPORTED_MODULE_1__.Randomizer.anyOf(['true', 'false']));
      });
      f.setValue('childBenefitAmount', src_app_common_services_randomizer__WEBPACK_IMPORTED_MODULE_1__.Randomizer.anyOf(['500', '1000', '1500']));
      if (sharedCustody) {
        f.setValue('sharedCustodyAndUpkeep', sharedCustody);
        f.setValue('outgoingChildSupportAmount', src_app_common_services_randomizer__WEBPACK_IMPORTED_MODULE_1__.Randomizer.anyOf(['500', '1000', '1500']));
        f.setValue('incomingChildSupportAmount', src_app_common_services_randomizer__WEBPACK_IMPORTED_MODULE_1__.Randomizer.anyOf(['500', '1000', '1500']));
      }
    }
    let nrOfMortgageLoans = src_app_common_services_randomizer__WEBPACK_IMPORTED_MODULE_1__.Randomizer.anyOf([0, 0, 0, 1, 2]);
    if (nrOfMortgageLoans > 0) {
      [...Array(nrOfMortgageLoans)].forEach(_ => this.addMortgageLoan());
      this.m.mortgageLoanGroupNames.map((groupName, _) => {
        f.setValue2(groupName, 'currentDebtAmount', src_app_common_services_randomizer__WEBPACK_IMPORTED_MODULE_1__.Randomizer.anyEvenNumberBetween(100000, 2500000, 10000).toString());
        f.setValue2(groupName, 'monthlyCostAmount', src_app_common_services_randomizer__WEBPACK_IMPORTED_MODULE_1__.Randomizer.anyEvenNumberBetween(1500, 8000, 250).toString());
      });
    }
    f.setValue('hasOtherMortgageLoans', nrOfMortgageLoans > 0 ? 'true' : 'false');
    let nrNonMortgageLoans = src_app_common_services_randomizer__WEBPACK_IMPORTED_MODULE_1__.Randomizer.anyOf([0, 1, 2]);
    if (nrNonMortgageLoans > 0) {
      [...Array(nrNonMortgageLoans)].forEach(_ => this.addOtherLoan());
      this.m.otherLoanGroupNames.map((groupName, _) => {
        f.setValue2(groupName, 'currentDebtAmount', src_app_common_services_randomizer__WEBPACK_IMPORTED_MODULE_1__.Randomizer.anyEvenNumberBetween(15000, 200000, 1000).toString());
        f.setValue2(groupName, 'monthlyCostAmount', src_app_common_services_randomizer__WEBPACK_IMPORTED_MODULE_1__.Randomizer.anyEvenNumberBetween(500, 4500, 100).toString());
        f.setValue2(groupName, 'loanType', src_app_common_services_randomizer__WEBPACK_IMPORTED_MODULE_1__.Randomizer.anyOf(this.m.otherLoanTypes().map((val, _) => val.Code)));
      });
    }
    f.setValue('hasOtherNonMortgageLoans', nrNonMortgageLoans > 0 ? 'true' : 'false');
  }
  static #_ = this.ɵfac = function ApplicationStepEconomyComponent_Factory(t) {
    return new (t || ApplicationStepEconomyComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵdirectiveInject"](_angular_forms__WEBPACK_IMPORTED_MODULE_7__.UntypedFormBuilder), _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵdirectiveInject"](projects_customerpages_src_app_common_services_customerpages_event_service__WEBPACK_IMPORTED_MODULE_3__.CustomerPagesEventService), _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵdirectiveInject"](projects_customerpages_src_app_common_services_customer_pages_validation_service__WEBPACK_IMPORTED_MODULE_4__.CustomerPagesValidationService), _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵdirectiveInject"](projects_customerpages_src_app_common_services_customer_pages_config_service__WEBPACK_IMPORTED_MODULE_5__.CustomerPagesConfigService));
  };
  static #_2 = this.ɵcmp = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵdefineComponent"]({
    type: ApplicationStepEconomyComponent,
    selectors: [["application-step-economy"]],
    inputs: {
      session: "session"
    },
    features: [_angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵNgOnChangesFeature"]],
    decls: 3,
    vars: 1,
    consts: [[4, "ngIf"], ["textGroup", ""], [3, "formGroup"], [1, "row", "pb-2"], [1, "col-sm-6", "col-xs-12"], [1, "row"], [1, "col-sm-2", "col-xs-3"], ["title", "Remove a child", 1, "n-icon-btn", "n-blue-btn", 3, "disabled", "click"], [1, "glyphicon", "glyphicon-minus", "glyphicon-centered"], [1, "col-sm-4", "col-xs-6"], [1, "form-control", "copyable", "bb-1", "text-center"], ["title", "Add a child", 1, "n-icon-btn", "n-blue-btn", 3, "click"], [1, "glyphicon", "glyphicon-plus", "glyphicon-centered"], [4, "ngFor", "ngForOf"], ["class", "pb-1", 4, "ngIf"], [4, "ngTemplateOutlet", "ngTemplateOutletContext"], [1, "form-group", "pb-1"], [1, "radio-inline"], ["type", "radio", "formControlName", "hasOtherMortgageLoans", "value", "true"], ["type", "radio", "formControlName", "hasOtherMortgageLoans", "value", "false"], ["class", "pt-1 pb-2", 4, "ngIf"], ["type", "radio", "formControlName", "hasOtherNonMortgageLoans", "value", "true"], ["type", "radio", "formControlName", "hasOtherNonMortgageLoans", "value", "false"], ["class", "pt-1", 4, "ngIf"], [1, "text-right", "pt-5"], [1, "n-main-btn", "n-green-btn", 3, "disabled", "click"], [1, "row", "pb-1", 3, "formGroupName"], [1, "col-sm-8", "col-xs-6", 3, "ngClass"], ["type", "text", "formControlName", "ageInYears", 1, "form-control"], ["class", "col-sm-4 col-xs-6", 4, "ngIf"], ["formControlName", "sharedCustody", 1, "form-control"], [3, "ngValue"], [1, "pb-1"], [1, "checkbox-inline"], ["type", "checkbox", "formControlName", "sharedCustodyAndUpkeep"], [1, "row", "pb-1"], [1, "col-sm-11", "col-xs-9"], [1, "form-group", "col-sm-6", "col-xs-12", "pb-1", 3, "formGroupName"], ["type", "text", "formControlName", "monthlyCostAmount", 1, "form-control"], ["type", "text", "formControlName", "currentDebtAmount", 1, "form-control"], ["class", "col-sm-1 col-xs-3", 4, "ngIf"], [1, "col-sm-1", "col-xs-3"], [1, "pt-2"], [1, "n-icon-btn", "n-blue-btn", 3, "click"], [1, "pt-1", "pb-2"], [1, "form-group", "col-sm-4", "col-xs-12", "pb-1", 3, "formGroupName"], ["formControlName", "loanType", 1, "form-control"], ["value", ""], [3, "value", 4, "ngFor", "ngForOf"], [3, "value"], [1, "pt-1"], ["class", "form-group pb-1", 3, "ngClass", "formGroup", 4, "ngIf"], [1, "form-group", "pb-1", 3, "ngClass", "formGroup"], ["type", "text", 1, "form-control", 3, "formControlName"]],
    template: function ApplicationStepEconomyComponent_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtemplate"](0, ApplicationStepEconomyComponent_ng_container_0_Template, 56, 20, "ng-container", 0)(1, ApplicationStepEconomyComponent_ng_template_1_Template, 1, 1, "ng-template", null, 1, _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtemplateRefExtractor"]);
      }
      if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngIf", ctx.m);
      }
    },
    dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_8__.NgClass, _angular_common__WEBPACK_IMPORTED_MODULE_8__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_8__.NgIf, _angular_common__WEBPACK_IMPORTED_MODULE_8__.NgTemplateOutlet, _angular_forms__WEBPACK_IMPORTED_MODULE_7__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_7__.NgSelectOption, _angular_forms__WEBPACK_IMPORTED_MODULE_7__["ɵNgSelectMultipleOption"], _angular_forms__WEBPACK_IMPORTED_MODULE_7__.DefaultValueAccessor, _angular_forms__WEBPACK_IMPORTED_MODULE_7__.CheckboxControlValueAccessor, _angular_forms__WEBPACK_IMPORTED_MODULE_7__.SelectControlValueAccessor, _angular_forms__WEBPACK_IMPORTED_MODULE_7__.RadioControlValueAccessor, _angular_forms__WEBPACK_IMPORTED_MODULE_7__.NgControlStatus, _angular_forms__WEBPACK_IMPORTED_MODULE_7__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_7__.FormGroupDirective, _angular_forms__WEBPACK_IMPORTED_MODULE_7__.FormControlName, _angular_forms__WEBPACK_IMPORTED_MODULE_7__.FormGroupName],
    encapsulation: 2
  });
}
class Model {
  constructor(form, session, loanTypes) {
    this.form = form;
    this.session = session;
    this.loanTypes = loanTypes;
    this.otherLoanTypes = () => this.loanTypes.filter(type => type.Code !== 'mortgage');
    this.childrenGroupNames = [];
    this.mortgageLoanGroupNames = [];
    this.otherLoanGroupNames = [];
    this.nextNonMortgageLoanSuffix = 1;
    this.nextMortgageLoanSuffix = 1;
  }
  takeNonMortgageLoanSuffix() {
    let toReturn = this.nextNonMortgageLoanSuffix;
    this.nextNonMortgageLoanSuffix += 1;
    return toReturn;
  }
  takeMortgageLoanSuffix() {
    let toReturn = this.nextMortgageLoanSuffix;
    this.nextMortgageLoanSuffix += 1;
    return toReturn;
  }
}

/***/ }),

/***/ 6934:
/*!****************************************************************************************************************************************************************************!*\
  !*** ./projects/customerpages/src/app/mortgage-loan-applications/secure-pages/initial-application/components/application-step-object/application-step-object.component.ts ***!
  \****************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ApplicationStepObjectComponent: () => (/* binding */ ApplicationStepObjectComponent)
/* harmony export */ });
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/forms */ 8849);
/* harmony import */ var src_app_common_services_ntech_forms_helper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! src/app/common-services/ntech-forms-helper */ 7093);
/* harmony import */ var _start_webapplication_start_webapplication_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../start-webapplication/start-webapplication.component */ 5030);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/core */ 1699);
/* harmony import */ var projects_customerpages_src_app_common_services_customerpages_event_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! projects/customerpages/src/app/common-services/customerpages-event.service */ 3211);
/* harmony import */ var projects_customerpages_src_app_common_services_customer_pages_validation_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! projects/customerpages/src/app/common-services/customer-pages-validation.service */ 423);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/common */ 6575);








const _c0 = a0 => ({
  "has-error": a0
});
function ApplicationStepObjectComponent_ng_container_0_div_38_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](0, "div", 2)(1, "div", 3)(2, "div", 4)(3, "label");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](4, "Vilket l\u00E4genhetsnummer har bostaden?");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelement"](5, "input", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](6, "div", 3)(7, "div", 4)(8, "label");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](9, "Vad \u00E4r m\u00E5nadskostnaden?");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelement"](10, "input", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()()();
  }
  if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpureFunction1"](2, _c0, ctx_r1.m.form.hasError("apartmentNr")));
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpureFunction1"](4, _c0, ctx_r1.m.form.hasError("objectMonthlyFeeAmount")));
  }
}
function ApplicationStepObjectComponent_ng_container_0_ng_container_50_div_3_Template(rf, ctx) {
  if (rf & 1) {
    const _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](0, "div", 2)(1, "div", 25)(2, "div", 2)(3, "div", 26)(4, "div", 4)(5, "label");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](6, "Bank");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelement"](7, "input", 27);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](8, "div", 28)(9, "div", 4)(10, "label");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](11, "Amortering");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelement"](12, "input", 27);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](13, "div", 28)(14, "div", 4)(15, "label");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](16, "R\u00E4nta");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelement"](17, "input", 27);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](18, "div", 29)(19, "div", 4)(20, "label");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](21, "L\u00E5nebelopp");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelement"](22, "input", 27);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](23, "div", 30)(24, "div", 31)(25, "button", 23);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵlistener"]("click", function ApplicationStepObjectComponent_ng_container_0_ng_container_50_div_3_Template_button_click_25_listener($event) {
      const restoredCtx = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵrestoreView"](_r6);
      const suffix_r4 = restoredCtx.$implicit;
      const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"](3);
      return _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵresetView"](ctx_r5.m.removeLoan(suffix_r4, $event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelement"](26, "span", 32);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()()()();
  }
  if (rf & 2) {
    const suffix_r4 = ctx.$implicit;
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpureFunction1"](8, _c0, ctx_r3.m.form.hasError("bankName" + suffix_r4)));
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("formControlName", "bankName" + suffix_r4);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpureFunction1"](10, _c0, ctx_r3.m.form.hasError("currentMonthlyAmortizationAmount" + suffix_r4)));
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("formControlName", "currentMonthlyAmortizationAmount" + suffix_r4);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpureFunction1"](12, _c0, ctx_r3.m.form.hasError("interestRatePercent" + suffix_r4)));
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("formControlName", "interestRatePercent" + suffix_r4);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpureFunction1"](14, _c0, ctx_r3.m.form.hasError("currentDebtAmount" + suffix_r4)));
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("formControlName", "currentDebtAmount" + suffix_r4);
  }
}
function ApplicationStepObjectComponent_ng_container_0_ng_container_50_Template(rf, ctx) {
  if (rf & 1) {
    const _r8 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](1, "h2", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](2, "Befintliga l\u00E5n p\u00E5 bostaden");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtemplate"](3, ApplicationStepObjectComponent_ng_container_0_ng_container_50_div_3_Template, 27, 16, "div", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](4, "div", 22)(5, "button", 23);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵlistener"]("click", function ApplicationStepObjectComponent_ng_container_0_ng_container_50_Template_button_click_5_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵrestoreView"](_r8);
      const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"](2);
      return _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵresetView"](ctx_r7.m.addLoan(null, $event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelement"](6, "span", 24);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngForOf", ctx_r2.m.loanSuffixes);
  }
}
function ApplicationStepObjectComponent_ng_container_0_Template(rf, ctx) {
  if (rf & 1) {
    const _r10 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](1, "form", 1)(2, "h2");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](3, "Bostaden");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](4, "label");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](5, "Vilken adress har bostaden?");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](6, "div", 2)(7, "div", 3)(8, "div", 4)(9, "label");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](10, "Gata");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelement"](11, "input", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](12, "div", 4)(13, "label");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](14, "Postnummer");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelement"](15, "input", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](16, "div", 3)(17, "div", 4)(18, "label");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](19, "Ort");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelement"](20, "input", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](21, "div", 4)(22, "label");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](23, "Kommun");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelement"](24, "input", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](25, "div", 2)(26, "div", 9)(27, "div", 4)(28, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](29, "\u00C4r bostaden en bostadsr\u00E4ttsf\u00F6rening?");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](30, "div", 10)(31, "label");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelement"](32, "input", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](33, " Ja");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](34, "div", 10)(35, "label");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelement"](36, "input", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](37, " Nej");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()()()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtemplate"](38, ApplicationStepObjectComponent_ng_container_0_div_38_Template, 11, 6, "div", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](39, "div", 2)(40, "div", 3)(41, "div", 4)(42, "label");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](43, "Vad \u00E4r driftskostnaden per m\u00E5nad f\u00F6r bostaden?");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelement"](44, "input", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](45, "div", 3)(46, "div", 4)(47, "label");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](48, "Hur stor \u00E4r boytan?");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelement"](49, "input", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtemplate"](50, ApplicationStepObjectComponent_ng_container_0_ng_container_50_Template, 7, 1, "ng-container", 0);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](51, "div", 16)(52, "button", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵlistener"]("click", function ApplicationStepObjectComponent_ng_container_0_Template_button_click_52_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵrestoreView"](_r10);
      const ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵresetView"](ctx_r9.apply($event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](53, " G\u00E5 vidare ");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("formGroup", ctx_r0.m.form.form);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](7);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpureFunction1"](11, _c0, ctx_r0.m.form.hasError("objectAddressStreet")));
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpureFunction1"](13, _c0, ctx_r0.m.form.hasError("objectAddressZipcode")));
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpureFunction1"](15, _c0, ctx_r0.m.form.hasError("objectAddressCity")));
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpureFunction1"](17, _c0, ctx_r0.m.form.hasError("objectAddressMunicipality")));
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpureFunction1"](19, _c0, ctx_r0.m.form.hasError("isObjectApartment")));
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](11);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngIf", ctx_r0.m.form.hasFormControl(null, "apartmentNr"));
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpureFunction1"](21, _c0, ctx_r0.m.form.hasError("objectOtherMonthlyCostsAmount")));
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpureFunction1"](23, _c0, ctx_r0.m.form.hasError("objectLivingArea")));
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngIf", !ctx_r0.m.isPurchase);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("disabled", ctx_r0.m.form.invalid());
  }
}
class ApplicationStepObjectComponent {
  constructor(fb, eventService, validationService) {
    this.fb = fb;
    this.eventService = eventService;
    this.validationService = validationService;
  }
  ngOnChanges(changes) {
    if (this.subs) {
      for (let sub of this.subs) {
        sub.unsubscribe();
      }
    }
    this.subs = [];
    this.m = null;
    if (!this.session) {
      return;
    }
    this.subs.push(this.eventService.applicationEvents.subscribe(x => {
      if (x.eventCode === _start_webapplication_start_webapplication_component__WEBPACK_IMPORTED_MODULE_1__.AutoFillInTestEventName) {
        this.autoFillInTest();
      }
    }));
    this.subs.push(this.session.subscribe(x => {
      if (!x) {
        this.m = null;
        return;
      }
      let f = this.fb.group({
        objectAddressStreet: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_5__.Validators.required]],
        objectAddressZipcode: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_5__.Validators.required]],
        objectAddressCity: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_5__.Validators.required]],
        objectAddressMunicipality: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_5__.Validators.required]],
        objectOtherMonthlyCostsAmount: ['', [this.validationService.getPositiveIntegerValidator()]],
        objectLivingArea: ['', [this.validationService.getPositiveIntegerValidator()]],
        isObjectApartment: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_5__.Validators.required]]
      });
      let h = new src_app_common_services_ntech_forms_helper__WEBPACK_IMPORTED_MODULE_0__.FormsHelper(f);
      f.valueChanges.subscribe(x => {
        let isObjectApartment = h.getValue('isObjectApartment') === 'true';
        h.ensureControlOnConditionOnly(isObjectApartment, 'apartmentNr', () => '', () => [_angular_forms__WEBPACK_IMPORTED_MODULE_5__.Validators.required]);
        h.ensureControlOnConditionOnly(isObjectApartment, 'objectMonthlyFeeAmount', () => '', () => [this.validationService.getPositiveIntegerValidator()]);
      });
      let isPurchase = !!x.application.Purchase;
      let m = new Model(x, h, [], 1, !!x.application.Purchase, null, this.validationService);
      let shouldMortgageLoansBeSettled = true;
      if (!isPurchase && x.application.ChangeExistingLoan?.MortgageLoansToSettle) {
        for (let loan of x.application.ChangeExistingLoan.MortgageLoansToSettle) {
          shouldMortgageLoansBeSettled = loan.ShouldBeSettled;
          m.addLoan({
            bankName: loan.BankName,
            currentDebtAmount: this.validationService.formatIntegerForEdit(loan.CurrentDebtAmount),
            interestRatePercent: this.validationService.formatPositiveDecimalForEdit(loan.InterestRatePercent),
            currentMonthlyAmortizationAmount: this.validationService.formatIntegerForEdit(loan.CurrentMonthlyAmortizationAmount)
          }, null);
        }
      }
      m.shouldMortgageLoansBeSettled = shouldMortgageLoansBeSettled;
      this.m = m;
    }));
  }
  apply(evt) {
    evt?.preventDefault();
    let f = this.m.form;
    let a = this.m.session.application;
    a.ObjectAddressStreet = f.getValue('objectAddressStreet');
    a.ObjectAddressZipcode = f.getValue('objectAddressZipcode');
    a.ObjectAddressCity = f.getValue('objectAddressCity');
    a.ObjectAddressMunicipality = f.getValue('objectAddressMunicipality');
    a.ObjectOtherMonthlyCostsAmount = this.validationService.parseIntegerOrNull(f.getValue('objectOtherMonthlyCostsAmount'));
    a.ObjectLivingArea = this.validationService.parseIntegerOrNull(f.getValue('objectLivingArea'));
    let isObjectApartment = f.getValue('isObjectApartment') === 'true';
    if (isObjectApartment) {
      a.ObjectTypeCode = 'seBrf';
      a.ObjectMonthlyFeeAmount = this.validationService.parseIntegerOrNull(f.getValue('objectMonthlyFeeAmount'));
      a.SeBrfApartmentNr = f.getValue('apartmentNr');
    } else {
      a.ObjectTypeCode = 'seFastighet';
      a.ObjectMonthlyFeeAmount = null;
    }
    if (!this.m.isPurchase) {
      let mortgageLoansToSettle = [];
      for (let suffix of this.m.loanSuffixes) {
        mortgageLoansToSettle.push({
          BankName: f.getValue('bankName' + suffix),
          ShouldBeSettled: this.m.shouldMortgageLoansBeSettled,
          CurrentMonthlyAmortizationAmount: this.validationService.parseIntegerOrNull(f.getValue('currentMonthlyAmortizationAmount' + suffix)),
          InterestRatePercent: this.validationService.parseDecimalOrNull(f.getValue('interestRatePercent' + suffix), false),
          CurrentDebtAmount: this.validationService.parseIntegerOrNull(f.getValue('currentDebtAmount' + suffix))
        });
      }
      a.ChangeExistingLoan.MortgageLoansToSettle = mortgageLoansToSettle;
    }
    this.eventService.emitApplicationEvent(_start_webapplication_start_webapplication_component__WEBPACK_IMPORTED_MODULE_1__.NextStepEventName, JSON.stringify({
      session: this.m.session
    }));
  }
  autoFillInTest() {
    let f = this.m.form;
    f.setValue('objectAddressStreet', 'Gatan 1');
    f.setValue('objectAddressZipcode', '111 11');
    f.setValue('objectAddressCity', 'Staden');
    f.setValue('objectAddressMunicipality', 'Kommunen');
    f.setValue('objectOtherMonthlyCostsAmount', '500');
    f.setValue('objectLivingArea', '53');
    f.setValue('isObjectApartment', 'true');
    f.setValue('apartmentNr', 'L1233');
    f.setValue('objectMonthlyFeeAmount', '2700');
    if (this.m.loanSuffixes.length === 0) {
      this.m.addLoan({
        bankName: 'Banken',
        currentMonthlyAmortizationAmount: '750',
        interestRatePercent: '1,5',
        currentDebtAmount: '155000'
      }, null);
    }
  }
  static #_ = this.ɵfac = function ApplicationStepObjectComponent_Factory(t) {
    return new (t || ApplicationStepObjectComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵdirectiveInject"](_angular_forms__WEBPACK_IMPORTED_MODULE_5__.UntypedFormBuilder), _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵdirectiveInject"](projects_customerpages_src_app_common_services_customerpages_event_service__WEBPACK_IMPORTED_MODULE_2__.CustomerPagesEventService), _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵdirectiveInject"](projects_customerpages_src_app_common_services_customer_pages_validation_service__WEBPACK_IMPORTED_MODULE_3__.CustomerPagesValidationService));
  };
  static #_2 = this.ɵcmp = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵdefineComponent"]({
    type: ApplicationStepObjectComponent,
    selectors: [["application-step-object"]],
    inputs: {
      session: "session"
    },
    features: [_angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵNgOnChangesFeature"]],
    decls: 1,
    vars: 1,
    consts: [[4, "ngIf"], [3, "formGroup"], [1, "row"], [1, "col-sm-6", "col-xs-12"], [1, "form-group", "pb-1", 3, "ngClass"], ["type", "text", "formControlName", "objectAddressStreet", 1, "form-control"], ["type", "text", "formControlName", "objectAddressZipcode", 1, "form-control"], ["type", "text", "formControlName", "objectAddressCity", 1, "form-control"], ["type", "text", "formControlName", "objectAddressMunicipality", 1, "form-control"], [1, "col-xs-12"], [1, "radio-inline"], ["type", "radio", "formControlName", "isObjectApartment", "value", "true"], ["type", "radio", "formControlName", "isObjectApartment", "value", "false"], ["class", "row", 4, "ngIf"], ["type", "text", "formControlName", "objectOtherMonthlyCostsAmount", 1, "form-control"], ["type", "text", "formControlName", "objectLivingArea", 1, "form-control"], [1, "text-right", "pt-5"], [1, "n-main-btn", "n-green-btn", 3, "disabled", "click"], ["type", "text", "formControlName", "apartmentNr", 1, "form-control"], ["type", "text", "formControlName", "objectMonthlyFeeAmount", 1, "form-control"], [1, "pt-3"], ["class", "row", 4, "ngFor", "ngForOf"], [1, "pt-1"], [1, "n-icon-btn", "n-blue-btn", 3, "click"], [1, "glyphicon", "glyphicon-plus"], [1, "col-sm-11", "col-xs-10"], [1, "col-sm-5", "col-xs-12"], ["type", "text", 1, "form-control", 3, "formControlName"], [1, "col-sm-2", "col-xs-12"], [1, "col-sm-3", "col-xs-12"], [1, "col-sm-1", "col-xs-2"], [1, "pt-2"], [1, "glyphicon", "glyphicon-minus"]],
    template: function ApplicationStepObjectComponent_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtemplate"](0, ApplicationStepObjectComponent_ng_container_0_Template, 54, 25, "ng-container", 0);
      }
      if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngIf", ctx.m);
      }
    },
    dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_6__.NgClass, _angular_common__WEBPACK_IMPORTED_MODULE_6__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_6__.NgIf, _angular_forms__WEBPACK_IMPORTED_MODULE_5__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_5__.DefaultValueAccessor, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.RadioControlValueAccessor, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.NgControlStatus, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormGroupDirective, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormControlName],
    encapsulation: 2
  });
}
class Model {
  constructor(session, form, loanSuffixes, nextLoanSuffix, isPurchase, shouldMortgageLoansBeSettled, validationService) {
    this.session = session;
    this.form = form;
    this.loanSuffixes = loanSuffixes;
    this.nextLoanSuffix = nextLoanSuffix;
    this.isPurchase = isPurchase;
    this.shouldMortgageLoansBeSettled = shouldMortgageLoansBeSettled;
    this.validationService = validationService;
  }
  addLoan(initialValues, evt) {
    evt?.preventDefault();
    let suffix = this.nextLoanSuffix.toString();
    this.nextLoanSuffix = this.nextLoanSuffix + 1;
    let f = this.form;
    f.addControlIfNotExists('bankName' + suffix, initialValues?.bankName, []);
    f.addControlIfNotExists('currentMonthlyAmortizationAmount' + suffix, initialValues?.currentMonthlyAmortizationAmount, [this.validationService.getPositiveIntegerValidator()]);
    f.addControlIfNotExists('interestRatePercent' + suffix, initialValues?.interestRatePercent, [this.validationService.getPositiveDecimalValidator()]);
    f.addControlIfNotExists('currentDebtAmount' + suffix, initialValues?.currentDebtAmount, [_angular_forms__WEBPACK_IMPORTED_MODULE_5__.Validators.required, this.validationService.getPositiveIntegerValidator()]);
    this.loanSuffixes.push(suffix);
    return suffix;
  }
  removeLoan(suffix, evt) {
    evt?.preventDefault();
    this.loanSuffixes.splice(this.loanSuffixes.indexOf(suffix), 1);
    let f = this.form;
    f.form.removeControl('bankName' + suffix);
    f.form.removeControl('currentMonthlyAmortizationAmount' + suffix);
    f.form.removeControl('interestRatePercent' + suffix);
    f.form.removeControl('currentDebtAmount' + suffix);
  }
}

/***/ }),

/***/ 6203:
/*!******************************************************************************************************************************************************************************!*\
  !*** ./projects/customerpages/src/app/mortgage-loan-applications/secure-pages/initial-application/components/application-wizard-shell/application-wizard-shell.component.ts ***!
  \******************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ApplicationWizardShellComponent: () => (/* binding */ ApplicationWizardShellComponent),
/* harmony export */   ApplicationWizardShellInitialData: () => (/* binding */ ApplicationWizardShellInitialData)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ 1699);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ 6575);
/* harmony import */ var _components_ml_shell_ml_shell_component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../components/ml-shell/ml-shell.component */ 9198);



function ApplicationWizardShellComponent_div_2_h1_1_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "h1", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1, " Ans\u00F6kan - flytt av l\u00E5n ");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
}
function ApplicationWizardShellComponent_div_2_h1_2_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "h1", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1, " Ans\u00F6kan - l\u00E5n f\u00F6r bostadsk\u00F6p ");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
}
function ApplicationWizardShellComponent_div_2_h1_3_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "h1", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1, " Ans\u00F6kan - till\u00E4ggsl\u00E5n ");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
}
function ApplicationWizardShellComponent_div_2_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](1, ApplicationWizardShellComponent_div_2_h1_1_Template, 2, 0, "h1", 3)(2, ApplicationWizardShellComponent_div_2_h1_2_Template, 2, 0, "h1", 3)(3, ApplicationWizardShellComponent_div_2_h1_3_Template, 2, 0, "h1", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](4, "p", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](5, "Du f\u00F6rbinder dig inte till n\u00E5got.");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](6, "div", 5)(7, "div", 6)(8, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](9, "div", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](10, "div", 9)(11, "div", 10)(12, "span", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](13, "1");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](14, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](15, "Bostaden");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](16, "div", 12)(17, "span", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](18, "2");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](19, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](20, "L\u00E5ntagare");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](21, "div", 12)(22, "span", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](23, "3");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](24, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](25, "Ekonomi");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](26, "div", 14)(27, "span", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](28, "4");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](29, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](30, "Medgivande");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()()()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](31, "div", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵprojection"](32);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx_r0.m.isMoveLoan());
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx_r0.m.isPurchase());
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx_r0.m.isAdditionalLoan());
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵstyleProp"]("width", (33 * (ctx_r0.m.stepNr - 1)).toString() + "%");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵclassProp"]("active", ctx_r0.m.stepNr >= 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵclassProp"]("active", ctx_r0.m.stepNr >= 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵclassProp"]("active", ctx_r0.m.stepNr >= 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵclassProp"]("active", ctx_r0.m.stepNr >= 4);
  }
}
const _c0 = [[["", "wizard-step", ""]]];
const _c1 = ["[wizard-step]"];
class ApplicationWizardShellComponent {
  constructor() {}
  ngOnChanges(changes) {
    if (this.subs) {
      for (let sub of this.subs) {
        sub.unsubscribe();
      }
    }
    this.subs = [];
    this.m = null;
    if (!this.initialData) {
      return;
    }
    let i = this.initialData;
    this.subs.push(i.session.subscribe(x => {
      if (x) {
        let civicRegNr = x?.application?.Applicants[0]?.CivicRegNr;
        let firstName = x?.application?.Applicants[0]?.FirstName;
        this.m = new Model(i.activeStepNr, firstName, civicRegNr, x);
      } else {
        this.m = null;
      }
    }));
  }
  static #_ = this.ɵfac = function ApplicationWizardShellComponent_Factory(t) {
    return new (t || ApplicationWizardShellComponent)();
  };
  static #_2 = this.ɵcmp = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
    type: ApplicationWizardShellComponent,
    selectors: [["application-wizard-shell"]],
    inputs: {
      initialData: "initialData"
    },
    features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵNgOnChangesFeature"]],
    ngContentSelectors: _c1,
    decls: 3,
    vars: 1,
    consts: [["shell-body", ""], ["class", "align-center frame", 4, "ngIf"], [1, "align-center", "frame"], ["class", "header-light text-center pb-3", 4, "ngIf"], [1, "text-center", "pb-2"], [1, "row", "pb-5"], [1, "col-xs-12", "pt-2"], [1, "progress", 2, "height", "4px"], [1, "progress-bar"], [1, "row", 2, "position", "absolute", "width", "100%", "top", "10px"], [1, "col-xs-2"], [1, "progress-point", "active"], [1, "col-xs-4", "text-center"], [1, "progress-point"], [1, "col-xs-2", "text-right"], [1, "pt-3"], [1, "header-light", "text-center", "pb-3"]],
    template: function ApplicationWizardShellComponent_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵprojectionDef"](_c0);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "ml-shell")(1, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](2, ApplicationWizardShellComponent_div_2_Template, 33, 13, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
      }
      if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.m);
      }
    },
    dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_2__.NgIf, _components_ml_shell_ml_shell_component__WEBPACK_IMPORTED_MODULE_0__.MlShellComponent],
    encapsulation: 2
  });
}
class ApplicationWizardShellInitialData {
  constructor(activeStepNr, session) {
    this.activeStepNr = activeStepNr;
    this.session = session;
  }
}
class Model {
  constructor(stepNr, firstName, civicRegNr, session) {
    this.stepNr = stepNr;
    this.firstName = firstName;
    this.civicRegNr = civicRegNr;
    this.session = session;
  }
  isPurchase() {
    let a = this.session.application;
    return !!a.Purchase;
  }
  isAdditionalLoan() {
    let a = this.session.application;
    return !a.Purchase && a.ChangeExistingLoan && a.ChangeExistingLoan.MortgageLoansToSettle && a.ChangeExistingLoan.MortgageLoansToSettle.length > 0 && !a.ChangeExistingLoan.MortgageLoansToSettle[0].ShouldBeSettled;
  }
  isMoveLoan() {
    let a = this.session.application;
    return !a.Purchase && a.ChangeExistingLoan && a.ChangeExistingLoan.MortgageLoansToSettle && a.ChangeExistingLoan.MortgageLoansToSettle.length > 0 && a.ChangeExistingLoan.MortgageLoansToSettle[0].ShouldBeSettled;
  }
}

/***/ }),

/***/ 5030:
/*!***********************************************************************************************************************************************************!*\
  !*** ./projects/customerpages/src/app/mortgage-loan-applications/secure-pages/initial-application/start-webapplication/start-webapplication.component.ts ***!
  \***********************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   AutoFillInTestEventName: () => (/* binding */ AutoFillInTestEventName),
/* harmony export */   NextStepEventName: () => (/* binding */ NextStepEventName),
/* harmony export */   StartWebapplicationComponent: () => (/* binding */ StartWebapplicationComponent),
/* harmony export */   getMlApplicationSessionModelStorageKey: () => (/* binding */ getMlApplicationSessionModelStorageKey)
/* harmony export */ });
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs */ 8071);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ 1699);
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/router */ 7947);
/* harmony import */ var _services_customer_pages_ml_api_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../services/customer-pages-ml-api.service */ 2040);
/* harmony import */ var _common_services_customer_pages_config_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../common-services/customer-pages-config.service */ 5716);
/* harmony import */ var _common_services_customerpages_event_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../common-services/customerpages-event.service */ 3211);






function StartWebapplicationComponent_p_2_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](0, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtextInterpolate"](ctx_r0.errorMessage);
  }
}
function StartWebapplicationComponent_div_3_application_step_object_2_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelement"](0, "application-step-object", 5);
  }
  if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("session", ctx_r3.m.session);
  }
}
function StartWebapplicationComponent_div_3_application_step_applicants_3_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelement"](0, "application-step-applicants", 5);
  }
  if (rf & 2) {
    const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("session", ctx_r4.m.session);
  }
}
function StartWebapplicationComponent_div_3_application_step_economy_4_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelement"](0, "application-step-economy", 5);
  }
  if (rf & 2) {
    const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("session", ctx_r5.m.session);
  }
}
function StartWebapplicationComponent_div_3_application_step_consent_5_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelement"](0, "application-step-consent", 5);
  }
  if (rf & 2) {
    const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("session", ctx_r6.m.session);
  }
}
function StartWebapplicationComponent_div_3_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](0, "div");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementContainerStart"](1, 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](2, StartWebapplicationComponent_div_3_application_step_object_2_Template, 1, 1, "application-step-object", 4)(3, StartWebapplicationComponent_div_3_application_step_applicants_3_Template, 1, 1, "application-step-applicants", 4)(4, StartWebapplicationComponent_div_3_application_step_economy_4_Template, 1, 1, "application-step-economy", 4)(5, StartWebapplicationComponent_div_3_application_step_consent_5_Template, 1, 1, "application-step-consent", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementContainerEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngSwitch", ctx_r1.m.wizardInitialData.activeStepNr);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngSwitchCase", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngSwitchCase", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngSwitchCase", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngSwitchCase", 4);
  }
}
function StartWebapplicationComponent_div_4_div_1_Template(rf, ctx) {
  if (rf & 1) {
    const _r9 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](0, "div", 10)(1, "div", 11)(2, "ul", 12)(3, "li", 13)(4, "button", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵlistener"]("click", function StartWebapplicationComponent_div_4_div_1_Template_button_click_4_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵrestoreView"](_r9);
      const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"](2);
      return _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵresetView"](ctx_r8.autoFillInTest($event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](5, "Autofill");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]()()()()();
  }
}
const _c0 = a0 => ({
  "test-popup-toned-down": a0
});
function StartWebapplicationComponent_div_4_Template(rf, ctx) {
  if (rf & 1) {
    const _r11 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](0, "div");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](1, StartWebapplicationComponent_div_4_div_1_Template, 6, 0, "div", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](2, "div", 7)(3, "button", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵlistener"]("click", function StartWebapplicationComponent_div_4_Template_button_click_3_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵrestoreView"](_r11);
      const ctx_r10 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"]();
      $event.preventDefault();
      return _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵresetView"](ctx_r10.m.test.isPopupVisible = !ctx_r10.m.test.isPopupVisible);
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelement"](4, "span", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]()()();
  }
  if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngIf", ctx_r2.m.test.isPopupVisible);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵpureFunction1"](2, _c0, !ctx_r2.m.test.isPopupVisible));
  }
}
class StartWebapplicationComponent {
  constructor(route, apiService, configServive, eventService, router) {
    this.route = route;
    this.apiService = apiService;
    this.configServive = configServive;
    this.eventService = eventService;
    this.router = router;
  }
  ngOnInit() {
    this.reload(this.route.snapshot.params['sessionId']);
    this.eventService.applicationEvents.subscribe(x => {
      if (x.eventCode === NextStepEventName && this.m) {
        let activeStepNr = this.m.wizardInitialData.activeStepNr;
        if (activeStepNr === 4) {
          var session = this.m.session.value;
          this.apiService.createApplication(session.application).then(newApplication => {
            let storageKey = getMlApplicationSessionModelStorageKey(session.sessionId);
            localStorage.removeItem(storageKey);
            sessionStorage.removeItem(storageKey);
            this.router.navigateByUrl(`/mortgage-loan-applications/open/application/${newApplication.ApplicationNr}/created`);
          });
        } else {
          let data = JSON.parse(x.customData);
          let session = data.session;
          session.lastCompletedStep = this.m.wizardInitialData.activeStepNr;
          this.m.wizardInitialData.activeStepNr = this.m.wizardInitialData.activeStepNr + 1;
          this.storeSession(session);
          this.m.session.next(session);
        }
      }
    });
  }
  reload(sessionId) {
    this.m = null;
    this.loadSession(sessionId).then(session => {
      if (!session || session.sessionId !== sessionId) {
        this.m = null;
        this.errorMessage = 'No such session exists';
        return;
      }
      let s = new rxjs__WEBPACK_IMPORTED_MODULE_4__.BehaviorSubject(null);
      this.m = {
        session: s,
        wizardInitialData: {
          activeStepNr: session.lastCompletedStep ? session.lastCompletedStep + 1 : 1,
          session: s
        },
        test: this.configServive.isNTechTest() ? {
          isPopupVisible: false
        } : null
      };
      s.next(session);
    });
  }
  loadSession(sessionId) {
    /*
    We move from localStorage which is basically permanent to session storage when starting to fill out the application.
    This ensures the user can be logged out or hit F5 without losing their filled out data but also doesnt store civicnrs and similar
    in local storage which might be a bit to permanent if this is IE a public computer.
    */
    let sessionKey = getMlApplicationSessionModelStorageKey(sessionId);
    let sessionDataRaw = sessionStorage.getItem(sessionKey) ?? localStorage.getItem(sessionKey);
    let session = sessionDataRaw ? JSON.parse(sessionDataRaw) : null;
    if (!session.isInitialized) {
      return this.apiService.shared().fetchLoggedInUserDetails().then(x => {
        let a = session.application;
        if (!a.Applicants) {
          a.Applicants = [{
            CivicRegNr: x.civicRegNr
          }];
        }
        session.isInitialized = true;
        return session;
      });
    } else {
      let p = new Promise(resolve => resolve(session));
      return p;
    }
  }
  storeSession(session) {
    sessionStorage.setItem(getMlApplicationSessionModelStorageKey(session.sessionId), JSON.stringify(session));
  }
  autoFillInTest(evt) {
    evt?.preventDefault();
    this.eventService.emitApplicationEvent(AutoFillInTestEventName, this.m.wizardInitialData.activeStepNr);
  }
  static #_ = this.ɵfac = function StartWebapplicationComponent_Factory(t) {
    return new (t || StartWebapplicationComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_5__.ActivatedRoute), _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵdirectiveInject"](_services_customer_pages_ml_api_service__WEBPACK_IMPORTED_MODULE_0__.CustomerPagesMortgageLoanApiService), _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵdirectiveInject"](_common_services_customer_pages_config_service__WEBPACK_IMPORTED_MODULE_1__.CustomerPagesConfigService), _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵdirectiveInject"](_common_services_customerpages_event_service__WEBPACK_IMPORTED_MODULE_2__.CustomerPagesEventService), _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_5__.Router));
  };
  static #_2 = this.ɵcmp = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵdefineComponent"]({
    type: StartWebapplicationComponent,
    selectors: [["np-start-webapplication"]],
    decls: 5,
    vars: 4,
    consts: [[3, "initialData"], ["wizard-step", ""], [4, "ngIf"], [3, "ngSwitch"], [3, "session", 4, "ngSwitchCase"], [3, "session"], ["class", "test-popup-frame test-popup-position", 4, "ngIf"], [1, "test-popup-button-position"], [1, "btn", "btn-default", 3, "ngClass", "click"], [1, "glyphicon", "glyphicon-sort"], [1, "test-popup-frame", "test-popup-position"], [1, "pt-1"], [1, "list-unstyled"], [1, "pb-1"], ["target", "_blank", 1, "btn", "btn-primary", 3, "click"]],
    template: function StartWebapplicationComponent_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](0, "application-wizard-shell", 0)(1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](2, StartWebapplicationComponent_p_2_Template, 2, 1, "p", 2)(3, StartWebapplicationComponent_div_3_Template, 6, 5, "div", 2)(4, StartWebapplicationComponent_div_4_Template, 5, 4, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]()();
      }
      if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("initialData", ctx.m == null ? null : ctx.m.wizardInitialData);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngIf", ctx.errorMessage);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngIf", ctx.m);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngIf", ctx.m == null ? null : ctx.m.test);
      }
    },
    encapsulation: 2
  });
}
class Model {}
function getMlApplicationSessionModelStorageKey(sessionId) {
  return `MlApplicationSessionV1_${sessionId}`;
}
const NextStepEventName = 'GotoNextApplicationStep';
const AutoFillInTestEventName = 'AutoFillInTest';

/***/ }),

/***/ 1127:
/*!***************************************************************************************************************************************!*\
  !*** ./projects/customerpages/src/app/mortgage-loan-applications/secure-pages/kyc-task-application/kyc-task-application.component.ts ***!
  \***************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   KycTaskApplicationComponent: () => (/* binding */ KycTaskApplicationComponent)
/* harmony export */ });
/* harmony import */ var C_Repository_BaCS_SelfContainedModules_ntech_backoffice_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 1670);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/core */ 1699);
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/router */ 7947);
/* harmony import */ var _common_services_customer_pages_api_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../common-services/customer-pages-api.service */ 7991);
/* harmony import */ var _shared_components_task_page_task_page_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../shared-components/task-page/task-page.component */ 9004);
/* harmony import */ var _shared_components_task_kyc_questions_task_kyc_questions_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../shared-components/task-kyc-questions/task-kyc-questions.component */ 1013);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/common */ 6575);
/* harmony import */ var _components_ml_shell_ml_shell_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../components/ml-shell/ml-shell.component */ 9198);








function KycTaskApplicationComponent_ng_container_3_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelement"](1, "task-kyc-questions", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("initialData", ctx_r0.m.kycInitialData);
  }
}
class KycTaskApplicationComponent {
  constructor(route, router, apiService) {
    this.route = route;
    this.router = router;
    this.apiService = apiService;
  }
  ngOnInit() {
    this.reload(this.route.snapshot.params['applicationNr']);
  }
  closeTask() {
    this.router.navigate(['mortgage-loan-applications/secure/application', this.m.applicationNr]);
  }
  reload(applicationNr) {
    var _this = this;
    return (0,C_Repository_BaCS_SelfContainedModules_ntech_backoffice_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      let result = yield _this.apiService.post('nPreCredit', 'api/MortgageLoanStandard/CustomerPages/Fetch-Application-KycStatus', {
        applicationNr: applicationNr
      });
      if (!result?.IsActive) {
        _this.m = {
          applicationNr: applicationNr
        };
        return;
      }
      let m = {
        applicationNr: applicationNr,
        kycInitialData: {
          applicationNr: applicationNr,
          isPossibleToAnswer: result.IsPossibleToAnswer,
          isAnswersApproved: result.IsAnswersApproved,
          customers: [],
          onSave: x => {
            let request = {
              ApplicationNr: applicationNr,
              Customers: x.customersWithAnswers.map(y => ({
                CustomerId: y.customerId,
                Answers: y.answers
              }))
            };
            _this.apiService.post('nPreCredit', 'api/MortgageLoanStandard/CustomerPages/Answer-Kyc-Questions', request).then(_ => {
              _this.closeTask();
            });
          }
        }
      };
      for (let customer of result.Customers) {
        m.kycInitialData.customers.push({
          ApplicantNr: customer.ApplicantNr,
          CustomerId: customer.CustomerId,
          CustomerBirthDate: customer.CustomerBirthDate,
          CustomerShortName: customer.CustomerShortName,
          LatestKycQuestionsAnswerDate: customer.LatestKycQuestionsAnswerDate,
          LatestQuestions: customer.LatestQuestions
        });
      }
      _this.m = m;
    })();
  }
  static #_ = this.ɵfac = function KycTaskApplicationComponent_Factory(t) {
    return new (t || KycTaskApplicationComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_6__.ActivatedRoute), _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_6__.Router), _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵdirectiveInject"](_common_services_customer_pages_api_service__WEBPACK_IMPORTED_MODULE_1__.CustomerPagesApiService));
  };
  static #_2 = this.ɵcmp = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵdefineComponent"]({
    type: KycTaskApplicationComponent,
    selectors: [["np-kyc-task-application"]],
    decls: 4,
    vars: 2,
    consts: [["shell-body", ""], ["headerText", "Kundk\u00E4nnedom", 3, "isStandalonePage", "onClose"], [4, "ngIf"], [3, "initialData"]],
    template: function KycTaskApplicationComponent_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](0, "ml-shell")(1, "div", 0)(2, "task-page", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵlistener"]("onClose", function KycTaskApplicationComponent_Template_task_page_onClose_2_listener() {
          return ctx.closeTask();
        });
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplate"](3, KycTaskApplicationComponent_ng_container_3_Template, 2, 1, "ng-container", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]()()();
      }
      if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("isStandalonePage", true);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngIf", ctx.m == null ? null : ctx.m.kycInitialData);
      }
    },
    dependencies: [_shared_components_task_page_task_page_component__WEBPACK_IMPORTED_MODULE_2__.TaskPageComponent, _shared_components_task_kyc_questions_task_kyc_questions_component__WEBPACK_IMPORTED_MODULE_3__.TaskKycQuestionsComponent, _angular_common__WEBPACK_IMPORTED_MODULE_7__.NgIf, _components_ml_shell_ml_shell_component__WEBPACK_IMPORTED_MODULE_4__.MlShellComponent],
    encapsulation: 2
  });
}

/***/ }),

/***/ 2775:
/*!*************************************************************************************************************************************!*\
  !*** ./projects/customerpages/src/app/mortgage-loan-applications/secure-pages/ongoing-application/ongoing-application.component.ts ***!
  \*************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   OngoingApplicationComponent: () => (/* binding */ OngoingApplicationComponent)
/* harmony export */ });
/* harmony import */ var C_Repository_BaCS_SelfContainedModules_ntech_backoffice_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 1670);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/core */ 1699);
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/router */ 7947);
/* harmony import */ var _common_services_customerpages_event_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../common-services/customerpages-event.service */ 3211);
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/platform-browser */ 6480);
/* harmony import */ var _services_customer_pages_ml_api_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/customer-pages-ml-api.service */ 2040);
/* harmony import */ var _shared_components_customer_pages_application_messages_customer_pages_application_messages_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../shared-components/customer-pages-application-messages/customer-pages-application-messages.component */ 335);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/common */ 6575);
/* harmony import */ var _components_ml_shell_ml_shell_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../components/ml-shell/ml-shell.component */ 9198);









function OngoingApplicationComponent_div_2_div_5_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](0, "div");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelement"](1, "img", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
  }
}
function OngoingApplicationComponent_div_2_div_6_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](0, "div", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtextInterpolate1"](" ", ctx_r2.m.objectSummary.addressText, " ");
  }
}
function OngoingApplicationComponent_div_2_div_7_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](0, "div", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](1, "Godk\u00E4nt belopp");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
  }
}
function OngoingApplicationComponent_div_2_div_8_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](0, "div")(1, "b");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpipe"](3, "number");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpipeBind1"](3, 1, ctx_r4.m.decisionSummary.loanAmount));
  }
}
function OngoingApplicationComponent_div_2_div_9_div_3_Template(rf, ctx) {
  if (rf & 1) {
    const _r11 = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](0, "div", 17)(1, "div", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵlistener"]("click", function OngoingApplicationComponent_div_2_div_9_div_3_Template_div_click_1_listener($event) {
      const restoredCtx = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵrestoreView"](_r11);
      const task_r8 = restoredCtx.$implicit;
      const ctx_r10 = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵnextContext"](3);
      return _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵresetView"](ctx_r10.onTaskClicked(task_r8, $event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](2, "div", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelement"](3, "span", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](4, "div", 21)(5, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](7, "div", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelement"](8, "span", 23);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelement"](9, "div", 24);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const task_r8 = ctx.$implicit;
    const isFirst_r9 = ctx.first;
    const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵclassProp"]("non-first-task", isFirst_r9 ? null : "non-first-task");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngClass", ctx_r7.getIconClass(task_r8.isTaskAccepted === true, task_r8.isTaskAccepted === false));
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtextInterpolate"](task_r8.headerText);
  }
}
function OngoingApplicationComponent_div_2_div_9_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](0, "div", 14)(1, "h2", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](2, " Vi beh\u00F6ver mer information ");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplate"](3, OngoingApplicationComponent_div_2_div_9_div_3_Template, 10, 4, "div", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngForOf", ctx_r5.m.informationTasks);
  }
}
function OngoingApplicationComponent_div_2_div_10_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](0, "div", 25);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelement"](1, "customer-pages-application-messages", 26);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("initialData", ctx_r6.m.messagesInitialData);
  }
}
const _c0 = () => ["/mortgage-loan-applications/secure/overview"];
function OngoingApplicationComponent_div_2_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](0, "div", 2)(1, "div", 3)(2, "a", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](3, "Ans\u00F6kningar");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](4, "div", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplate"](5, OngoingApplicationComponent_div_2_div_5_Template, 2, 0, "div", 6)(6, OngoingApplicationComponent_div_2_div_6_Template, 2, 1, "div", 7)(7, OngoingApplicationComponent_div_2_div_7_Template, 2, 0, "div", 8)(8, OngoingApplicationComponent_div_2_div_8_Template, 4, 3, "div", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplate"](9, OngoingApplicationComponent_div_2_div_9_Template, 4, 1, "div", 9)(10, OngoingApplicationComponent_div_2_div_10_Template, 2, 1, "div", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("routerLink", _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpureFunction0"](7, _c0));
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngIf", ctx_r0.m.objectSummary);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngIf", ctx_r0.m.objectSummary);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngIf", ctx_r0.m.decisionSummary);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngIf", ctx_r0.m.decisionSummary);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngIf", ctx_r0.m.informationTasks.length > 0);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngIf", ctx_r0.m);
  }
}
class OngoingApplicationComponent {
  constructor(route, eventService, titleService, customerPagesApiService, router) {
    this.route = route;
    this.eventService = eventService;
    this.titleService = titleService;
    this.customerPagesApiService = customerPagesApiService;
    this.router = router;
  }
  ngOnInit() {
    this.reload(this.route.snapshot.params['applicationNr']);
  }
  reload(applicationNr) {
    var _this = this;
    return (0,C_Repository_BaCS_SelfContainedModules_ntech_backoffice_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      if (_this.m?.subs) {
        for (let sub of _this.m.subs) {
          sub.unsubscribe();
        }
      }
      let application = (yield _this.customerPagesApiService.fetchApplication(applicationNr))?.Application;
      if (!application) {
        return;
      }
      let objectSummary = null;
      if (application.ObjectSummary) {
        let s = application.ObjectSummary;
        let parts = [s.AddressStreet, s.AddressApartmentNr || s.AddressSeTaxOfficeApartmentNr, s.AddressZipCode, s.AddressCity].filter(x => !!x);
        objectSummary = {
          addressText: parts.join(', ')
        };
      }
      let routePrefix = ['mortgage-loan-applications/secure/application', applicationNr];
      let informationTasks = [];
      if (application.IsKycTaskActive) {
        informationTasks.push({
          headerText: 'Kundkännedom',
          isTaskAccepted: application.IsKycTaskApproved ? true : null,
          taskRoute: [...routePrefix, 'kyc']
        });
      }
      let m = {
        applicationNr: applicationNr,
        subs: [],
        messagesInitialData: {
          applicationNr: applicationNr,
          isApplicationActive: application.IsActive,
          isInitiallyExpanded: false,
          isMortgagaeLoan: true,
          isInactiveMessagingAllowed: application.IsInactiveMessagingAllowed
        },
        isActive: application.IsActive,
        objectSummary: objectSummary,
        decisionSummary: application.LatestAcceptedDecision ? {
          loanAmount: application.LatestAcceptedDecision.LoanAmount
        } : null,
        informationTasks: informationTasks
      };
      m.subs.push(_this.eventService.applicationEvents.subscribe(x => {
        if (x?.isReloadApplicationEvent() && _this.m?.applicationNr === x.customData) {
          _this.reload(x.customData);
        }
      }));
      _this.m = m;
      _this.titleService.setTitle('Ansökan ' + applicationNr);
    })();
  }
  getIconClass(isAccepted, isRejected) {
    let isOther = !isAccepted && !isRejected;
    return {
      'glyphicon-ok': isAccepted,
      'glyphicon-remove': isRejected,
      'glyphicon-minus': isOther,
      'glyphicon': true,
      'text-success': isAccepted,
      'text-danger': isRejected
    };
  }
  onTaskClicked(task, evt) {
    evt?.preventDefault();
    this.router.navigate(task.taskRoute);
  }
  static #_ = this.ɵfac = function OngoingApplicationComponent_Factory(t) {
    return new (t || OngoingApplicationComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_6__.ActivatedRoute), _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵdirectiveInject"](_common_services_customerpages_event_service__WEBPACK_IMPORTED_MODULE_1__.CustomerPagesEventService), _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵdirectiveInject"](_angular_platform_browser__WEBPACK_IMPORTED_MODULE_7__.Title), _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵdirectiveInject"](_services_customer_pages_ml_api_service__WEBPACK_IMPORTED_MODULE_2__.CustomerPagesMortgageLoanApiService), _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_6__.Router));
  };
  static #_2 = this.ɵcmp = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵdefineComponent"]({
    type: OngoingApplicationComponent,
    selectors: [["np-ongoing-application"]],
    decls: 3,
    vars: 1,
    consts: [["shell-body", ""], ["class", "ml-app-container", 4, "ngIf"], [1, "ml-app-container"], [1, "app-header"], ["href", "#", 1, "n-anchor", 3, "routerLink"], [1, "app-summary"], [4, "ngIf"], ["class", "mt-1", 4, "ngIf"], ["class", "mt-2", 4, "ngIf"], ["class", "tasks-container mb-8 mt-6", 4, "ngIf"], ["class", "app-messages mt-1", 4, "ngIf"], ["src", "assets/img/house.png"], [1, "mt-1"], [1, "mt-2"], [1, "tasks-container", "mb-8", "mt-6"], [1, "header-light", "text-center", "mb-2"], ["class", "task-toggle", 4, "ngFor", "ngForOf"], [1, "task-toggle"], [1, "task-toggle-contracted", 3, "click"], [1, "col-sm-1", "col-xs-2"], [1, "custom-glyph", "ntech-status-icon", 3, "ngClass"], [1, "col-sm-9", "col-xs-8"], [1, "col-xs-2", "text-right"], [1, "glyphicon", "glyphicon-play"], [1, "clearfix"], [1, "app-messages", "mt-1"], [3, "initialData"]],
    template: function OngoingApplicationComponent_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](0, "ml-shell")(1, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplate"](2, OngoingApplicationComponent_div_2_Template, 11, 8, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]()();
      }
      if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngIf", ctx.m);
      }
    },
    dependencies: [_shared_components_customer_pages_application_messages_customer_pages_application_messages_component__WEBPACK_IMPORTED_MODULE_3__.CustomerPagesApplicationMessagesComponent, _angular_common__WEBPACK_IMPORTED_MODULE_8__.NgClass, _angular_common__WEBPACK_IMPORTED_MODULE_8__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_8__.NgIf, _angular_router__WEBPACK_IMPORTED_MODULE_6__.RouterLink, _components_ml_shell_ml_shell_component__WEBPACK_IMPORTED_MODULE_4__.MlShellComponent, _angular_common__WEBPACK_IMPORTED_MODULE_8__.DecimalPipe],
    styles: [".ml-app-container[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: column;\n  gap: 5px;\n}\n.ml-app-container[_ngcontent-%COMP%]   .app-header[_ngcontent-%COMP%] {\n  font-size: larger;\n}\n.ml-app-container[_ngcontent-%COMP%]   .app-summary[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: column;\n  gap: 3px;\n}\n.ml-app-container[_ngcontent-%COMP%]   .app-summary[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.tasks-container[_ngcontent-%COMP%]   .non-first-task[_ngcontent-%COMP%] {\n  border-top: none;\n}\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3Byb2plY3RzL2N1c3RvbWVycGFnZXMvc3JjL2FwcC9tb3J0Z2FnZS1sb2FuLWFwcGxpY2F0aW9ucy9zZWN1cmUtcGFnZXMvb25nb2luZy1hcHBsaWNhdGlvbi9vbmdvaW5nLWFwcGxpY2F0aW9uLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsYUFBQTtFQUNBLHNCQUFBO0VBQ0EsUUFBQTtBQUNGO0FBQ0U7RUFDRSxpQkFBQTtBQUNKO0FBRUU7RUFDRSxhQUFBO0VBQ0Esc0JBQUE7RUFDQSxRQUFBO0FBQUo7QUFFSTtFQUNFLGFBQUE7RUFDQSxtQkFBQTtFQUNBLHVCQUFBO0FBQU47O0FBTUU7RUFDRSxnQkFBQTtBQUhKIiwic291cmNlc0NvbnRlbnQiOlsiLm1sLWFwcC1jb250YWluZXIge1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICBnYXA6IDVweDtcclxuXHJcbiAgLmFwcC1oZWFkZXIge1xyXG4gICAgZm9udC1zaXplOiBsYXJnZXI7XHJcbiAgfVxyXG5cclxuICAuYXBwLXN1bW1hcnkge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICBnYXA6IDNweDtcclxuXHJcbiAgICBkaXYge1xyXG4gICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbi50YXNrcy1jb250YWluZXIge1xyXG4gIC5ub24tZmlyc3QtdGFzayB7XHJcbiAgICBib3JkZXItdG9wOiBub25lO1xyXG4gIH1cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9 */"]
  });
}
class TaskModel {}

/***/ }),

/***/ 6535:
/*!***************************************************************************************************************!*\
  !*** ./projects/customerpages/src/app/mortgage-loan-applications/secure-pages/overview/overview.component.ts ***!
  \***************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   OverviewComponent: () => (/* binding */ OverviewComponent)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/core */ 1699);
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/platform-browser */ 6480);
/* harmony import */ var _services_customer_pages_ml_api_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../services/customer-pages-ml-api.service */ 2040);
/* harmony import */ var _common_services_customer_pages_api_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../common-services/customer-pages-api.service */ 7991);
/* harmony import */ var _shared_components_applications_list_applications_list_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../shared-components/applications-list/applications-list.component */ 8752);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/common */ 6575);
/* harmony import */ var _components_ml_shell_ml_shell_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../components/ml-shell/ml-shell.component */ 9198);







function OverviewComponent_ng_container_2_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelement"](1, "applications-list", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("initialData", ctx_r0.m.applicationsListData);
  }
}
class OverviewComponent {
  constructor(titleService, apiService, sharedApiService) {
    this.titleService = titleService;
    this.apiService = apiService;
    this.sharedApiService = sharedApiService;
  }
  ngOnInit() {
    this.titleService.setTitle('Ansökningar');
    this.reload();
  }
  reload() {
    this.apiService.fetchApplications().then(x => {
      let m = {
        applicationsListData: {
          isMortgageLoan: true,
          applications: x.Applications,
          sharedApiService: this.sharedApiService
        }
      };
      this.m = m;
    });
  }
  static #_ = this.ɵfac = function OverviewComponent_Factory(t) {
    return new (t || OverviewComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵdirectiveInject"](_angular_platform_browser__WEBPACK_IMPORTED_MODULE_5__.Title), _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵdirectiveInject"](_services_customer_pages_ml_api_service__WEBPACK_IMPORTED_MODULE_0__.CustomerPagesMortgageLoanApiService), _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵdirectiveInject"](_common_services_customer_pages_api_service__WEBPACK_IMPORTED_MODULE_1__.CustomerPagesApiService));
  };
  static #_2 = this.ɵcmp = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵdefineComponent"]({
    type: OverviewComponent,
    selectors: [["np-overview-ml"]],
    decls: 3,
    vars: 1,
    consts: [["shell-body", ""], [4, "ngIf"], [3, "initialData"]],
    template: function OverviewComponent_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](0, "ml-shell")(1, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtemplate"](2, OverviewComponent_ng_container_2_Template, 2, 1, "ng-container", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()();
      }
      if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngIf", ctx.m);
      }
    },
    dependencies: [_shared_components_applications_list_applications_list_component__WEBPACK_IMPORTED_MODULE_2__.ApplicationsListComponent, _angular_common__WEBPACK_IMPORTED_MODULE_6__.NgIf, _components_ml_shell_ml_shell_component__WEBPACK_IMPORTED_MODULE_3__.MlShellComponent],
    encapsulation: 2
  });
}
class Model {}

/***/ }),

/***/ 2040:
/*!*************************************************************************************************************!*\
  !*** ./projects/customerpages/src/app/mortgage-loan-applications/services/customer-pages-ml-api.service.ts ***!
  \*************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CustomerPagesMortgageLoanApiService: () => (/* binding */ CustomerPagesMortgageLoanApiService)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ 1699);
/* harmony import */ var _common_services_customer_pages_api_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../common-services/customer-pages-api.service */ 7991);


class CustomerPagesMortgageLoanApiService {
  constructor(apiService) {
    this.apiService = apiService;
  }
  shared() {
    return this.apiService;
  }
  createApplication(application) {
    return this.apiService.postLocal('/api/embedded-customerpages/create-mortgageloan-application', application);
  }
  /*
  A person has properties like: civicRegNr, email, phone
   */
  generateTestPersons(nrOfApplicants, isAccepted, useCommonAddress) {
    return this.apiService.post('nTest', 'Api/TestPerson/GetOrGenerate', {
      persons: nrOfApplicants === 1 ? [{
        isAccepted
      }] : [{
        isAccepted
      }, {
        isAccepted
      }],
      useCommonAddress: useCommonAddress
    });
  }
  fetchApplications() {
    return this.apiService.post('nPreCredit', 'api/MortgageLoanStandard/CustomerPages/Fetch-Applications', {});
  }
  fetchApplication(applicationNr) {
    return this.apiService.post('nPreCredit', 'api/MortgageLoanStandard/CustomerPages/Fetch-Application', {
      applicationNr
    });
  }
  static #_ = this.ɵfac = function CustomerPagesMortgageLoanApiService_Factory(t) {
    return new (t || CustomerPagesMortgageLoanApiService)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_common_services_customer_pages_api_service__WEBPACK_IMPORTED_MODULE_0__.CustomerPagesApiService));
  };
  static #_2 = this.ɵprov = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({
    token: CustomerPagesMortgageLoanApiService,
    factory: CustomerPagesMortgageLoanApiService.ɵfac,
    providedIn: 'root'
  });
}

/***/ }),

/***/ 2968:
/*!****************************************************************************************************!*\
  !*** ./projects/customerpages/src/app/mypages/components/mypages-shell/mypages-shell.component.ts ***!
  \****************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MyPagesMenuItemCode: () => (/* binding */ MyPagesMenuItemCode),
/* harmony export */   MypagesShellComponent: () => (/* binding */ MypagesShellComponent),
/* harmony export */   MypagesShellComponentInitialData: () => (/* binding */ MypagesShellComponentInitialData)
/* harmony export */ });
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! rxjs */ 8071);
/* harmony import */ var _shared_components_customer_messages_helper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../shared-components/customer-messages-helper */ 4799);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/core */ 1699);
/* harmony import */ var _common_services_customer_pages_config_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../common-services/customer-pages-config.service */ 5716);
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/platform-browser */ 6480);
/* harmony import */ var _common_services_customer_pages_api_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../common-services/customer-pages-api.service */ 7991);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/common */ 6575);
/* harmony import */ var _shared_components_customerpages_shell_customerpages_shell_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../shared-components/customerpages-shell/customerpages-shell.component */ 4277);
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/router */ 7947);









function MypagesShellComponent_div_0_ng_container_2_a_3_Template(rf, ctx) {
  if (rf & 1) {
    const _r7 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](0, "a", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵlistener"]("click", function MypagesShellComponent_div_0_ng_container_2_a_3_Template_a_click_0_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵrestoreView"](_r7);
      const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"](3);
      return _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵresetView"](ctx_r6.logOut($event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](1, "Logga ut");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
  }
}
function MypagesShellComponent_div_0_ng_container_2_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementContainerStart"](0, 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](1, "ul", 8)(2, "li");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtemplate"](3, MypagesShellComponent_div_0_ng_container_2_a_3_Template, 2, 0, "a", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngIf", ctx_r4.config == null ? null : ctx_r4.config.isAuthenticated());
  }
}
const _c0 = () => ["/my/overview"];
const _c1 = a0 => ({
  logoRouterLink: a0,
  skipBodyLayout: true,
  wideNavigation: true
});
function MypagesShellComponent_div_0_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](0, "div")(1, "customerpages-shell", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtemplate"](2, MypagesShellComponent_div_0_ng_container_2_Template, 4, 1, "ng-container", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](3, "div", 5)(4, "p", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](5, " Du verkar inte ha n\u00E5gon aktiv eller avslutad kundrelation med oss. ");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()()();
  }
  if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("initialData", _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpureFunction1"](3, _c1, _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpureFunction0"](2, _c0)));
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngIf", ctx_r0.m);
  }
}
function MypagesShellComponent_customerpages_shell_1_ng_container_1_ng_container_2_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementContainer"](0);
  }
}
function MypagesShellComponent_customerpages_shell_1_ng_container_1_ul_7_ng_container_1_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementContainer"](0);
  }
}
const _c2 = () => ({
  hideMessages: true
});
function MypagesShellComponent_customerpages_shell_1_ng_container_1_ul_7_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](0, "ul", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtemplate"](1, MypagesShellComponent_customerpages_shell_1_ng_container_1_ul_7_ng_container_1_Template, 1, 0, "ng-container", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelement"](2, "li", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](3, "li", 21)(4, "button", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](5, "Logga ut");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()()();
  }
  if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"](3);
    const _r3 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵreference"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngTemplateOutlet", _r3)("ngTemplateOutletContext", _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpureFunction0"](2, _c2));
  }
}
function MypagesShellComponent_customerpages_shell_1_ng_container_1_a_10_Template(rf, ctx) {
  if (rf & 1) {
    const _r15 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](0, "a", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵlistener"]("click", function MypagesShellComponent_customerpages_shell_1_ng_container_1_a_10_Template_a_click_0_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵrestoreView"](_r15);
      const ctx_r14 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"](3);
      return _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵresetView"](ctx_r14.logOut($event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](1, "Logga ut");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
  }
}
const _c3 = () => ({
  onlyMessages: true
});
function MypagesShellComponent_customerpages_shell_1_ng_container_1_Template(rf, ctx) {
  if (rf & 1) {
    const _r17 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementContainerStart"](0, 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](1, "ul", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtemplate"](2, MypagesShellComponent_customerpages_shell_1_ng_container_1_ng_container_2_Template, 1, 0, "ng-container", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](3, "li", 14)(4, "a", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵlistener"]("click", function MypagesShellComponent_customerpages_shell_1_ng_container_1_Template_a_click_4_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵrestoreView"](_r17);
      const ctx_r16 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"](2);
      return _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵresetView"](ctx_r16.toggleMobileMenu($event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](5, "Meny ");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelement"](6, "span", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtemplate"](7, MypagesShellComponent_customerpages_shell_1_ng_container_1_ul_7_Template, 6, 3, "ul", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](8, "ul", 18)(9, "li");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtemplate"](10, MypagesShellComponent_customerpages_shell_1_ng_container_1_a_10_Template, 2, 0, "a", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"](2);
    const _r3 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵreference"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngTemplateOutlet", _r3)("ngTemplateOutletContext", _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpureFunction0"](4, _c3));
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngIf", ctx_r8.m.isMobileMenuVisible);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngIf", ctx_r8.config == null ? null : ctx_r8.config.isAuthenticated());
  }
}
function MypagesShellComponent_customerpages_shell_1_div_2_ng_container_4_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementContainer"](0);
  }
}
function MypagesShellComponent_customerpages_shell_1_div_2_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](0, "div", 23)(1, "div", 24)(2, "div", 25)(3, "ul");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtemplate"](4, MypagesShellComponent_customerpages_shell_1_div_2_ng_container_4_Template, 1, 0, "ng-container", 26);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelement"](5, "div", 27);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](6, "div", 28);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵprojection"](7);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelement"](8, "div", 29);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"](2);
    const _r3 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵreference"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngTemplateOutlet", _r3);
  }
}
function MypagesShellComponent_customerpages_shell_1_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](0, "customerpages-shell", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtemplate"](1, MypagesShellComponent_customerpages_shell_1_ng_container_1_Template, 11, 5, "ng-container", 4)(2, MypagesShellComponent_customerpages_shell_1_div_2_Template, 9, 1, "div", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("initialData", _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpureFunction1"](4, _c1, _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpureFunction0"](3, _c0)));
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngIf", ctx_r1.m);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngIf", ctx_r1.m);
  }
}
function MypagesShellComponent_ng_template_2_ng_container_0_li_1_span_4_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](0, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r24 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtextInterpolate1"]("\u00A0(", ctx_r24.m.unreadMessagesCount.value, ")");
  }
}
function MypagesShellComponent_ng_template_2_ng_container_0_li_1_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](0, "li")(1, "a", 31)(2, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtemplate"](4, MypagesShellComponent_ng_template_2_ng_container_0_li_1_span_4_Template, 2, 1, "span", 0);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const i_r22 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"]().$implicit;
    const ctx_r23 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵclassProp"]("active", i_r22.isActive);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("routerLink", i_r22.routerLink);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtextInterpolate"](i_r22.codeDisplayName);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngIf", i_r22.code === "secureMessages" && ctx_r23.m.unreadMessagesCount.value && ctx_r23.m.unreadMessagesCount.value > 0);
  }
}
function MypagesShellComponent_ng_template_2_ng_container_0_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtemplate"](1, MypagesShellComponent_ng_template_2_ng_container_0_li_1_Template, 5, 5, "li", 0);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const i_r22 = ctx.$implicit;
    const ctx_r26 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"]();
    const hideMessages_r19 = ctx_r26.hideMessages;
    const onlyMessages_r20 = ctx_r26.onlyMessages;
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngIf", i_r22.isVisible(hideMessages_r19, onlyMessages_r20));
  }
}
function MypagesShellComponent_ng_template_2_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtemplate"](0, MypagesShellComponent_ng_template_2_ng_container_0_Template, 2, 1, "ng-container", 30);
  }
  if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngForOf", ctx_r2.m.menuItems);
  }
}
const _c4 = [[["", "active-tab", ""]]];
const _c5 = ["[active-tab]"];
var MyPagesMenuItemCode;
(function (MyPagesMenuItemCode) {
  MyPagesMenuItemCode["Overview"] = "overview";
  MyPagesMenuItemCode["Loans"] = "loans";
  MyPagesMenuItemCode["UnsecuredLoanApplications"] = "unsecuredLoanApplications";
  MyPagesMenuItemCode["MortgageLoanApplications"] = "mortgageLoanApplications";
  MyPagesMenuItemCode["SavingsAccounts"] = "savingsAccounts";
  MyPagesMenuItemCode["Documents"] = "documents";
  MyPagesMenuItemCode["SecureMessage"] = "secureMessages";
  MyPagesMenuItemCode["MyData"] = "myData";
})(MyPagesMenuItemCode || (MyPagesMenuItemCode = {}));
class MypagesShellComponent {
  constructor(config, titleService, sharedApiService) {
    this.config = config;
    this.titleService = titleService;
    this.sharedApiService = sharedApiService;
  }
  ngOnInit() {}
  ngOnChanges(changes) {
    this.titleService.setTitle('Mina sidor');
    this.m = null;
    if (!this.initialData) {
      return;
    }
    let m = new Model();
    m.hasNoCustomerRelation = this.initialData.hasNoCustomerRelation;
    m.addMenuItem(MyPagesMenuItemCode.Overview, 'Översikt', ['/my/overview']);
    if (this.config.isAnyFeatureEnabled(['ntech.feature.unsecuredloans.standard', 'ntech.feature.mortgageloans.standard'])) {
      m.addMenuItem(MyPagesMenuItemCode.Loans, 'Lån', ['/my/loans']);
    }
    if (this.config.isAnyFeatureEnabled(['ntech.feature.savingsstandard'])) {
      m.addTestMenuItem(MyPagesMenuItemCode.SavingsAccounts, 'Sparkonton');
    }
    m.addMenuItem(MyPagesMenuItemCode.Documents, 'Dokument', ['/my/documents']);
    m.addMenuItem(MyPagesMenuItemCode.SecureMessage, 'Meddelanden', ['/my/messages']);
    m.addMenuItem(MyPagesMenuItemCode.MyData, 'Mina uppgifter', ['/my/data']);
    m.setActiveMenuItem(this.initialData.activeMenuItemCode);
    this.refreshUnreadMessagesCount(m).then(_ => {
      this.m = m;
    });
  }
  refreshUnreadMessagesCount(m) {
    if (this.initialData.activeMenuItemCode == MyPagesMenuItemCode.SecureMessage) {
      //No reason to load this for the messages page
      //since we will mark everything as read as soon as the customer enters the page
      return new Promise(resolve => {
        m.unreadMessagesCount.next(0);
        resolve();
      });
    } else {
      let messagesHelper = new _shared_components_customer_messages_helper__WEBPACK_IMPORTED_MODULE_0__.CustomerMessagesHelper(null, this.config, this.sharedApiService);
      return messagesHelper.getSecureMessagesUnreadByCustomerCount().then(x => {
        m.unreadMessagesCount.next(x.UnreadCount);
      });
    }
  }
  toggleMobileMenu(evt) {
    evt?.preventDefault();
    this.m.isMobileMenuVisible = !this.m.isMobileMenuVisible;
  }
  logOut(evt) {
    evt?.preventDefault();
    document.location.href = this.config.config()?.LogoutUrl;
  }
  static #_ = this.ɵfac = function MypagesShellComponent_Factory(t) {
    return new (t || MypagesShellComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵdirectiveInject"](_common_services_customer_pages_config_service__WEBPACK_IMPORTED_MODULE_1__.CustomerPagesConfigService), _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵdirectiveInject"](_angular_platform_browser__WEBPACK_IMPORTED_MODULE_5__.Title), _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵdirectiveInject"](_common_services_customer_pages_api_service__WEBPACK_IMPORTED_MODULE_2__.CustomerPagesApiService));
  };
  static #_2 = this.ɵcmp = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵdefineComponent"]({
    type: MypagesShellComponent,
    selectors: [["mypages-shell"]],
    inputs: {
      initialData: "initialData"
    },
    features: [_angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵNgOnChangesFeature"]],
    ngContentSelectors: _c5,
    decls: 4,
    vars: 2,
    consts: [[4, "ngIf"], [3, "initialData", 4, "ngIf"], ["menuItems", ""], [3, "initialData"], ["navigation-area", "", 4, "ngIf"], [1, "align-center"], [1, "text-center"], ["navigation-area", ""], [1, "navigation-list"], ["href", "#", "class", "n-direct-btn n-white-btn", 3, "click", 4, "ngIf"], ["href", "#", 1, "n-direct-btn", "n-white-btn", 3, "click"], ["class", "flex-content-area", "shell-body", "", 4, "ngIf"], [1, "nav", "navbar-nav", "navbar-right", "mobil-menu"], [4, "ngTemplateOutlet", "ngTemplateOutletContext"], [1, "dropdown"], ["href", "#", 1, "dropdown-toggle", "n-anchor", 3, "click"], [1, "caret"], ["class", "dropdown-menu", 4, "ngIf"], [1, "navigation-list", "hide-on-mobile"], [1, "dropdown-menu"], [1, "divider"], [1, "text-center", "pb-2", "pt-1"], [1, "n-direct-btn", "n-white-btn"], ["shell-body", "", 1, "flex-content-area"], [1, "desktop-menu"], [1, "menu-list", "pt-3"], [4, "ngTemplateOutlet"], [1, "left"], [1, "content-area"], [1, "right"], [4, "ngFor", "ngForOf"], [3, "routerLink"]],
    template: function MypagesShellComponent_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵprojectionDef"](_c4);
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtemplate"](0, MypagesShellComponent_div_0_Template, 6, 5, "div", 0)(1, MypagesShellComponent_customerpages_shell_1_Template, 3, 6, "customerpages-shell", 1)(2, MypagesShellComponent_ng_template_2_Template, 1, 1, "ng-template", null, 2, _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtemplateRefExtractor"]);
      }
      if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngIf", ctx.m == null ? null : ctx.m.hasNoCustomerRelation);
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngIf", !(ctx.m == null ? null : ctx.m.hasNoCustomerRelation));
      }
    },
    dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_6__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_6__.NgIf, _angular_common__WEBPACK_IMPORTED_MODULE_6__.NgTemplateOutlet, _shared_components_customerpages_shell_customerpages_shell_component__WEBPACK_IMPORTED_MODULE_3__.CustomerpagesShellComponent, _angular_router__WEBPACK_IMPORTED_MODULE_7__.RouterLink],
    encapsulation: 2
  });
}
class MypagesShellComponentInitialData {}
class Model {
  constructor() {
    this.menuItems = [];
    this.isMobileMenuVisible = false;
    this.unreadMessagesCount = new rxjs__WEBPACK_IMPORTED_MODULE_8__.BehaviorSubject(0);
  }
  addMenuItem(code, displayName, routerLink) {
    let i = new MenuItemModel(code, displayName, routerLink, false);
    this.menuItems.push(i);
    return i;
  }
  addTestMenuItem(code, displayName) {
    let routerLink = [`/my/menu-test/${code}`];
    return this.addMenuItem(code, displayName, routerLink);
  }
  setActiveMenuItem(code) {
    for (let m of this.menuItems) {
      m.isActive = m.code === code;
    }
  }
}
class MenuItemModel {
  constructor(code, codeDisplayName, routerLink, isActive) {
    this.code = code;
    this.codeDisplayName = codeDisplayName;
    this.routerLink = routerLink;
    this.isActive = isActive;
  }
  isVisible(hideMessages, onlyMessages) {
    if (hideMessages && this.code == 'secureMessages') {
      return false;
    }
    if (onlyMessages && this.code != 'secureMessages') {
      return false;
    }
    return true;
  }
}

/***/ }),

/***/ 7972:
/*!******************************************************************************************************************!*\
  !*** ./projects/customerpages/src/app/mypages/components/unpaid-notifications/unpaid-notifications.component.ts ***!
  \******************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   UnpaidNotificationsComponent: () => (/* binding */ UnpaidNotificationsComponent),
/* harmony export */   UnpaidNotificationsComponentInitialData: () => (/* binding */ UnpaidNotificationsComponentInitialData)
/* harmony export */ });
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! moment */ 8540);
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var src_app_common_services_ntech_math__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/app/common-services/ntech.math */ 3319);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ 1699);
/* harmony import */ var _services_mypages_api_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/mypages-api.service */ 2122);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common */ 6575);





function UnpaidNotificationsComponent_ng_container_0_p_1_span_1_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](0, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵpipe"](2, "date");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtextInterpolate1"]("Du har inga obetalda avier, n\u00E4sta avisering sker ", _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵpipeBind2"](2, 1, ctx_r3.m.nextNotificationDate, "yyyy-MM-dd"), ".");
  }
}
function UnpaidNotificationsComponent_ng_container_0_p_1_span_2_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](0, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](1, "Du har inga obetalda avier.");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
  }
}
function UnpaidNotificationsComponent_ng_container_0_p_1_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](0, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](1, UnpaidNotificationsComponent_ng_container_0_p_1_span_1_Template, 3, 4, "span", 0)(2, UnpaidNotificationsComponent_ng_container_0_p_1_span_2_Template, 2, 0, "span", 0);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngIf", ctx_r1.m.nextNotificationDate);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngIf", !ctx_r1.m.nextNotificationDate);
  }
}
function UnpaidNotificationsComponent_ng_container_0_div_2_div_1_div_10_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](0, "div", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](1, "!");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
  }
}
function UnpaidNotificationsComponent_ng_container_0_div_2_div_1_div_17_div_27_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](0, "div", 21)(1, "label", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](2, "L\u00E5n");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](3, "p", 23);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const n_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"](2).$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtextInterpolate"](n_r6.creditNr);
  }
}
function UnpaidNotificationsComponent_ng_container_0_div_2_div_1_div_17_a_32_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](0, "a", 28);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](1, "PDF");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const n_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"](2).$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("href", n_r6.notificationUrl, _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵsanitizeUrl"]);
  }
}
function UnpaidNotificationsComponent_ng_container_0_div_2_div_1_div_17_div_33_a_4_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](0, "a", 28);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](1, "PDF");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const r_r15 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("href", r_r15.url, _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵsanitizeUrl"]);
  }
}
function UnpaidNotificationsComponent_ng_container_0_div_2_div_1_div_17_div_33_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](0, "div", 21)(1, "label", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](3, "p", 23);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](4, UnpaidNotificationsComponent_ng_container_0_div_2_div_1_div_17_div_33_a_4_Template, 2, 1, "a", 25);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const r_r15 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtextInterpolate1"]("P\u00E5minnelse ", r_r15.nr, "");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngIf", r_r15.url);
  }
}
function UnpaidNotificationsComponent_ng_container_0_div_2_div_1_div_17_p_34_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](0, "p", 29);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](1, "Vi kommer att g\u00F6ra tre autogirof\u00F6rs\u00F6k fr.o.m. f\u00F6rfallodatum och tre bankdagar fram\u00E5t. Om samtliga dragningsf\u00F6rs\u00F6k misslyckats v\u00E4nligen g\u00F6r en inbetalning till bankgirot med ovan OCR.");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
  }
}
function UnpaidNotificationsComponent_ng_container_0_div_2_div_1_div_17_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](0, "div", 17)(1, "div", 18)(2, "div", 19)(3, "div", 20)(4, "div", 21)(5, "label", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](6, "Autogiro");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](7, "p", 23);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](8);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](9, "div", 21)(10, "label", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](11, "Bankgiro");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](12, "p", 23);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](13);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](14, "div", 21)(15, "label", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](16, "OCR");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](17, "p", 23);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](18);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](19, "div", 21)(20, "label", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](21, "Kvar att betala");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](22, "p", 23);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](23);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵpipe"](24, "number");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]()()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](25, "div", 19)(26, "div", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](27, UnpaidNotificationsComponent_ng_container_0_div_2_div_1_div_17_div_27_Template, 5, 1, "div", 24);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](28, "div", 21)(29, "label", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](30, "Avi");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](31, "p", 23);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](32, UnpaidNotificationsComponent_ng_container_0_div_2_div_1_div_17_a_32_Template, 2, 1, "a", 25);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](33, UnpaidNotificationsComponent_ng_container_0_div_2_div_1_div_17_div_33_Template, 5, 2, "div", 26);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](34, UnpaidNotificationsComponent_ng_container_0_div_2_div_1_div_17_p_34_Template, 2, 0, "p", 27);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const n_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"]().$implicit;
    const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](8);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtextInterpolate"](n_r6.directDebit ? "Ja" : "Nej");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtextInterpolate"](n_r6.bankGiro);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtextInterpolate"](n_r6.ocrPaymentReference);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtextInterpolate1"]("", _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵpipeBind2"](24, 8, n_r6.balanceAmount, "1.0-2"), " kr");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngIf", ctx_r8.m.isOverview);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngIf", n_r6.notificationUrl);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngForOf", n_r6.reminders);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngIf", n_r6.directDebit);
  }
}
const _c0 = (a0, a1) => ({
  "task-toggle-expanded": a0,
  "task-toggle-contracted": a1
});
const _c1 = (a0, a1) => ({
  "glyphicon-chevron-down": a0,
  "glyphicon-plus": a1
});
function UnpaidNotificationsComponent_ng_container_0_div_2_div_1_Template(rf, ctx) {
  if (rf & 1) {
    const _r20 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](0, "div", 4)(1, "div", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵlistener"]("click", function UnpaidNotificationsComponent_ng_container_0_div_2_div_1_Template_div_click_1_listener() {
      const restoredCtx = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵrestoreView"](_r20);
      const n_r6 = restoredCtx.$implicit;
      return _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵresetView"](n_r6.isExpanded = !n_r6.isExpanded);
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](2, "div", 6)(3, "div", 7)(4, "p")(5, "span", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](6, "F\u00F6rfallodag");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](7);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵpipe"](8, "date");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](9, "div", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](10, UnpaidNotificationsComponent_ng_container_0_div_2_div_1_div_10_Template, 2, 0, "div", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](11, "div", 11)(12, "span", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](13);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵpipe"](14, "number");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelement"](15, "span", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelement"](16, "div", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](17, UnpaidNotificationsComponent_ng_container_0_div_2_div_1_div_17_Template, 35, 11, "div", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const n_r6 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵpureFunction2"](12, _c0, n_r6.isExpanded, !n_r6.isExpanded));
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵpipeBind2"](8, 6, n_r6.dueDate, "yyyy-MM-dd"), "");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngIf", n_r6.isOverdue);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtextInterpolate1"]("", _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵpipeBind2"](14, 9, n_r6.balanceAmount, "1.0-2"), " kr");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵpureFunction2"](15, _c1, n_r6.isExpanded, !n_r6.isExpanded));
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngIf", n_r6.isExpanded);
  }
}
function UnpaidNotificationsComponent_ng_container_0_div_2_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](0, "div", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](1, UnpaidNotificationsComponent_ng_container_0_div_2_div_1_Template, 18, 18, "div", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngForOf", ctx_r2.m.notifications);
  }
}
function UnpaidNotificationsComponent_ng_container_0_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](1, UnpaidNotificationsComponent_ng_container_0_p_1_Template, 3, 2, "p", 0)(2, UnpaidNotificationsComponent_ng_container_0_div_2_Template, 2, 1, "div", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngIf", ctx_r0.m.notifications.length == 0);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngIf", ctx_r0.m.notifications.length > 0);
  }
}
class UnpaidNotificationsComponent {
  constructor(apiService) {
    this.apiService = apiService;
  }
  ngOnInit() {}
  ngOnChanges(changes) {
    this.m = null;
    if (!this.initialData) {
      return;
    }
    let credits = this.initialData.credits;
    let nextNotificationDate = null;
    let creditsWithFutureNotifications = credits.filter(x => !!x.NextNotificationDate);
    if (creditsWithFutureNotifications.length > 0) {
      nextNotificationDate = src_app_common_services_ntech_math__WEBPACK_IMPORTED_MODULE_1__.NTechMath.orderBy(creditsWithFutureNotifications, x => moment__WEBPACK_IMPORTED_MODULE_0__(x.NextNotificationDate).valueOf(), true)[0].NextNotificationDate;
    }
    let m = {
      isOverview: this.initialData.isOverview,
      nextNotificationDate: nextNotificationDate,
      notifications: []
    };
    for (let c of credits) {
      for (let n of c.Notifications.filter(y => y.IsOpen)) {
        m.notifications.push({
          notificationId: n.NotificationId,
          dueDate: n.DueDate,
          balanceAmount: n.BalanceAmount,
          isOverdue: n.IsOverdue,
          isExpanded: false,
          directDebit: c.IsDirectDebitActive,
          bankGiro: n.PaymentBankGiroNrDisplay,
          ocrPaymentReference: n.OcrPaymentReferenceDisplay,
          creditNr: c.CreditNr,
          notificationUrl: n.PdfArchiveKey ? this.apiService.shared().getArchiveDocumentUrl(n.PdfArchiveKey, true) : null,
          reminders: (n.Reminders ?? []).map(y => {
            return {
              nr: y.ReminderNumber,
              url: y.ArchiveKey ? this.apiService.shared().getArchiveDocumentUrl(y.ArchiveKey, true) : null
            };
          })
        });
      }
    }
    m.notifications = src_app_common_services_ntech_math__WEBPACK_IMPORTED_MODULE_1__.NTechMath.orderBy(m.notifications, x => x.notificationId);
    this.m = m;
  }
  static #_ = this.ɵfac = function UnpaidNotificationsComponent_Factory(t) {
    return new (t || UnpaidNotificationsComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵdirectiveInject"](_services_mypages_api_service__WEBPACK_IMPORTED_MODULE_2__.MyPagesApiService));
  };
  static #_2 = this.ɵcmp = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵdefineComponent"]({
    type: UnpaidNotificationsComponent,
    selectors: [["unpaid-notifications"]],
    inputs: {
      initialData: "initialData"
    },
    features: [_angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵNgOnChangesFeature"]],
    decls: 1,
    vars: 1,
    consts: [[4, "ngIf"], ["class", "task-toggle-list", 4, "ngIf"], [1, "task-toggle-list"], ["class", "task-toggle", 4, "ngFor", "ngForOf"], [1, "task-toggle"], [3, "ngClass", "click"], [1, "col-xs-7", "remove-bootstrap-gutter"], [1, "pull-left", "pr-2"], [1, "hide-on-mobile"], [1, "pull-left"], ["class", "alert-icon", 4, "ngIf"], [1, "col-xs-5", "text-right"], [1, "mr-1"], [1, "glyphicon", 3, "ngClass"], [1, "clearfix"], ["class", "pb-3", 4, "ngIf"], [1, "alert-icon"], [1, "pb-3"], [1, "row"], [1, "col-sm-6", "col-xs-12"], [1, "form-horizontal"], [1, "form-group"], [1, "control-label", "col-xs-6"], [1, "form-control-static", "col-xs-6"], ["class", "form-group", 4, "ngIf"], ["target", "_blank", "class", "n-direct-btn n-white-btn", 3, "href", 4, "ngIf"], ["class", "form-group", 4, "ngFor", "ngForOf"], ["class", "pt-3", 4, "ngIf"], ["target", "_blank", 1, "n-direct-btn", "n-white-btn", 3, "href"], [1, "pt-3"]],
    template: function UnpaidNotificationsComponent_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](0, UnpaidNotificationsComponent_ng_container_0_Template, 3, 2, "ng-container", 0);
      }
      if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngIf", ctx.m);
      }
    },
    dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_4__.NgClass, _angular_common__WEBPACK_IMPORTED_MODULE_4__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_4__.NgIf, _angular_common__WEBPACK_IMPORTED_MODULE_4__.DecimalPipe, _angular_common__WEBPACK_IMPORTED_MODULE_4__.DatePipe],
    encapsulation: 2
  });
}
class UnpaidNotificationsComponentInitialData {}
class Model {}

/***/ }),

/***/ 8106:
/*!**************************************************************************!*\
  !*** ./projects/customerpages/src/app/mypages/mypages-routing.module.ts ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MypagesRoutingModule: () => (/* binding */ MypagesRoutingModule)
/* harmony export */ });
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/router */ 7947);
/* harmony import */ var _common_services_customer_pages_auth_guard__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../common-services/customer-pages.auth.guard */ 7423);
/* harmony import */ var _pages_my_data_my_contactinfo_my_contactinfo_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./pages/my-data/my-contactinfo/my-contactinfo.component */ 6418);
/* harmony import */ var _pages_my_data_my_data_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./pages/my-data/my-data.component */ 1599);
/* harmony import */ var _pages_my_documents_my_documents_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/my-documents/my-documents.component */ 2283);
/* harmony import */ var _pages_my_loans_my_loans_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./pages/my-loans/my-loans.component */ 6341);
/* harmony import */ var _pages_my_messages_my_messages_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./pages/my-messages/my-messages.component */ 3642);
/* harmony import */ var _pages_mypages_overview_mypages_overview_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./pages/mypages-overview/mypages-overview.component */ 697);
/* harmony import */ var _pages_mypages_testpage_mypages_testpage_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./pages/mypages-testpage/mypages-testpage.component */ 6795);
/* harmony import */ var _pages_loan_loan_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./pages/loan/loan.component */ 4865);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/core */ 1699);












const alwaysActiveRoutes = [{
  path: 'my',
  children: [{
    path: 'overview',
    component: _pages_mypages_overview_mypages_overview_component__WEBPACK_IMPORTED_MODULE_6__.MypagesOverviewComponent
  }, {
    path: 'data',
    component: _pages_my_data_my_data_component__WEBPACK_IMPORTED_MODULE_2__.MyDataComponent
  }, {
    path: 'data/contactinfo',
    component: _pages_my_data_my_contactinfo_my_contactinfo_component__WEBPACK_IMPORTED_MODULE_1__.MyContactinfoComponent
  }, {
    path: 'loans',
    component: _pages_my_loans_my_loans_component__WEBPACK_IMPORTED_MODULE_4__.MyLoansComponent
  }, {
    path: 'documents',
    component: _pages_my_documents_my_documents_component__WEBPACK_IMPORTED_MODULE_3__.MyDocumentsComponent
  }, {
    path: 'messages',
    component: _pages_my_messages_my_messages_component__WEBPACK_IMPORTED_MODULE_5__.MyMessagesComponent
  }, {
    path: 'menu-test/:menuCode',
    component: _pages_mypages_testpage_mypages_testpage_component__WEBPACK_IMPORTED_MODULE_7__.MypagesTestpageComponent
  }],
  resolve: {},
  data: {
    requireFeatures: [],
    loginTargetName: 'StandardOverview',
    requiredUserRole: 'EmbeddedCustomerPagesStandardCustomer'
  },
  canActivate: [_common_services_customer_pages_auth_guard__WEBPACK_IMPORTED_MODULE_0__.CustomerPagesAuthGuard]
}];
const loansOnlyRoutes = [{
  path: 'my/sl',
  children: [{
    path: 'loan/:creditNr',
    component: _pages_loan_loan_component__WEBPACK_IMPORTED_MODULE_8__.LoanComponent
  }],
  resolve: {},
  data: {
    requireAnyFeature: ['ntech.feature.unsecuredloans.standard', 'ntech.feature.mortgageloans.standard'],
    loginTargetName: 'StandardOverview',
    requiredUserRole: 'EmbeddedCustomerPagesStandardCustomer'
  },
  canActivate: [_common_services_customer_pages_auth_guard__WEBPACK_IMPORTED_MODULE_0__.CustomerPagesAuthGuard]
}];
let routes = [...alwaysActiveRoutes, ...loansOnlyRoutes];
class MypagesRoutingModule {
  static #_ = this.ɵfac = function MypagesRoutingModule_Factory(t) {
    return new (t || MypagesRoutingModule)();
  };
  static #_2 = this.ɵmod = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵdefineNgModule"]({
    type: MypagesRoutingModule
  });
  static #_3 = this.ɵinj = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵdefineInjector"]({
    imports: [_angular_router__WEBPACK_IMPORTED_MODULE_10__.RouterModule.forChild(routes), _angular_router__WEBPACK_IMPORTED_MODULE_10__.RouterModule]
  });
}
(function () {
  (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵsetNgModuleScope"](MypagesRoutingModule, {
    imports: [_angular_router__WEBPACK_IMPORTED_MODULE_10__.RouterModule],
    exports: [_angular_router__WEBPACK_IMPORTED_MODULE_10__.RouterModule]
  });
})();

/***/ }),

/***/ 9577:
/*!******************************************************************!*\
  !*** ./projects/customerpages/src/app/mypages/mypages.module.ts ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MypagesModule: () => (/* binding */ MypagesModule)
/* harmony export */ });
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @angular/common */ 6575);
/* harmony import */ var _mypages_routing_module__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./mypages-routing.module */ 8106);
/* harmony import */ var _pages_mypages_overview_mypages_overview_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./pages/mypages-overview/mypages-overview.component */ 697);
/* harmony import */ var _shared_components_shared_components_module__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../shared-components/shared-components.module */ 7159);
/* harmony import */ var _pages_mypages_testpage_mypages_testpage_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/mypages-testpage/mypages-testpage.component */ 6795);
/* harmony import */ var _pages_mypages_overview_mypages_overview_loans_mypages_overview_loans_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./pages/mypages-overview/mypages-overview-loans/mypages-overview-loans.component */ 6646);
/* harmony import */ var _pages_my_data_my_data_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./pages/my-data/my-data.component */ 1599);
/* harmony import */ var _pages_my_data_my_contactinfo_my_contactinfo_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./pages/my-data/my-contactinfo/my-contactinfo.component */ 6418);
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @angular/forms */ 8849);
/* harmony import */ var _pages_my_loans_my_loans_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./pages/my-loans/my-loans.component */ 6341);
/* harmony import */ var _pages_loan_loan_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./pages/loan/loan.component */ 4865);
/* harmony import */ var _components_unpaid_notifications_unpaid_notifications_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./components/unpaid-notifications/unpaid-notifications.component */ 7972);
/* harmony import */ var _pages_loan_ul_amortization_plan_ul_amortization_plan_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./pages/loan/ul-amortization-plan/ul-amortization-plan.component */ 1898);
/* harmony import */ var _pages_loan_interest_history_interest_history_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./pages/loan/interest-history/interest-history.component */ 4133);
/* harmony import */ var _pages_loan_capital_transaction_history_capital_transaction_history_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./pages/loan/capital-transaction-history/capital-transaction-history.component */ 4038);
/* harmony import */ var _pages_my_documents_my_documents_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./pages/my-documents/my-documents.component */ 2283);
/* harmony import */ var _pages_my_messages_my_messages_component__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./pages/my-messages/my-messages.component */ 3642);
/* harmony import */ var ngx_quill__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ngx-quill */ 945);
/* harmony import */ var _components_mypages_shell_mypages_shell_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./components/mypages-shell/mypages-shell.component */ 2968);
/* harmony import */ var _pages_loan_ml_amortization_plan_ml_amortization_plan_component__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./pages/loan/ml-amortization-plan/ml-amortization-plan.component */ 1360);
/* harmony import */ var projects_ntech_components_src_public_api__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! projects/ntech-components/src/public-api */ 3044);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @angular/core */ 1699);























class MypagesModule {
  static #_ = this.ɵfac = function MypagesModule_Factory(t) {
    return new (t || MypagesModule)();
  };
  static #_2 = this.ɵmod = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵdefineNgModule"]({
    type: MypagesModule
  });
  static #_3 = this.ɵinj = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵdefineInjector"]({
    imports: [_angular_common__WEBPACK_IMPORTED_MODULE_19__.CommonModule, _shared_components_shared_components_module__WEBPACK_IMPORTED_MODULE_2__.SharedComponentsModule, _mypages_routing_module__WEBPACK_IMPORTED_MODULE_0__.MypagesRoutingModule, _angular_forms__WEBPACK_IMPORTED_MODULE_20__.ReactiveFormsModule, ngx_quill__WEBPACK_IMPORTED_MODULE_21__.QuillModule.forRoot(), projects_ntech_components_src_public_api__WEBPACK_IMPORTED_MODULE_17__.NtechComponentsModule]
  });
}
(function () {
  (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_18__["ɵɵsetNgModuleScope"](MypagesModule, {
    declarations: [_pages_mypages_overview_mypages_overview_component__WEBPACK_IMPORTED_MODULE_1__.MypagesOverviewComponent, _pages_mypages_testpage_mypages_testpage_component__WEBPACK_IMPORTED_MODULE_3__.MypagesTestpageComponent, _pages_mypages_overview_mypages_overview_loans_mypages_overview_loans_component__WEBPACK_IMPORTED_MODULE_4__.MypagesOverviewLoansComponent, _pages_my_data_my_data_component__WEBPACK_IMPORTED_MODULE_5__.MyDataComponent, _pages_my_data_my_contactinfo_my_contactinfo_component__WEBPACK_IMPORTED_MODULE_6__.MyContactinfoComponent, _pages_my_loans_my_loans_component__WEBPACK_IMPORTED_MODULE_7__.MyLoansComponent, _pages_loan_loan_component__WEBPACK_IMPORTED_MODULE_8__.LoanComponent, _components_unpaid_notifications_unpaid_notifications_component__WEBPACK_IMPORTED_MODULE_9__.UnpaidNotificationsComponent, _pages_loan_ul_amortization_plan_ul_amortization_plan_component__WEBPACK_IMPORTED_MODULE_10__.UlAmortizationPlanComponent, _pages_loan_ml_amortization_plan_ml_amortization_plan_component__WEBPACK_IMPORTED_MODULE_16__.MlAmortizationPlanComponent, _pages_loan_interest_history_interest_history_component__WEBPACK_IMPORTED_MODULE_11__.InterestHistoryComponent, _pages_loan_capital_transaction_history_capital_transaction_history_component__WEBPACK_IMPORTED_MODULE_12__.CapitalTransactionHistoryComponent, _pages_my_documents_my_documents_component__WEBPACK_IMPORTED_MODULE_13__.MyDocumentsComponent, _pages_my_messages_my_messages_component__WEBPACK_IMPORTED_MODULE_14__.MyMessagesComponent, _components_mypages_shell_mypages_shell_component__WEBPACK_IMPORTED_MODULE_15__.MypagesShellComponent],
    imports: [_angular_common__WEBPACK_IMPORTED_MODULE_19__.CommonModule, _shared_components_shared_components_module__WEBPACK_IMPORTED_MODULE_2__.SharedComponentsModule, _mypages_routing_module__WEBPACK_IMPORTED_MODULE_0__.MypagesRoutingModule, _angular_forms__WEBPACK_IMPORTED_MODULE_20__.ReactiveFormsModule, ngx_quill__WEBPACK_IMPORTED_MODULE_21__.QuillModule, projects_ntech_components_src_public_api__WEBPACK_IMPORTED_MODULE_17__.NtechComponentsModule]
  });
})();

/***/ }),

/***/ 4038:
/*!********************************************************************************************************************************!*\
  !*** ./projects/customerpages/src/app/mypages/pages/loan/capital-transaction-history/capital-transaction-history.component.ts ***!
  \********************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CapitalTransactionHistoryComponent: () => (/* binding */ CapitalTransactionHistoryComponent)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ 1699);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ 6575);


function CapitalTransactionHistoryComponent_div_0_ng_container_9_tr_1_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "tr")(1, "td", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](3, "br");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "span", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](6, "date");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "td", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](9, "currency");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const r_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", r_r3.description, " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](6, 3, r_r3.date, "yyyy-MM-dd"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](9, 6, r_r3.amount));
  }
}
function CapitalTransactionHistoryComponent_div_0_ng_container_9_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, CapitalTransactionHistoryComponent_div_0_ng_container_9_tr_1_Template, 10, 8, "tr", 0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const r_r3 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", r_r3.isVisible);
  }
}
function CapitalTransactionHistoryComponent_div_0_div_10_a_1_Template(rf, ctx) {
  if (rf & 1) {
    const _r8 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "a", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function CapitalTransactionHistoryComponent_div_0_div_10_a_1_Template_a_click_0_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r8);
      const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3);
      return _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵresetView"](ctx_r7.showMoreItems($event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "Visa fler");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
  }
}
function CapitalTransactionHistoryComponent_div_0_div_10_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, CapitalTransactionHistoryComponent_div_0_div_10_a_1_Template, 2, 0, "a", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r2.hasMoreItems());
  }
}
function CapitalTransactionHistoryComponent_div_0_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div")(1, "table", 1)(2, "thead")(3, "tr")(4, "th", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](5, "Datum");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "th", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](7, "Transaktion");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](8, "tbody");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](9, CapitalTransactionHistoryComponent_div_0_ng_container_9_Template, 2, 1, "ng-container", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](10, CapitalTransactionHistoryComponent_div_0_div_10_Template, 2, 1, "div", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx_r0.m.items);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r0.hasMoreItems());
  }
}
class CapitalTransactionHistoryComponent {
  constructor() {}
  ngOnInit() {}
  ngOnChanges(changes) {
    this.m = null;
    if (!this.capitalTransactionHistory) {
      return;
    }
    this.m = {
      items: (this.capitalTransactionHistory.Transactions ?? []).map(x => {
        return {
          date: x.TransactionDate,
          amount: x.Amount,
          description: this.getDescription(x.BusinessEventType, x.BusinessEventRoleCode, x.SubAccountCode)
        };
      })
    };
    this.showMoreItems(null);
  }
  getDescription(businessEventType, businessEventRoleCode, subAccountCode) {
    switch (businessEventType) {
      case 'NewIncomingPaymentFile':
        return 'Amortering';
      case 'PlacedUnplacedIncomingPayment':
        return 'Amortering';
      case 'NewCredit':
        switch (subAccountCode) {
          case 'initialFeeWithheld':
            return 'Uppläggningsavgift';
          case 'settledLoan':
            return 'Löst lån';
          case 'paidToCustomer':
            return 'Utbetalning';
          default:
            return 'Lån';
        }
      case 'NewMortgageLoan':
        return 'Lån';
      default:
        return businessEventType;
    }
  }
  hasMoreItems() {
    return this.m.items.length > 0 && this.m.items.findIndex(x => !x.isVisible) >= 0;
  }
  showMoreItems(evt) {
    evt?.preventDefault();
    let countShown = 0;
    for (let i of this.m.items) {
      if (!i.isVisible) {
        i.isVisible = true;
        countShown++;
      }
      if (countShown >= 5) {
        return;
      }
    }
  }
  static #_ = this.ɵfac = function CapitalTransactionHistoryComponent_Factory(t) {
    return new (t || CapitalTransactionHistoryComponent)();
  };
  static #_2 = this.ɵcmp = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({
    type: CapitalTransactionHistoryComponent,
    selectors: [["capital-transaction-history"]],
    inputs: {
      capitalTransactionHistory: "capitalTransactionHistory"
    },
    features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]],
    decls: 1,
    vars: 1,
    consts: [[4, "ngIf"], [1, "table", "lined-table"], [1, "col-xs-6"], [1, "col-xs-6", "text-right"], [4, "ngFor", "ngForOf"], ["class", "text-center pt-3", 4, "ngIf"], [1, "transaction-date"], [1, "text-center", "pt-3"], ["href", "", "class", "n-anchor", 3, "click", 4, "ngIf"], ["href", "", 1, "n-anchor", 3, "click"]],
    template: function CapitalTransactionHistoryComponent_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, CapitalTransactionHistoryComponent_div_0_Template, 11, 2, "div", 0);
      }
      if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.m);
      }
    },
    dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_1__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_1__.NgIf, _angular_common__WEBPACK_IMPORTED_MODULE_1__.CurrencyPipe, _angular_common__WEBPACK_IMPORTED_MODULE_1__.DatePipe],
    styles: [".transaction-date[_ngcontent-%COMP%] { display: block; font-size: small; padding-top: 5px; }\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3Byb2plY3RzL2N1c3RvbWVycGFnZXMvc3JjL2FwcC9teXBhZ2VzL3BhZ2VzL2xvYW4vY2FwaXRhbC10cmFuc2FjdGlvbi1oaXN0b3J5L2NhcGl0YWwtdHJhbnNhY3Rpb24taGlzdG9yeS5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsb0JBQW9CLGNBQWMsRUFBRSxnQkFBZ0IsRUFBRSxnQkFBZ0IsRUFBRSIsInNvdXJjZXNDb250ZW50IjpbIi50cmFuc2FjdGlvbi1kYXRlIHsgZGlzcGxheTogYmxvY2s7IGZvbnQtc2l6ZTogc21hbGw7IHBhZGRpbmctdG9wOiA1cHg7IH0iXSwic291cmNlUm9vdCI6IiJ9 */"]
  });
}
class Model {}

/***/ }),

/***/ 4133:
/*!**********************************************************************************************************!*\
  !*** ./projects/customerpages/src/app/mypages/pages/loan/interest-history/interest-history.component.ts ***!
  \**********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   InterestHistoryComponent: () => (/* binding */ InterestHistoryComponent)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ 1699);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ 6575);


function InterestHistoryComponent_div_0_ng_container_9_tr_1_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "tr")(1, "td", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](3, "date");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "td", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](6, "number");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const r_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](3, 2, r_r3.date, "yyyy-MM-dd"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](6, 5, r_r3.percent, "1.0-4"), " % ");
  }
}
function InterestHistoryComponent_div_0_ng_container_9_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, InterestHistoryComponent_div_0_ng_container_9_tr_1_Template, 7, 8, "tr", 0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const r_r3 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", r_r3.isVisible);
  }
}
function InterestHistoryComponent_div_0_div_10_a_1_Template(rf, ctx) {
  if (rf & 1) {
    const _r8 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "a", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function InterestHistoryComponent_div_0_div_10_a_1_Template_a_click_0_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r8);
      const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3);
      return _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵresetView"](ctx_r7.showMoreInterestHistoryItems($event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "Visa fler");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
  }
}
function InterestHistoryComponent_div_0_div_10_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, InterestHistoryComponent_div_0_div_10_a_1_Template, 2, 0, "a", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r2.hasMoreInterestHistoryItems());
  }
}
function InterestHistoryComponent_div_0_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div")(1, "table", 1)(2, "thead")(3, "tr")(4, "th", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](5, "Datum");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "th", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](7, "R\u00E4nta");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](8, "tbody");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](9, InterestHistoryComponent_div_0_ng_container_9_Template, 2, 1, "ng-container", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](10, InterestHistoryComponent_div_0_div_10_Template, 2, 1, "div", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx_r0.m.items);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r0.hasMoreInterestHistoryItems());
  }
}
class InterestHistoryComponent {
  constructor() {}
  ngOnInit() {}
  ngOnChanges(changes) {
    this.m = null;
    if (!this.interestHistory) {
      return;
    }
    this.m = {
      items: (this.interestHistory.InterestChanges ?? []).map(x => {
        return {
          date: x.TransactionDate,
          percent: x.InterestRatePercent
        };
      })
    };
    this.showMoreInterestHistoryItems(null);
  }
  hasMoreInterestHistoryItems() {
    return this.m.items.length > 0 && this.m.items.findIndex(x => !x.isVisible) >= 0;
  }
  showMoreInterestHistoryItems(evt) {
    evt?.preventDefault();
    let countShown = 0;
    for (let i of this.m.items) {
      if (!i.isVisible) {
        i.isVisible = true;
        countShown++;
      }
      if (countShown >= 5) {
        return;
      }
    }
  }
  static #_ = this.ɵfac = function InterestHistoryComponent_Factory(t) {
    return new (t || InterestHistoryComponent)();
  };
  static #_2 = this.ɵcmp = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({
    type: InterestHistoryComponent,
    selectors: [["interest-history"]],
    inputs: {
      interestHistory: "interestHistory"
    },
    features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]],
    decls: 1,
    vars: 1,
    consts: [[4, "ngIf"], [1, "table", "lined-table"], [1, "col-xs-6"], [1, "col-xs-6", "text-right"], [4, "ngFor", "ngForOf"], ["class", "text-center pt-3", 4, "ngIf"], [1, "text-center", "pt-3"], ["href", "", "class", "n-anchor", 3, "click", 4, "ngIf"], ["href", "", 1, "n-anchor", 3, "click"]],
    template: function InterestHistoryComponent_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, InterestHistoryComponent_div_0_Template, 11, 2, "div", 0);
      }
      if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.m);
      }
    },
    dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_1__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_1__.NgIf, _angular_common__WEBPACK_IMPORTED_MODULE_1__.DecimalPipe, _angular_common__WEBPACK_IMPORTED_MODULE_1__.DatePipe],
    encapsulation: 2
  });
}
class Model {}

/***/ }),

/***/ 4865:
/*!*****************************************************************************!*\
  !*** ./projects/customerpages/src/app/mypages/pages/loan/loan.component.ts ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LoanComponent: () => (/* binding */ LoanComponent)
/* harmony export */ });
/* harmony import */ var src_app_common_services_ml_standard_functions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! src/app/common-services/ml-standard-functions */ 3136);
/* harmony import */ var _components_mypages_shell_mypages_shell_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../components/mypages-shell/mypages-shell.component */ 2968);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/core */ 1699);
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/router */ 7947);
/* harmony import */ var _services_mypages_api_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/mypages-api.service */ 2122);
/* harmony import */ var ngx_bootstrap_modal__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ngx-bootstrap/modal */ 7269);
/* harmony import */ var _common_services_customer_pages_config_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../common-services/customer-pages-config.service */ 5716);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/common */ 6575);
/* harmony import */ var _components_unpaid_notifications_unpaid_notifications_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../components/unpaid-notifications/unpaid-notifications.component */ 7972);
/* harmony import */ var _ul_amortization_plan_ul_amortization_plan_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ul-amortization-plan/ul-amortization-plan.component */ 1898);
/* harmony import */ var _ml_amortization_plan_ml_amortization_plan_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ml-amortization-plan/ml-amortization-plan.component */ 1360);
/* harmony import */ var _interest_history_interest_history_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./interest-history/interest-history.component */ 4133);
/* harmony import */ var _capital_transaction_history_capital_transaction_history_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./capital-transaction-history/capital-transaction-history.component */ 4038);














function LoanComponent_mypages_shell_0_ng_container_2_div_21_Template(rf, ctx) {
  if (rf & 1) {
    const _r20 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](0, "div", 9)(1, "label");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtext"](2, "\u00A0");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](3, "a", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵlistener"]("click", function LoanComponent_mypages_shell_0_ng_container_2_div_21_Template_a_click_3_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵrestoreView"](_r20);
      const ctx_r19 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵnextContext"](3);
      const _r2 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵreference"](2);
      return _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵresetView"](ctx_r19.showAmortizationPlanPopup(_r2, $event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](4, "h1");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtext"](5, "Amorteringsplan");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]()()();
  }
}
function LoanComponent_mypages_shell_0_ng_container_2_div_22_Template(rf, ctx) {
  if (rf & 1) {
    const _r22 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](0, "div", 9)(1, "label");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtext"](2, "M\u00E5nadsbelopp");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](3, "a", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵlistener"]("click", function LoanComponent_mypages_shell_0_ng_container_2_div_22_Template_a_click_3_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵrestoreView"](_r22);
      const ctx_r21 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵnextContext"](3);
      const _r2 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵreference"](2);
      return _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵresetView"](ctx_r21.showAmortizationPlanPopup(_r2, $event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](4, "h1");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtext"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵpipe"](6, "currency");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]()()();
  }
  if (rf & 2) {
    const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵpipeBind1"](6, 1, ctx_r6.m.credit.UnsecuredLoan.MonthlyPaymentExcludingFee), " ");
  }
}
function LoanComponent_mypages_shell_0_ng_container_2_div_23_Template(rf, ctx) {
  if (rf & 1) {
    const _r24 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](0, "div", 9)(1, "label");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtext"](2, "Amortering");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](3, "a", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵlistener"]("click", function LoanComponent_mypages_shell_0_ng_container_2_div_23_Template_a_click_3_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵrestoreView"](_r24);
      const ctx_r23 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵnextContext"](3);
      const _r2 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵreference"](2);
      return _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵresetView"](ctx_r23.showAmortizationPlanPopup(_r2, $event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](4, "h1");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtext"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵpipe"](6, "currency");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]()()();
  }
  if (rf & 2) {
    const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵpipeBind1"](6, 1, ctx_r7.getMonthlyPayment()));
  }
}
function LoanComponent_mypages_shell_0_ng_container_2_tr_34_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](0, "tr")(1, "td", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtext"](2, "Kvarvarande \u00E5terbetalningstid");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](3, "td", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtextInterpolate1"](" ", ctx_r8.m.amortizationPlan.NrOfRemainingPayments, " m\u00E5nader ");
  }
}
function LoanComponent_mypages_shell_0_ng_container_2_tr_35_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](0, "tr")(1, "td", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtext"](2, "\u00C5terbetalningstid");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](3, "td", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtextInterpolate1"](" ", ctx_r9.m.credit.SinglePaymentLoanRepaymentDays, " dagar ");
  }
}
function LoanComponent_mypages_shell_0_ng_container_2_tr_36_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](0, "tr")(1, "td", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtext"](2, "R\u00E4ntebindningstid");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](3, "td", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const ctx_r10 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtextInterpolate1"](" ", ctx_r10.formatFixedInterestMonths(ctx_r10.m.credit.MortgageLoan.MortgageLoanInterestRebindMonthCount), " ");
  }
}
function LoanComponent_mypages_shell_0_ng_container_2_tr_37_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](0, "tr")(1, "td", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtext"](2, "N\u00E4sta ombindningsdatum");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](3, "td", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵpipe"](5, "date");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const ctx_r11 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵpipeBind2"](5, 1, ctx_r11.m.credit.MortgageLoan.MortgageLoanNextInterestRebindDate, "yyyy-MM-dd"), " ");
  }
}
function LoanComponent_mypages_shell_0_ng_container_2_tr_38_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](0, "tr")(1, "td", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtext"](2, "Fastighet");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](3, "td", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const ctx_r12 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtextInterpolate"](ctx_r12.getMlPropertyId());
  }
}
function LoanComponent_mypages_shell_0_ng_container_2_tr_43_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](0, "tr")(1, "td", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelement"](3, "td", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const a_r25 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtextInterpolate2"]("", a_r25.FirstName, " ", a_r25.LastName, "");
  }
}
function LoanComponent_mypages_shell_0_ng_container_2_p_49_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](0, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵpipe"](2, "currency");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r14 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtextInterpolate1"](" Att betala n\u00E4sta avi: ", _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵpipeBind1"](2, 1, ctx_r14.getNextFutureNotificationAmount()), " ");
  }
}
function LoanComponent_mypages_shell_0_ng_container_2_p_52_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](0, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtext"](1, "-");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]();
  }
}
function LoanComponent_mypages_shell_0_ng_container_2_div_53_ng_container_1_div_1_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](0, "div", 24)(1, "div")(2, "div", 25)(3, "div", 26)(4, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtext"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵpipe"](6, "date");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](7, "div", 27);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelement"](8, "span", 28);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](9, "div", 29)(10, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtext"](11);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵpipe"](12, "currency");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelement"](13, "div", 30)(14, "div", 31);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const n_r27 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtextInterpolate1"]("Betald ", _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵpipeBind2"](6, 2, n_r27.paidDate, "yyyy-MM-dd"), "");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵpipeBind1"](12, 5, n_r27.initialAmount));
  }
}
function LoanComponent_mypages_shell_0_ng_container_2_div_53_ng_container_1_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](1, LoanComponent_mypages_shell_0_ng_container_2_div_53_ng_container_1_div_1_Template, 15, 7, "div", 23);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const n_r27 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("ngIf", n_r27.isVisible);
  }
}
function LoanComponent_mypages_shell_0_ng_container_2_div_53_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](0, "div", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](1, LoanComponent_mypages_shell_0_ng_container_2_div_53_ng_container_1_Template, 2, 1, "ng-container", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r16 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("ngForOf", ctx_r16.m.paidNotifications);
  }
}
function LoanComponent_mypages_shell_0_ng_container_2_div_54_a_1_Template(rf, ctx) {
  if (rf & 1) {
    const _r32 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](0, "a", 34);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵlistener"]("click", function LoanComponent_mypages_shell_0_ng_container_2_div_54_a_1_Template_a_click_0_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵrestoreView"](_r32);
      const ctx_r31 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵnextContext"](4);
      return _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵresetView"](ctx_r31.m.showMorePaidNotifications($event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtext"](1, "Visa fler");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]();
  }
}
function LoanComponent_mypages_shell_0_ng_container_2_div_54_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](0, "div", 32);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](1, LoanComponent_mypages_shell_0_ng_container_2_div_54_a_1_Template, 2, 0, "a", 33);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r17 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("ngIf", ctx_r17.m.hasMorePaidNotifications());
  }
}
function LoanComponent_mypages_shell_0_ng_container_2_div_55_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](0, "div")(1, "h2", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtext"](2, "Om du best\u00E4mt dig f\u00F6r att byta bank");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](3, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtext"](4, "Nedan laddar du ned den blankett som beh\u00F6vs n\u00E4r du nu byter bank.");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](5, "p", 35)(6, "a", 36);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtext"](7, "Ladda ned");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]()()();
  }
  if (rf & 2) {
    const ctx_r18 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("href", ctx_r18.m.amortizationBasisPdfUrl, _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵsanitizeUrl"]);
  }
}
const _c0 = () => ["/my/loans"];
function LoanComponent_mypages_shell_0_ng_container_2_Template(rf, ctx) {
  if (rf & 1) {
    const _r34 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](1, "div", 5)(2, "a", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtext"](3, "Mina l\u00E5n");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](4, "h1", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtext"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](6, "div", 8)(7, "div", 9)(8, "label");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtext"](9, "Aktuell skuld");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](10, "a", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵlistener"]("click", function LoanComponent_mypages_shell_0_ng_container_2_Template_a_click_10_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵrestoreView"](_r34);
      const ctx_r33 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵnextContext"](2);
      const _r2 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵreference"](2);
      return _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵresetView"](ctx_r33.showCapitalTransactionsPopup(_r2, $event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](11, "h1");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtext"](12);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵpipe"](13, "currency");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](14, "div", 9)(15, "label");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtext"](16, "R\u00E4nta");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](17, "a", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵlistener"]("click", function LoanComponent_mypages_shell_0_ng_container_2_Template_a_click_17_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵrestoreView"](_r34);
      const ctx_r35 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵnextContext"](2);
      const _r2 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵreference"](2);
      return _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵresetView"](ctx_r35.showInterestHistoryPopup(_r2, $event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](18, "h1");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtext"](19);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵpipe"](20, "number");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](21, LoanComponent_mypages_shell_0_ng_container_2_div_21_Template, 6, 0, "div", 11)(22, LoanComponent_mypages_shell_0_ng_container_2_div_22_Template, 7, 3, "div", 11)(23, LoanComponent_mypages_shell_0_ng_container_2_div_23_Template, 7, 3, "div", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](24, "h2", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtext"](25, "Detaljer");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](26, "table", 13)(27, "tbody")(28, "tr")(29, "td", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtext"](30);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](31, "td", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtext"](32);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵpipe"](33, "date");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](34, LoanComponent_mypages_shell_0_ng_container_2_tr_34_Template, 5, 1, "tr", 4)(35, LoanComponent_mypages_shell_0_ng_container_2_tr_35_Template, 5, 1, "tr", 4)(36, LoanComponent_mypages_shell_0_ng_container_2_tr_36_Template, 5, 1, "tr", 4)(37, LoanComponent_mypages_shell_0_ng_container_2_tr_37_Template, 6, 4, "tr", 4)(38, LoanComponent_mypages_shell_0_ng_container_2_tr_38_Template, 5, 1, "tr", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](39, "h2", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtext"](40, "L\u00E5ntagare");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](41, "table", 13)(42, "tbody");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](43, LoanComponent_mypages_shell_0_ng_container_2_tr_43_Template, 4, 2, "tr", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](44, "h2", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtext"](45, "Avier");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](46, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtext"](47, "Obetalda");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelement"](48, "unpaid-notifications", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](49, LoanComponent_mypages_shell_0_ng_container_2_p_49_Template, 3, 3, "p", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](50, "p", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtext"](51, "Betalda");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](52, LoanComponent_mypages_shell_0_ng_container_2_p_52_Template, 2, 0, "p", 4)(53, LoanComponent_mypages_shell_0_ng_container_2_div_53_Template, 2, 1, "div", 18)(54, LoanComponent_mypages_shell_0_ng_container_2_div_54_Template, 2, 1, "div", 19)(55, LoanComponent_mypages_shell_0_ng_container_2_div_55_Template, 8, 1, "div", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("routerLink", _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵpureFunction0"](29, _c0));
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtextInterpolate1"]("L\u00E5n ", ctx_r3.m.credit.CreditNr, "");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](7);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵpipeBind1"](13, 21, ctx_r3.m.credit.CapitalBalance));
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](7);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵpipeBind2"](20, 23, ctx_r3.m.credit.CurrentInterestRatePercent, "1.0-4"), " % ");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("ngIf", ctx_r3.m.credit.UnsecuredLoan && ctx_r3.m.credit.SinglePaymentLoanRepaymentDays && ctx_r3.m.credit.Notifications.length === 0);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("ngIf", ctx_r3.m.credit.UnsecuredLoan && !ctx_r3.m.credit.SinglePaymentLoanRepaymentDays);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("ngIf", ctx_r3.m.credit.MortgageLoan);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](7);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtextInterpolate1"](" ", ctx_r3.m.credit.UnsecuredLoan ? "Utbetalningsdag" : "Startdatum", " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵpipeBind2"](33, 26, ctx_r3.m.credit.StartDate, "yyyy-MM-dd"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("ngIf", !ctx_r3.m.credit.SinglePaymentLoanRepaymentDays);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("ngIf", ctx_r3.m.credit.SinglePaymentLoanRepaymentDays && ctx_r3.m.credit.Notifications.length === 0);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("ngIf", ctx_r3.m.credit.MortgageLoan);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("ngIf", ctx_r3.m.credit.MortgageLoan);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("ngIf", ctx_r3.m.credit.MortgageLoan);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("ngForOf", ctx_r3.m.credit.ApplicantsPersonalData);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("initialData", ctx_r3.m.unpaidNotificationsInitialData);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("ngIf", !ctx_r3.hasUnpaidNotifications() && ctx_r3.getNextFutureNotificationAmount() && ctx_r3.m.credit.SinglePaymentLoanRepaymentDays);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("ngIf", ctx_r3.m.paidNotifications.length == 0);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("ngIf", ctx_r3.m.paidNotifications.length > 0);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("ngIf", ctx_r3.m.paidNotifications.length > 0);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("ngIf", ctx_r3.m.credit.MortgageLoan);
  }
}
function LoanComponent_mypages_shell_0_ng_container_3_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](1, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtextInterpolate"](ctx_r4.m.errorMessage);
  }
}
function LoanComponent_mypages_shell_0_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](0, "mypages-shell", 2)(1, "div", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](2, LoanComponent_mypages_shell_0_ng_container_2_Template, 56, 30, "ng-container", 4)(3, LoanComponent_mypages_shell_0_ng_container_3_Template, 3, 1, "ng-container", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("initialData", ctx_r0.m == null ? null : ctx_r0.m.shellInitialData);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("ngIf", !ctx_r0.m.errorMessage);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("ngIf", ctx_r0.m.errorMessage);
  }
}
function LoanComponent_ng_template_1_interest_history_7_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelement"](0, "interest-history", 45);
  }
  if (rf & 2) {
    const ctx_r36 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("interestHistory", ctx_r36.m.popup == null ? null : ctx_r36.m.popup.interestHistory);
  }
}
function LoanComponent_ng_template_1_capital_transaction_history_8_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelement"](0, "capital-transaction-history", 46);
  }
  if (rf & 2) {
    const ctx_r37 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("capitalTransactionHistory", ctx_r37.m.popup == null ? null : ctx_r37.m.popup.capitalTransactionHistory);
  }
}
function LoanComponent_ng_template_1_ul_amortization_plan_9_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelement"](0, "ul-amortization-plan", 47);
  }
  if (rf & 2) {
    const ctx_r38 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("amortizationPlan", ctx_r38.m.popup == null ? null : ctx_r38.m.popup.ulAmortizationPlan);
  }
}
function LoanComponent_ng_template_1_ml_amortization_plan_10_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelement"](0, "ml-amortization-plan", 2);
  }
  if (rf & 2) {
    const ctx_r39 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("initialData", ctx_r39.m.popup == null ? null : ctx_r39.m.popup.mlAmortizationPlanData);
  }
}
function LoanComponent_ng_template_1_Template(rf, ctx) {
  if (rf & 1) {
    const _r41 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](0, "div", 37)(1, "h2", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](3, "button", 38);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵlistener"]("click", function LoanComponent_ng_template_1_Template_button_click_3_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵrestoreView"](_r41);
      const ctx_r40 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵresetView"](ctx_r40.modalRef.hide());
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelement"](4, "span", 39);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementStart"](5, "div", 40)(6, "div", 41);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](7, LoanComponent_ng_template_1_interest_history_7_Template, 1, 1, "interest-history", 42)(8, LoanComponent_ng_template_1_capital_transaction_history_8_Template, 1, 1, "capital-transaction-history", 43)(9, LoanComponent_ng_template_1_ul_amortization_plan_9_Template, 1, 1, "ul-amortization-plan", 44)(10, LoanComponent_ng_template_1_ml_amortization_plan_10_Template, 1, 1, "ml-amortization-plan", 0);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtextInterpolate"](ctx_r1.m == null ? null : ctx_r1.m.popup == null ? null : ctx_r1.m.popup.title);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("ngIf", ctx_r1.m.popup == null ? null : ctx_r1.m.popup.interestHistory);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("ngIf", ctx_r1.m.popup == null ? null : ctx_r1.m.popup.capitalTransactionHistory);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("ngIf", ctx_r1.m.popup == null ? null : ctx_r1.m.popup.ulAmortizationPlan);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("ngIf", ctx_r1.m.popup == null ? null : ctx_r1.m.popup.mlAmortizationPlanData);
  }
}
class LoanComponent {
  constructor(route, apiService, modalService, config) {
    this.route = route;
    this.apiService = apiService;
    this.modalService = modalService;
    this.config = config;
  }
  ngOnInit() {
    this.reload(this.route.snapshot.params['creditNr']);
  }
  reload(creditNr) {
    this.m = null;
    this.apiService.fetchCredits(true).then(credits => {
      let credit = credits.ActiveCredits.find(y => y.CreditNr == creditNr);
      if (!credit) {
        this.m = new Model(creditNr, this.config.isNTechTest());
        this.m.errorMessage = 'Lånet finns inte';
        return;
      }
      this.apiService.fetchLoanAmortizationPlan(creditNr).then(amortizationPlan => {
        let m = new Model(creditNr, this.config.isNTechTest());
        m.credit = credit;
        m.unpaidNotificationsInitialData = {
          isOverview: false,
          credits: [credit]
        };
        m.amortizationBasisSeData = amortizationPlan.AmortizationBasis;
        m.paidNotifications = credit.Notifications.filter(x => !x.IsOpen).map(x => {
          return {
            isVisible: false,
            paidDate: x.ClosedDate,
            initialAmount: x.InitialAmount
          };
        });
        m.showMorePaidNotifications();
        const isMl = this.config.isMortgageLoansStandardEnabled();
        m.amortizationPlan = amortizationPlan;
        m.amortizationBasisPdfUrl = isMl ? '/mortgageloans/api/credit/fetch-amortizationbasis?creditNr=' + creditNr : '';
        this.m = m;
      });
    });
  }
  getMonthlyPayment() {
    let p = this.m.amortizationPlan;
    return p.UsesAnnuities ? p.AnnuityAmount : p.FixedMonthlyPaymentAmount;
  }
  showInterestHistoryPopup(popupTemplate, evt) {
    evt?.preventDefault();
    this.apiService.fetchUnsecuredLoansInterestHistory(this.m.credit.CreditNr).then(x => {
      this.m.popup = {
        title: 'Räntehistorik',
        interestHistory: x
      };
      this.showPopup(popupTemplate);
    });
  }
  showCapitalTransactionsPopup(popupTemplate, evt) {
    evt?.preventDefault();
    this.apiService.fetchCapitalTransactionHistory(this.m.credit.CreditNr).then(x => {
      this.m.popup = {
        title: 'Kapitalskuld',
        capitalTransactionHistory: x
      };
      this.showPopup(popupTemplate);
    });
  }
  showAmortizationPlanPopup(popupTemplate, evt) {
    evt?.preventDefault();
    let isMl = this.config.isMortgageLoansStandardEnabled();
    this.m.popup = {
      title: 'Amorteringsplan',
      ulAmortizationPlan: isMl ? null : this.m.amortizationPlan,
      mlAmortizationPlanData: !isMl ? null : {
        highlightCreditNr: this.m.credit.CreditNr,
        amortizationPlan: this.m.amortizationPlan,
        amortizationBasisSeData: this.m.amortizationBasisSeData
      }
    };
    this.showPopup(popupTemplate);
  }
  formatFixedInterestMonths(monthCount) {
    return monthCount % 12 === 0 ? `${monthCount / 12} år` : `${monthCount} månader`;
  }
  getMlPropertyId() {
    if (!this.m?.credit?.MortgageLoan) {
      return '';
    }
    return (0,src_app_common_services_ml_standard_functions__WEBPACK_IMPORTED_MODULE_0__.createMortgagePropertyIdFromCollateralItems)(x => this.m.credit.MortgageLoan.CollateralStringItems[x], true);
  }
  showPopup(popupTemplate) {
    this.modalRef = this.modalService.show(popupTemplate, {
      class: 'modal-xl',
      ignoreBackdropClick: true
    });
  }
  getNextFutureNotificationAmount() {
    let futureNotification = this.m.amortizationPlan.AmortizationPlanItems.find(x => x.IsFutureItem && x.EventTypeCode === 'NewNotification');
    return futureNotification ? futureNotification.CapitalTransaction + futureNotification.InterestTransaction + futureNotification.InitialFeeTransaction + futureNotification.NotificationFeeTransaction : null;
  }
  hasUnpaidNotifications() {
    return !!this.m.credit.Notifications.find(x => x.IsOpen);
  }
  static #_ = this.ɵfac = function LoanComponent_Factory(t) {
    return new (t || LoanComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_10__.ActivatedRoute), _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵdirectiveInject"](_services_mypages_api_service__WEBPACK_IMPORTED_MODULE_2__.MyPagesApiService), _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵdirectiveInject"](ngx_bootstrap_modal__WEBPACK_IMPORTED_MODULE_11__.BsModalService), _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵdirectiveInject"](_common_services_customer_pages_config_service__WEBPACK_IMPORTED_MODULE_3__.CustomerPagesConfigService));
  };
  static #_2 = this.ɵcmp = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵdefineComponent"]({
    type: LoanComponent,
    selectors: [["np-loan"]],
    decls: 3,
    vars: 1,
    consts: [[3, "initialData", 4, "ngIf"], ["popup", ""], [3, "initialData"], ["active-tab", ""], [4, "ngIf"], [1, "pb-1", "pt-2"], [1, "n-anchor", 3, "routerLink"], [1, "header-light"], [1, "row", "pt-3", "pb-3"], [1, "col-sm-4", "pb-2"], ["href", "#", 1, "big-link", 3, "click"], ["class", "col-sm-4 pb-2", 4, "ngIf"], [1, "header-light", "pt-3"], [1, "table", "lined-table"], [1, "col-xs-6"], [1, "col-xs-6", "text-right"], [4, "ngFor", "ngForOf"], [1, "pt-3"], ["class", "completed-task-list", 4, "ngIf"], ["class", "text-center pt-3", 4, "ngIf"], [1, "col-xs-8"], [1, "col-xs-4"], [1, "completed-task-list"], ["class", "completed-task", 4, "ngIf"], [1, "completed-task"], [1, "col-xs-7", "remove-bootstrap-gutter"], [1, "pull-left", "pr-2"], [1, "pull-left"], [1, "glyphicon", "glyphicon-ok"], [1, "col-xs-4", "text-right"], [1, "col-xs-1", "text-right"], [1, "clearfix"], [1, "text-center", "pt-3"], ["href", "", "class", "n-anchor", 3, "click", 4, "ngIf"], ["href", "", 1, "n-anchor", 3, "click"], [1, "form-control-static"], ["target", "_blank", 1, "n-direct-btn", "n-green-btn", 3, "href"], [1, "modal-header", "ntech-popup-header"], ["type", "button", 1, "n-icon-btn", "n-white-btn", "ntech-center-icon", 3, "click"], [1, "glyphicon", "glyphicon-remove"], [1, "modal-body"], [1, "pt-2"], [3, "interestHistory", 4, "ngIf"], [3, "capitalTransactionHistory", 4, "ngIf"], [3, "amortizationPlan", 4, "ngIf"], [3, "interestHistory"], [3, "capitalTransactionHistory"], [3, "amortizationPlan"]],
    template: function LoanComponent_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplate"](0, LoanComponent_mypages_shell_0_Template, 4, 3, "mypages-shell", 0)(1, LoanComponent_ng_template_1_Template, 11, 5, "ng-template", null, 1, _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵtemplateRefExtractor"]);
      }
      if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_9__["ɵɵproperty"]("ngIf", ctx.m);
      }
    },
    dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_12__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_12__.NgIf, _angular_router__WEBPACK_IMPORTED_MODULE_10__.RouterLink, _components_unpaid_notifications_unpaid_notifications_component__WEBPACK_IMPORTED_MODULE_4__.UnpaidNotificationsComponent, _ul_amortization_plan_ul_amortization_plan_component__WEBPACK_IMPORTED_MODULE_5__.UlAmortizationPlanComponent, _ml_amortization_plan_ml_amortization_plan_component__WEBPACK_IMPORTED_MODULE_6__.MlAmortizationPlanComponent, _interest_history_interest_history_component__WEBPACK_IMPORTED_MODULE_7__.InterestHistoryComponent, _capital_transaction_history_capital_transaction_history_component__WEBPACK_IMPORTED_MODULE_8__.CapitalTransactionHistoryComponent, _components_mypages_shell_mypages_shell_component__WEBPACK_IMPORTED_MODULE_1__.MypagesShellComponent, _angular_common__WEBPACK_IMPORTED_MODULE_12__.DecimalPipe, _angular_common__WEBPACK_IMPORTED_MODULE_12__.CurrencyPipe, _angular_common__WEBPACK_IMPORTED_MODULE_12__.DatePipe],
    styles: [".ntech-popup-header[_ngcontent-%COMP%] {\n  display: flex;\n  align-items: flex-end;\n}\n.ntech-popup-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\n  display: inline;\n  flex-grow: 1;\n  margin-bottom: 0px;\n  text-align: center;\n}\n\n.ntech-center-icon[_ngcontent-%COMP%] {\n  padding: 0px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.ntech-center-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\n  top: 0px !important;\n}\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3Byb2plY3RzL2N1c3RvbWVycGFnZXMvc3JjL2FwcC9teXBhZ2VzL3BhZ2VzL2xvYW4vbG9hbi5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGFBQUE7RUFDQSxxQkFBQTtBQUNGO0FBQUU7RUFDRSxlQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0VBQ0Esa0JBQUE7QUFFSjs7QUFFQTtFQUNFLFlBQUE7RUFDQSxhQUFBO0VBQ0EsdUJBQUE7RUFDQSxtQkFBQTtBQUNGO0FBQUU7RUFDRSxtQkFBQTtBQUVKIiwic291cmNlc0NvbnRlbnQiOlsiLm50ZWNoLXBvcHVwLWhlYWRlciB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBhbGlnbi1pdGVtczogZmxleC1lbmQ7XHJcbiAgaDIge1xyXG4gICAgZGlzcGxheTogaW5saW5lO1xyXG4gICAgZmxleC1ncm93OiAxO1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMHB4O1xyXG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xyXG4gIH1cclxufVxyXG5cclxuLm50ZWNoLWNlbnRlci1pY29uIHtcclxuICBwYWRkaW5nOiAwcHg7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gIHNwYW4ge1xyXG4gICAgdG9wOiAwcHggIWltcG9ydGFudDsgLy9SZW1vdmUgYm9vdHN0cmFwcyB3aWVyZCB0b3A6IDFweCB0aGF0IHRocm93cyBvZmYgdGhlIGNlbnRlcmluZ1xyXG4gIH1cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9 */"]
  });
}
class Model {
  constructor(creditNr, isTest) {
    this.creditNr = creditNr;
    this.isTest = isTest;
    this.shellInitialData = {
      activeMenuItemCode: _components_mypages_shell_mypages_shell_component__WEBPACK_IMPORTED_MODULE_1__.MyPagesMenuItemCode.Loans
    };
  }
  hasMorePaidNotifications() {
    return !!this.paidNotifications.find(x => !x.isVisible);
  }
  showMorePaidNotifications(evt) {
    evt?.preventDefault();
    let maxCountToShow = 5;
    for (let n of this.paidNotifications) {
      if (!n.isVisible) {
        n.isVisible = true;
        maxCountToShow = maxCountToShow - 1;
      }
      if (maxCountToShow === 0) {
        return;
      }
    }
  }
}

/***/ }),

/***/ 1360:
/*!******************************************************************************************************************!*\
  !*** ./projects/customerpages/src/app/mypages/pages/loan/ml-amortization-plan/ml-amortization-plan.component.ts ***!
  \******************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MlAmortizationPlanComponent: () => (/* binding */ MlAmortizationPlanComponent)
/* harmony export */ });
/* harmony import */ var src_app_common_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! src/app/common.types */ 198);
/* harmony import */ var _services_mypages_api_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../services/mypages-api.service */ 2122);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ 1699);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common */ 6575);




function MlAmortizationPlanComponent_div_0_ng_container_7_div_10_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](0, "div", 12)(1, "div")(2, "span", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](3, "R\u00E4nta");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](4, "span", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipe"](6, "currency");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](7, "div")(8, "span", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](9, "Kapital");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](10, "span", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](11);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipe"](12, "currency");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](13, "div")(14, "span", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](15, "Kapitalskuld");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](16, "span", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](17);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipe"](18, "currency");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]()()();
  }
  if (rf & 2) {
    const t_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipeBind1"](6, 3, t_r3.InterestTransaction));
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipeBind1"](12, 5, t_r3.CapitalTransaction));
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipeBind1"](18, 7, t_r3.CapitalBefore));
  }
}
const _c0 = a0 => ({
  "amort-months-r-expanded": a0
});
const _c1 = (a0, a1) => ({
  "glyphicon-chevron-down": a0,
  "glyphicon-plus": a1
});
function MlAmortizationPlanComponent_div_0_ng_container_7_Template(rf, ctx) {
  if (rf & 1) {
    const _r7 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](1, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵlistener"]("click", function MlAmortizationPlanComponent_div_0_ng_container_7_Template_div_click_1_listener($event) {
      const restoredCtx = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵrestoreView"](_r7);
      const t_r3 = restoredCtx.$implicit;
      const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"](2);
      return _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵresetView"](ctx_r6.toggleTransactionDetails(t_r3, $event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](2, "span", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipe"](4, "date");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](5, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipe"](7, "currency");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](8, "span", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelement"](9, "span", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](10, MlAmortizationPlanComponent_div_0_ng_container_7_div_10_Template, 19, 9, "div", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const t_r3 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpureFunction1"](10, _c0, t_r3.isExpanded));
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipeBind2"](4, 5, t_r3.FutureItemDueDate, "yyyy-MM-dd"));
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpipeBind1"](7, 8, t_r3.capitalAndInterestTransaction));
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpureFunction2"](12, _c1, t_r3.isExpanded, !t_r3.isExpanded));
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngIf", t_r3.isExpanded);
  }
}
function MlAmortizationPlanComponent_div_0_a_9_Template(rf, ctx) {
  if (rf & 1) {
    const _r9 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](0, "a", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵlistener"]("click", function MlAmortizationPlanComponent_div_0_a_9_Template_a_click_0_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵrestoreView"](_r9);
      const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"](2);
      return _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵresetView"](ctx_r8.showMoreTransactions(ctx_r8.m, $event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](1, "Visa fler");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
  }
}
function MlAmortizationPlanComponent_div_0_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](0, "div", 1)(1, "div", 2)(2, "div", 3)(3, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](4, "F\u00F6rfallodag");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](5, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](6, "Kapital och r\u00E4nta");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](7, MlAmortizationPlanComponent_div_0_ng_container_7_Template, 11, 15, "ng-container", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](8, "div", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](9, MlAmortizationPlanComponent_div_0_a_9_Template, 2, 0, "a", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](7);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngForOf", ctx_r0.getVisibleTransactions());
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngIf", ctx_r0.hasMoreTransactions());
  }
}
const PageSize = 5;
class MlAmortizationPlanComponent {
  constructor() {}
  ngOnChanges(changes) {
    this.m = null;
    if (!this.initialData) {
      return;
    }
    let m = {
      futureTransactions: [],
      annuityAmount: this.initialData.amortizationPlan.AnnuityAmount,
      visibleCount: null,
      amortizationBasisSeData: {
        highlightCreditNr: this.initialData.highlightCreditNr,
        basis: this.initialData.amortizationBasisSeData
      }
    };
    for (let t of this.initialData.amortizationPlan.AmortizationPlanItems.filter(x => x.IsFutureItem)) {
      m.futureTransactions.push({
        ...t,
        isExpanded: false,
        capitalAndInterestTransaction: t.CapitalTransaction + t.InterestTransaction
      });
    }
    m.visibleCount = Math.min(m.futureTransactions.length, PageSize);
    this.m = m;
  }
  showMoreTransactions(m, evt) {
    evt?.preventDefault();
    m.visibleCount = Math.min(m.futureTransactions.length, m.visibleCount + PageSize);
  }
  getVisibleTransactions() {
    return this.m.futureTransactions.filter((_, i) => i < this.m.visibleCount);
  }
  hasMoreTransactions() {
    return this.m.visibleCount < this.m.futureTransactions.length;
  }
  toggleTransactionDetails(i, evt) {
    evt?.preventDefault();
    i.isExpanded = !i.isExpanded;
  }
  getAmortizationItemDesc(i) {
    if (i.IsWriteOff) {
      return 'Justering';
    } else {
      if (i.EventTypeCode == 'PlacedUnplacedIncomingPayment') {
        return 'Extra amortering';
      } else if (i.EventTypeCode == 'NewCredit') {
        return 'Nytt lån';
      } else if (i.EventTypeCode == 'CapitalizedInitialFee') {
        return 'Kapitaliserad uppläggningsavgift';
      } else if (i.EventTypeCode == 'NewNotification') {
        return 'Avi';
      } else if (i.EventTypeCode == 'NewAdditionalLoan') {
        return 'Nytt tilläggslån';
      } else {
        return i.EventTypeCode;
      }
    }
  }
  toDate(d) {
    return (0,src_app_common_types__WEBPACK_IMPORTED_MODULE_0__.dateOnlyToIsoDate)(d);
  }
  static #_ = this.ɵfac = function MlAmortizationPlanComponent_Factory(t) {
    return new (t || MlAmortizationPlanComponent)();
  };
  static #_2 = this.ɵcmp = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineComponent"]({
    type: MlAmortizationPlanComponent,
    selectors: [["ml-amortization-plan"]],
    inputs: {
      initialData: "initialData"
    },
    features: [_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵNgOnChangesFeature"]],
    decls: 1,
    vars: 1,
    consts: [["class", "amort-plan", 4, "ngIf"], [1, "amort-plan"], [1, "amort-months"], [1, "amort-months-h"], [4, "ngFor", "ngForOf"], [1, "amort-pager"], ["href", "", "class", "n-anchor", 3, "click", 4, "ngIf"], [1, "amort-months-r", 3, "ngClass", "click"], [1, "amort-months-r-date"], [1, "amort-months-r-toggle"], [1, "glyphicon", 3, "ngClass"], ["class", "amort-months-details", 4, "ngIf"], [1, "amort-months-details"], [1, "amort-months-details-label"], [1, "amort-months-details-value"], ["href", "", 1, "n-anchor", 3, "click"]],
    template: function MlAmortizationPlanComponent_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](0, MlAmortizationPlanComponent_div_0_Template, 10, 2, "div", 0);
      }
      if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngIf", ctx.m);
      }
    },
    dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_3__.NgClass, _angular_common__WEBPACK_IMPORTED_MODULE_3__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_3__.NgIf, _angular_common__WEBPACK_IMPORTED_MODULE_3__.CurrencyPipe, _angular_common__WEBPACK_IMPORTED_MODULE_3__.DatePipe],
    styles: [".future-amortization-item[_ngcontent-%COMP%] {\n  background-color: rgb(223, 234, 251);\n}\n\n.amort-plan[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: column;\n}\n.amort-plan[_ngcontent-%COMP%]   .amort-header[_ngcontent-%COMP%] {\n  min-height: 200px;\n  flex-grow: 0;\n  gap: 10px;\n  display: flex;\n  flex-direction: column;\n}\n.amort-plan[_ngcontent-%COMP%]   .amort-header[_ngcontent-%COMP%]   .amort-header-form-item[_ngcontent-%COMP%] {\n  flex-grow: 0;\n  min-height: 30px;\n  display: flex;\n  gap: 10px;\n}\n.amort-plan[_ngcontent-%COMP%]   .amort-header[_ngcontent-%COMP%]   .amort-header-form-item[_ngcontent-%COMP%]   .amort-header-form-item-label[_ngcontent-%COMP%] {\n  width: 50%;\n  min-width: 140px;\n  display: flex;\n  justify-content: flex-end;\n}\n.amort-plan[_ngcontent-%COMP%]   .amort-header[_ngcontent-%COMP%]   .amort-header-form-item[_ngcontent-%COMP%]   .amort-header-form-item-value[_ngcontent-%COMP%] {\n  display: flex;\n  justify-content: flex-start;\n  font-weight: bold;\n}\n.amort-plan[_ngcontent-%COMP%]   .amort-header[_ngcontent-%COMP%]   .amort-header-text[_ngcontent-%COMP%] {\n  padding-top: 10px;\n  flex-grow: 0;\n  min-height: 50px;\n}\n.amort-plan[_ngcontent-%COMP%]   .amort-months[_ngcontent-%COMP%] {\n  padding-top: 20px;\n  min-height: 200px;\n  flex-grow: 1;\n}\n.amort-plan[_ngcontent-%COMP%]   .amort-months[_ngcontent-%COMP%]   .amort-months-h[_ngcontent-%COMP%] {\n  display: flex;\n  justify-content: space-between;\n  border-bottom: solid 2px black;\n  font-weight: bold;\n}\n.amort-plan[_ngcontent-%COMP%]   .amort-months[_ngcontent-%COMP%]   .amort-months-r[_ngcontent-%COMP%] {\n  display: flex;\n  min-height: 40px;\n  align-items: center;\n  border-bottom: solid 2px black;\n}\n.amort-plan[_ngcontent-%COMP%]   .amort-months[_ngcontent-%COMP%]   .amort-months-r[_ngcontent-%COMP%]   .amort-months-r-date[_ngcontent-%COMP%] {\n  flex-grow: 1;\n}\n.amort-plan[_ngcontent-%COMP%]   .amort-months[_ngcontent-%COMP%]   .amort-months-r[_ngcontent-%COMP%]   .amort-months-r-toggle[_ngcontent-%COMP%] {\n  padding-left: 10px;\n}\n.amort-plan[_ngcontent-%COMP%]   .amort-months[_ngcontent-%COMP%]   .amort-months-r[_ngcontent-%COMP%]:hover {\n  cursor: pointer;\n  background-color: #034480;\n  color: white;\n}\n.amort-plan[_ngcontent-%COMP%]   .amort-months[_ngcontent-%COMP%]   .amort-months-r-expanded[_ngcontent-%COMP%] {\n  background-color: #034480;\n  color: white;\n}\n.amort-plan[_ngcontent-%COMP%]   .amort-months[_ngcontent-%COMP%]   .amort-months-details[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: column;\n  min-height: 40px;\n  padding-top: 20px;\n  padding-bottom: 20px;\n  border-bottom: solid 2px black;\n}\n.amort-plan[_ngcontent-%COMP%]   .amort-months[_ngcontent-%COMP%]   .amort-months-details[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] {\n  display: flex;\n  gap: 15px;\n  padding-left: 10%;\n}\n.amort-plan[_ngcontent-%COMP%]   .amort-months[_ngcontent-%COMP%]   .amort-months-details[_ngcontent-%COMP%]   .amort-months-details-label[_ngcontent-%COMP%] {\n  display: flex;\n  min-width: 120px;\n  justify-content: flex-end;\n  width: 20%;\n}\n.amort-plan[_ngcontent-%COMP%]   .amort-months[_ngcontent-%COMP%]   .amort-months-details[_ngcontent-%COMP%]   .amort-months-details-value[_ngcontent-%COMP%] {\n  display: flex;\n  justify-content: flex-start;\n  font-weight: bold;\n  flex-grow: 1;\n}\n.amort-plan[_ngcontent-%COMP%]   .amort-pager[_ngcontent-%COMP%] {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 50px;\n  flex-grow: 0;\n}\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3Byb2plY3RzL2N1c3RvbWVycGFnZXMvc3JjL2FwcC9teXBhZ2VzL3BhZ2VzL2xvYW4vbWwtYW1vcnRpemF0aW9uLXBsYW4vbWwtYW1vcnRpemF0aW9uLXBsYW4uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxvQ0FBQTtBQUNGOztBQUVBO0VBQ0UsYUFBQTtFQUNBLHNCQUFBO0FBQ0Y7QUFDRTtFQUNFLGlCQUFBO0VBQ0EsWUFBQTtFQUNBLFNBQUE7RUFDQSxhQUFBO0VBQ0Esc0JBQUE7QUFDSjtBQUFJO0VBQ0UsWUFBQTtFQUNBLGdCQUFBO0VBQ0EsYUFBQTtFQUNBLFNBQUE7QUFFTjtBQURNO0VBQ0UsVUFBQTtFQUNBLGdCQUFBO0VBQ0EsYUFBQTtFQUNBLHlCQUFBO0FBR1I7QUFETTtFQUNFLGFBQUE7RUFDQSwyQkFBQTtFQUNBLGlCQUFBO0FBR1I7QUFBSTtFQUNFLGlCQUFBO0VBQ0EsWUFBQTtFQUNBLGdCQUFBO0FBRU47QUFFRTtFQUNFLGlCQUFBO0VBQ0EsaUJBQUE7RUFDQSxZQUFBO0FBQUo7QUFDSTtFQUNFLGFBQUE7RUFDQSw4QkFBQTtFQUNBLDhCQUFBO0VBQ0EsaUJBQUE7QUFDTjtBQUNJO0VBQ0UsYUFBQTtFQUNBLGdCQUFBO0VBQ0EsbUJBQUE7RUFDQSw4QkFBQTtBQUNOO0FBQU07RUFDRSxZQUFBO0FBRVI7QUFBTTtFQUNFLGtCQUFBO0FBRVI7QUFBTTtFQUNFLGVBQUE7RUFDQSx5QkFBQTtFQUNBLFlBQUE7QUFFUjtBQUNJO0VBQ0UseUJBQUE7RUFDQSxZQUFBO0FBQ047QUFDSTtFQUNFLGFBQUE7RUFDQSxzQkFBQTtFQUNBLGdCQUFBO0VBQ0EsaUJBQUE7RUFDQSxvQkFBQTtFQUNBLDhCQUFBO0FBQ047QUFBTTtFQUNFLGFBQUE7RUFDQSxTQUFBO0VBQ0EsaUJBQUE7QUFFUjtBQUFNO0VBQ0UsYUFBQTtFQUNBLGdCQUFBO0VBQ0EseUJBQUE7RUFDQSxVQUFBO0FBRVI7QUFBTTtFQUNFLGFBQUE7RUFDQSwyQkFBQTtFQUNBLGlCQUFBO0VBQ0EsWUFBQTtBQUVSO0FBR0U7RUFDRSxhQUFBO0VBQ0EsdUJBQUE7RUFDQSxtQkFBQTtFQUNBLGdCQUFBO0VBQ0EsWUFBQTtBQURKIiwic291cmNlc0NvbnRlbnQiOlsiLmZ1dHVyZS1hbW9ydGl6YXRpb24taXRlbSB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDIyMywgMjM0LCAyNTEpO1xyXG59XHJcblxyXG4uYW1vcnQtcGxhbiB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG5cclxuICAuYW1vcnQtaGVhZGVyIHtcclxuICAgIG1pbi1oZWlnaHQ6IDIwMHB4O1xyXG4gICAgZmxleC1ncm93OiAwO1xyXG4gICAgZ2FwOiAxMHB4O1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICAuYW1vcnQtaGVhZGVyLWZvcm0taXRlbSB7XHJcbiAgICAgIGZsZXgtZ3JvdzogMDtcclxuICAgICAgbWluLWhlaWdodDogMzBweDtcclxuICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgZ2FwOiAxMHB4O1xyXG4gICAgICAuYW1vcnQtaGVhZGVyLWZvcm0taXRlbS1sYWJlbCB7XHJcbiAgICAgICAgd2lkdGg6IDUwJTtcclxuICAgICAgICBtaW4td2lkdGg6IDE0MHB4O1xyXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcclxuICAgICAgfVxyXG4gICAgICAuYW1vcnQtaGVhZGVyLWZvcm0taXRlbS12YWx1ZSB7XHJcbiAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtc3RhcnQ7XHJcbiAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIC5hbW9ydC1oZWFkZXItdGV4dCB7XHJcbiAgICAgIHBhZGRpbmctdG9wOiAxMHB4O1xyXG4gICAgICBmbGV4LWdyb3c6IDA7XHJcbiAgICAgIG1pbi1oZWlnaHQ6IDUwcHg7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAuYW1vcnQtbW9udGhzIHtcclxuICAgIHBhZGRpbmctdG9wOiAyMHB4O1xyXG4gICAgbWluLWhlaWdodDogMjAwcHg7XHJcbiAgICBmbGV4LWdyb3c6IDE7XHJcbiAgICAuYW1vcnQtbW9udGhzLWgge1xyXG4gICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XHJcbiAgICAgIGJvcmRlci1ib3R0b206IHNvbGlkIDJweCBibGFjaztcclxuICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgICB9XHJcbiAgICAuYW1vcnQtbW9udGhzLXIge1xyXG4gICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICBtaW4taGVpZ2h0OiA0MHB4O1xyXG4gICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgICBib3JkZXItYm90dG9tOiBzb2xpZCAycHggYmxhY2s7XHJcbiAgICAgIC5hbW9ydC1tb250aHMtci1kYXRlIHtcclxuICAgICAgICBmbGV4LWdyb3c6IDE7XHJcbiAgICAgIH1cclxuICAgICAgLmFtb3J0LW1vbnRocy1yLXRvZ2dsZSB7XHJcbiAgICAgICAgcGFkZGluZy1sZWZ0OiAxMHB4O1xyXG4gICAgICB9XHJcbiAgICAgICY6aG92ZXIge1xyXG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDM0NDgwO1xyXG4gICAgICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgLmFtb3J0LW1vbnRocy1yLWV4cGFuZGVkIHtcclxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzAzNDQ4MDtcclxuICAgICAgY29sb3I6IHdoaXRlO1xyXG4gICAgfVxyXG4gICAgLmFtb3J0LW1vbnRocy1kZXRhaWxzIHtcclxuICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgICAgbWluLWhlaWdodDogNDBweDtcclxuICAgICAgcGFkZGluZy10b3A6IDIwcHg7XHJcbiAgICAgIHBhZGRpbmctYm90dG9tOiAyMHB4O1xyXG4gICAgICBib3JkZXItYm90dG9tOiBzb2xpZCAycHggYmxhY2s7XHJcbiAgICAgIGRpdiB7XHJcbiAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICBnYXA6IDE1cHg7XHJcbiAgICAgICAgcGFkZGluZy1sZWZ0OiAxMCU7XHJcbiAgICAgIH1cclxuICAgICAgLmFtb3J0LW1vbnRocy1kZXRhaWxzLWxhYmVsIHtcclxuICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgIG1pbi13aWR0aDogMTIwcHg7XHJcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcclxuICAgICAgICB3aWR0aDogMjAlO1xyXG4gICAgICB9XHJcbiAgICAgIC5hbW9ydC1tb250aHMtZGV0YWlscy12YWx1ZSB7XHJcbiAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtc3RhcnQ7XHJcbiAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgICAgICAgZmxleC1ncm93OiAxO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAuYW1vcnQtcGFnZXIge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIG1pbi1oZWlnaHQ6IDUwcHg7XHJcbiAgICBmbGV4LWdyb3c6IDA7XHJcbiAgfVxyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0= */"]
  });
}
class Model {}

/***/ }),

/***/ 1898:
/*!******************************************************************************************************************!*\
  !*** ./projects/customerpages/src/app/mypages/pages/loan/ul-amortization-plan/ul-amortization-plan.component.ts ***!
  \******************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   UlAmortizationPlanComponent: () => (/* binding */ UlAmortizationPlanComponent)
/* harmony export */ });
/* harmony import */ var _services_mypages_api_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../services/mypages-api.service */ 2122);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ 1699);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ 6575);



function UlAmortizationPlanComponent_div_0_div_7_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 3)(1, "span", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](2, "M\u00E5nadskostnad");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](3, "span", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](5, "currency");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](5, 1, ctx_r1.m.annuityAmount));
  }
}
function UlAmortizationPlanComponent_div_0_p_9_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1, "\u00C5terkommande avgifter, s\u00E5som exempelvis p\u00E5minnelseavgift eller aviavgift \u00E5terkopplas inte i amorteringsplanen eller m\u00E5nadsbeloppet.");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
}
function UlAmortizationPlanComponent_div_0_p_10_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1, "Avgifter annat \u00E4n uppl\u00E4ggningsavgift, s\u00E5som exempelvis p\u00E5minnelseavgift och aviavgift \u00E5terkopplas inte i amorteringsplanen eller m\u00E5nadsbeloppet.");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
}
function UlAmortizationPlanComponent_div_0_p_11_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1, "En extra amortering kan komma att p\u00E5verka \u00E5terbetalningstiden.");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
}
function UlAmortizationPlanComponent_div_0_ng_container_18_div_10_div_13_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div")(1, "span", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](2, "Uppl\u00E4ggningsavgift");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](3, "span", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](5, "currency");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const t_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](2).$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](5, 1, t_r7.InitialFeeTransaction));
  }
}
function UlAmortizationPlanComponent_div_0_ng_container_18_div_10_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 19)(1, "div")(2, "span", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](3, "R\u00E4nta");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](4, "span", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](6, "currency");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](7, "div")(8, "span", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](9, "Kapital");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](10, "span", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](11);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](12, "currency");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](13, UlAmortizationPlanComponent_div_0_ng_container_18_div_10_div_13_Template, 6, 3, "div", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](14, "div")(15, "span", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](16, "Kapitalskuld");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](17, "span", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](18);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](19, "currency");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()();
  }
  if (rf & 2) {
    const t_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](6, 4, t_r7.InterestTransaction));
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](12, 6, t_r7.CapitalTransaction));
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", t_r7.InitialFeeTransaction);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](19, 8, t_r7.CapitalBefore));
  }
}
const _c0 = a0 => ({
  "amort-months-r-expanded": a0
});
const _c1 = (a0, a1) => ({
  "glyphicon-chevron-down": a0,
  "glyphicon-plus": a1
});
function UlAmortizationPlanComponent_div_0_ng_container_18_Template(rf, ctx) {
  if (rf & 1) {
    const _r13 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](1, "div", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function UlAmortizationPlanComponent_div_0_ng_container_18_Template_div_click_1_listener($event) {
      const restoredCtx = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r13);
      const t_r7 = restoredCtx.$implicit;
      const ctx_r12 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](2);
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r12.toggleTransactionDetails(t_r7, $event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](2, "span", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](4, "date");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](5, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](7, "currency");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](8, "span", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](9, "span", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](10, UlAmortizationPlanComponent_div_0_ng_container_18_div_10_Template, 20, 10, "div", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const t_r7 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpureFunction1"](10, _c0, t_r7.isExpanded));
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind2"](4, 5, t_r7.FutureItemDueDate, "yyyy-MM-dd"));
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](7, 8, t_r7.capitalAndInterestTransaction + t_r7.InitialFeeTransaction));
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpureFunction2"](12, _c1, t_r7.isExpanded, !t_r7.isExpanded));
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", t_r7.isExpanded);
  }
}
function UlAmortizationPlanComponent_div_0_a_20_Template(rf, ctx) {
  if (rf & 1) {
    const _r15 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "a", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function UlAmortizationPlanComponent_div_0_a_20_Template_a_click_0_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r15);
      const ctx_r14 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](2);
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r14.showMoreTransactions(ctx_r14.m, $event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1, "Visa fler");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
}
function UlAmortizationPlanComponent_div_0_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 1)(1, "div", 2)(2, "div", 3)(3, "span", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](4, "Betalningar kvar");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](5, "span", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](7, UlAmortizationPlanComponent_div_0_div_7_Template, 6, 3, "div", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](8, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](9, UlAmortizationPlanComponent_div_0_p_9_Template, 2, 0, "p", 8)(10, UlAmortizationPlanComponent_div_0_p_10_Template, 2, 0, "p", 8)(11, UlAmortizationPlanComponent_div_0_p_11_Template, 2, 0, "p", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](12, "div", 9)(13, "div", 10)(14, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](15, "F\u00F6rfallodag");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](16, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](17, "M\u00E5nadsbelopp");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](18, UlAmortizationPlanComponent_div_0_ng_container_18_Template, 11, 15, "ng-container", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](19, "div", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](20, UlAmortizationPlanComponent_div_0_a_20_Template, 2, 0, "a", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](ctx_r0.m.futureTransactions.length);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", !ctx_r0.m.singlePaymentLoanRepaymentDays);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", !ctx_r0.m.singlePaymentLoanRepaymentDays);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx_r0.m.singlePaymentLoanRepaymentDays);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", !ctx_r0.m.singlePaymentLoanRepaymentDays);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](7);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngForOf", ctx_r0.getVisibleTransactions());
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx_r0.hasMoreTransactions());
  }
}
const PageSize = 5;
class UlAmortizationPlanComponent {
  constructor() {}
  ngOnChanges(changes) {
    this.m = null;
    if (!this.amortizationPlan) {
      return;
    }
    let m = {
      singlePaymentLoanRepaymentDays: this.amortizationPlan.SinglePaymentLoanRepaymentDays,
      futureTransactions: [],
      annuityAmount: this.amortizationPlan.AnnuityAmount,
      visibleCount: null
    };
    for (let t of this.amortizationPlan.AmortizationPlanItems.filter(x => x.IsFutureItem)) {
      m.futureTransactions.push({
        ...t,
        isExpanded: false,
        capitalAndInterestTransaction: t.CapitalTransaction + t.InterestTransaction
      });
    }
    m.visibleCount = Math.min(m.futureTransactions.length, PageSize);
    this.m = m;
  }
  showMoreTransactions(m, evt) {
    evt?.preventDefault();
    m.visibleCount = Math.min(m.futureTransactions.length, m.visibleCount + PageSize);
  }
  getVisibleTransactions() {
    return this.m.futureTransactions.filter((_, i) => i < this.m.visibleCount);
  }
  hasMoreTransactions() {
    return this.m.visibleCount < this.m.futureTransactions.length;
  }
  toggleTransactionDetails(i, evt) {
    evt?.preventDefault();
    i.isExpanded = !i.isExpanded;
  }
  getAmortizationItemDesc(i) {
    if (i.IsWriteOff) {
      return 'Justering';
    } else {
      if (i.EventTypeCode == 'PlacedUnplacedIncomingPayment') {
        return 'Extra amortering';
      } else if (i.EventTypeCode == 'NewCredit') {
        return 'Nytt lån';
      } else if (i.EventTypeCode == 'CapitalizedInitialFee') {
        return 'Kapitaliserad uppläggningsavgift';
      } else if (i.EventTypeCode == 'NewNotification') {
        return 'Avi';
      } else if (i.EventTypeCode == 'NewAdditionalLoan') {
        return 'Nytt tilläggslån';
      } else {
        return i.EventTypeCode;
      }
    }
  }
  static #_ = this.ɵfac = function UlAmortizationPlanComponent_Factory(t) {
    return new (t || UlAmortizationPlanComponent)();
  };
  static #_2 = this.ɵcmp = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
    type: UlAmortizationPlanComponent,
    selectors: [["ul-amortization-plan"]],
    inputs: {
      amortizationPlan: "amortizationPlan"
    },
    features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵNgOnChangesFeature"]],
    decls: 1,
    vars: 1,
    consts: [["class", "amort-plan", 4, "ngIf"], [1, "amort-plan"], [1, "amort-header"], [1, "amort-header-form-item"], [1, "amort-header-form-item-label"], [1, "amort-header-form-item-value"], ["class", "amort-header-form-item", 4, "ngIf"], [1, "amort-header-text"], [4, "ngIf"], [1, "amort-months"], [1, "amort-months-h"], [4, "ngFor", "ngForOf"], [1, "amort-pager"], ["href", "", "class", "n-anchor", 3, "click", 4, "ngIf"], [1, "amort-months-r", 3, "ngClass", "click"], [1, "amort-months-r-date"], [1, "amort-months-r-toggle"], [1, "glyphicon", 3, "ngClass"], ["class", "amort-months-details", 4, "ngIf"], [1, "amort-months-details"], [1, "amort-months-details-label"], [1, "amort-months-details-value"], ["href", "", 1, "n-anchor", 3, "click"]],
    template: function UlAmortizationPlanComponent_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](0, UlAmortizationPlanComponent_div_0_Template, 21, 7, "div", 0);
      }
      if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.m);
      }
    },
    dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_2__.NgClass, _angular_common__WEBPACK_IMPORTED_MODULE_2__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_2__.NgIf, _angular_common__WEBPACK_IMPORTED_MODULE_2__.CurrencyPipe, _angular_common__WEBPACK_IMPORTED_MODULE_2__.DatePipe],
    styles: [".future-amortization-item[_ngcontent-%COMP%] {\n  background-color: rgb(223, 234, 251);\n}\n\n.amort-plan[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: column;\n}\n.amort-plan[_ngcontent-%COMP%]   .amort-header[_ngcontent-%COMP%] {\n  min-height: 200px;\n  flex-grow: 0;\n  gap: 10px;\n  display: flex;\n  flex-direction: column;\n}\n.amort-plan[_ngcontent-%COMP%]   .amort-header[_ngcontent-%COMP%]   .amort-header-form-item[_ngcontent-%COMP%] {\n  flex-grow: 0;\n  min-height: 30px;\n  display: flex;\n  gap: 10px;\n}\n.amort-plan[_ngcontent-%COMP%]   .amort-header[_ngcontent-%COMP%]   .amort-header-form-item[_ngcontent-%COMP%]   .amort-header-form-item-label[_ngcontent-%COMP%] {\n  width: 50%;\n  min-width: 140px;\n  display: flex;\n  justify-content: flex-end;\n}\n.amort-plan[_ngcontent-%COMP%]   .amort-header[_ngcontent-%COMP%]   .amort-header-form-item[_ngcontent-%COMP%]   .amort-header-form-item-value[_ngcontent-%COMP%] {\n  display: flex;\n  justify-content: flex-start;\n  font-weight: bold;\n}\n.amort-plan[_ngcontent-%COMP%]   .amort-header[_ngcontent-%COMP%]   .amort-header-text[_ngcontent-%COMP%] {\n  padding-top: 10px;\n  flex-grow: 0;\n  min-height: 50px;\n}\n.amort-plan[_ngcontent-%COMP%]   .amort-months[_ngcontent-%COMP%] {\n  padding-top: 20px;\n  min-height: 200px;\n  flex-grow: 1;\n}\n.amort-plan[_ngcontent-%COMP%]   .amort-months[_ngcontent-%COMP%]   .amort-months-h[_ngcontent-%COMP%] {\n  display: flex;\n  justify-content: space-between;\n  border-bottom: solid 2px black;\n  font-weight: bold;\n}\n.amort-plan[_ngcontent-%COMP%]   .amort-months[_ngcontent-%COMP%]   .amort-months-r[_ngcontent-%COMP%] {\n  display: flex;\n  min-height: 40px;\n  align-items: center;\n  border-bottom: solid 2px black;\n}\n.amort-plan[_ngcontent-%COMP%]   .amort-months[_ngcontent-%COMP%]   .amort-months-r[_ngcontent-%COMP%]   .amort-months-r-date[_ngcontent-%COMP%] {\n  flex-grow: 1;\n}\n.amort-plan[_ngcontent-%COMP%]   .amort-months[_ngcontent-%COMP%]   .amort-months-r[_ngcontent-%COMP%]   .amort-months-r-toggle[_ngcontent-%COMP%] {\n  padding-left: 10px;\n}\n.amort-plan[_ngcontent-%COMP%]   .amort-months[_ngcontent-%COMP%]   .amort-months-r[_ngcontent-%COMP%]:hover {\n  cursor: pointer;\n  background-color: #034480;\n  color: white;\n}\n.amort-plan[_ngcontent-%COMP%]   .amort-months[_ngcontent-%COMP%]   .amort-months-r-expanded[_ngcontent-%COMP%] {\n  background-color: #034480;\n  color: white;\n}\n.amort-plan[_ngcontent-%COMP%]   .amort-months[_ngcontent-%COMP%]   .amort-months-details[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: column;\n  min-height: 40px;\n  padding-top: 20px;\n  padding-bottom: 20px;\n  border-bottom: solid 2px black;\n}\n.amort-plan[_ngcontent-%COMP%]   .amort-months[_ngcontent-%COMP%]   .amort-months-details[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] {\n  display: flex;\n  gap: 15px;\n  padding-left: 10%;\n}\n.amort-plan[_ngcontent-%COMP%]   .amort-months[_ngcontent-%COMP%]   .amort-months-details[_ngcontent-%COMP%]   .amort-months-details-label[_ngcontent-%COMP%] {\n  display: flex;\n  min-width: 120px;\n  justify-content: flex-end;\n  width: 20%;\n}\n.amort-plan[_ngcontent-%COMP%]   .amort-months[_ngcontent-%COMP%]   .amort-months-details[_ngcontent-%COMP%]   .amort-months-details-value[_ngcontent-%COMP%] {\n  display: flex;\n  justify-content: flex-start;\n  font-weight: bold;\n  flex-grow: 1;\n}\n.amort-plan[_ngcontent-%COMP%]   .amort-pager[_ngcontent-%COMP%] {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-height: 50px;\n  flex-grow: 0;\n}\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3Byb2plY3RzL2N1c3RvbWVycGFnZXMvc3JjL2FwcC9teXBhZ2VzL3BhZ2VzL2xvYW4vdWwtYW1vcnRpemF0aW9uLXBsYW4vdWwtYW1vcnRpemF0aW9uLXBsYW4uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxvQ0FBQTtBQUNGOztBQUVBO0VBQ0UsYUFBQTtFQUNBLHNCQUFBO0FBQ0Y7QUFDRTtFQUNFLGlCQUFBO0VBQ0EsWUFBQTtFQUNBLFNBQUE7RUFDQSxhQUFBO0VBQ0Esc0JBQUE7QUFDSjtBQUFJO0VBQ0UsWUFBQTtFQUNBLGdCQUFBO0VBQ0EsYUFBQTtFQUNBLFNBQUE7QUFFTjtBQURNO0VBQ0UsVUFBQTtFQUNBLGdCQUFBO0VBQ0EsYUFBQTtFQUNBLHlCQUFBO0FBR1I7QUFETTtFQUNFLGFBQUE7RUFDQSwyQkFBQTtFQUNBLGlCQUFBO0FBR1I7QUFBSTtFQUNFLGlCQUFBO0VBQ0EsWUFBQTtFQUNBLGdCQUFBO0FBRU47QUFFRTtFQUNFLGlCQUFBO0VBQ0EsaUJBQUE7RUFDQSxZQUFBO0FBQUo7QUFDSTtFQUNFLGFBQUE7RUFDQSw4QkFBQTtFQUNBLDhCQUFBO0VBQ0EsaUJBQUE7QUFDTjtBQUNJO0VBQ0UsYUFBQTtFQUNBLGdCQUFBO0VBQ0EsbUJBQUE7RUFDQSw4QkFBQTtBQUNOO0FBQU07RUFDRSxZQUFBO0FBRVI7QUFBTTtFQUNFLGtCQUFBO0FBRVI7QUFBTTtFQUNFLGVBQUE7RUFDQSx5QkFBQTtFQUNBLFlBQUE7QUFFUjtBQUNJO0VBQ0UseUJBQUE7RUFDQSxZQUFBO0FBQ047QUFDSTtFQUNFLGFBQUE7RUFDQSxzQkFBQTtFQUNBLGdCQUFBO0VBQ0EsaUJBQUE7RUFDQSxvQkFBQTtFQUNBLDhCQUFBO0FBQ047QUFBTTtFQUNFLGFBQUE7RUFDQSxTQUFBO0VBQ0EsaUJBQUE7QUFFUjtBQUFNO0VBQ0UsYUFBQTtFQUNBLGdCQUFBO0VBQ0EseUJBQUE7RUFDQSxVQUFBO0FBRVI7QUFBTTtFQUNFLGFBQUE7RUFDQSwyQkFBQTtFQUNBLGlCQUFBO0VBQ0EsWUFBQTtBQUVSO0FBR0U7RUFDRSxhQUFBO0VBQ0EsdUJBQUE7RUFDQSxtQkFBQTtFQUNBLGdCQUFBO0VBQ0EsWUFBQTtBQURKIiwic291cmNlc0NvbnRlbnQiOlsiLmZ1dHVyZS1hbW9ydGl6YXRpb24taXRlbSB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDIyMywgMjM0LCAyNTEpO1xyXG59XHJcblxyXG4uYW1vcnQtcGxhbiB7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG5cclxuICAuYW1vcnQtaGVhZGVyIHtcclxuICAgIG1pbi1oZWlnaHQ6IDIwMHB4O1xyXG4gICAgZmxleC1ncm93OiAwO1xyXG4gICAgZ2FwOiAxMHB4O1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICAuYW1vcnQtaGVhZGVyLWZvcm0taXRlbSB7XHJcbiAgICAgIGZsZXgtZ3JvdzogMDtcclxuICAgICAgbWluLWhlaWdodDogMzBweDtcclxuICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgZ2FwOiAxMHB4O1xyXG4gICAgICAuYW1vcnQtaGVhZGVyLWZvcm0taXRlbS1sYWJlbCB7XHJcbiAgICAgICAgd2lkdGg6IDUwJTtcclxuICAgICAgICBtaW4td2lkdGg6IDE0MHB4O1xyXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcclxuICAgICAgfVxyXG4gICAgICAuYW1vcnQtaGVhZGVyLWZvcm0taXRlbS12YWx1ZSB7XHJcbiAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtc3RhcnQ7XHJcbiAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIC5hbW9ydC1oZWFkZXItdGV4dCB7XHJcbiAgICAgIHBhZGRpbmctdG9wOiAxMHB4O1xyXG4gICAgICBmbGV4LWdyb3c6IDA7XHJcbiAgICAgIG1pbi1oZWlnaHQ6IDUwcHg7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAuYW1vcnQtbW9udGhzIHtcclxuICAgIHBhZGRpbmctdG9wOiAyMHB4O1xyXG4gICAgbWluLWhlaWdodDogMjAwcHg7XHJcbiAgICBmbGV4LWdyb3c6IDE7XHJcbiAgICAuYW1vcnQtbW9udGhzLWgge1xyXG4gICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XHJcbiAgICAgIGJvcmRlci1ib3R0b206IHNvbGlkIDJweCBibGFjaztcclxuICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgICB9XHJcbiAgICAuYW1vcnQtbW9udGhzLXIge1xyXG4gICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICBtaW4taGVpZ2h0OiA0MHB4O1xyXG4gICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgICBib3JkZXItYm90dG9tOiBzb2xpZCAycHggYmxhY2s7XHJcbiAgICAgIC5hbW9ydC1tb250aHMtci1kYXRlIHtcclxuICAgICAgICBmbGV4LWdyb3c6IDE7XHJcbiAgICAgIH1cclxuICAgICAgLmFtb3J0LW1vbnRocy1yLXRvZ2dsZSB7XHJcbiAgICAgICAgcGFkZGluZy1sZWZ0OiAxMHB4O1xyXG4gICAgICB9XHJcbiAgICAgICY6aG92ZXIge1xyXG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDM0NDgwO1xyXG4gICAgICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgLmFtb3J0LW1vbnRocy1yLWV4cGFuZGVkIHtcclxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzAzNDQ4MDtcclxuICAgICAgY29sb3I6IHdoaXRlO1xyXG4gICAgfVxyXG4gICAgLmFtb3J0LW1vbnRocy1kZXRhaWxzIHtcclxuICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgICAgbWluLWhlaWdodDogNDBweDtcclxuICAgICAgcGFkZGluZy10b3A6IDIwcHg7XHJcbiAgICAgIHBhZGRpbmctYm90dG9tOiAyMHB4O1xyXG4gICAgICBib3JkZXItYm90dG9tOiBzb2xpZCAycHggYmxhY2s7XHJcbiAgICAgIGRpdiB7XHJcbiAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICBnYXA6IDE1cHg7XHJcbiAgICAgICAgcGFkZGluZy1sZWZ0OiAxMCU7XHJcbiAgICAgIH1cclxuICAgICAgLmFtb3J0LW1vbnRocy1kZXRhaWxzLWxhYmVsIHtcclxuICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgIG1pbi13aWR0aDogMTIwcHg7XHJcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcclxuICAgICAgICB3aWR0aDogMjAlO1xyXG4gICAgICB9XHJcbiAgICAgIC5hbW9ydC1tb250aHMtZGV0YWlscy12YWx1ZSB7XHJcbiAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtc3RhcnQ7XHJcbiAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgICAgICAgZmxleC1ncm93OiAxO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAuYW1vcnQtcGFnZXIge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIG1pbi1oZWlnaHQ6IDUwcHg7XHJcbiAgICBmbGV4LWdyb3c6IDA7XHJcbiAgfVxyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0= */"]
  });
}
class Model {}

/***/ }),

/***/ 6418:
/*!*********************************************************************************************************!*\
  !*** ./projects/customerpages/src/app/mypages/pages/my-data/my-contactinfo/my-contactinfo.component.ts ***!
  \*********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MyContactinfoComponent: () => (/* binding */ MyContactinfoComponent)
/* harmony export */ });
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/forms */ 8849);
/* harmony import */ var src_app_common_services_ntech_forms_helper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! src/app/common-services/ntech-forms-helper */ 7093);
/* harmony import */ var _components_mypages_shell_mypages_shell_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../components/mypages-shell/mypages-shell.component */ 2968);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/core */ 1699);
/* harmony import */ var _services_mypages_api_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../services/mypages-api.service */ 2122);
/* harmony import */ var projects_customerpages_src_app_common_services_customer_pages_validation_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! projects/customerpages/src/app/common-services/customer-pages-validation.service */ 423);
/* harmony import */ var ngx_toastr__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ngx-toastr */ 7548);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/common */ 6575);
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/router */ 7947);











function MyContactinfoComponent_mypages_shell_0_div_1_ng_container_7_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](1, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](3, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](5, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](7, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](8);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtextInterpolate2"]("", ctx_r2.customer.FirstName, " ", ctx_r2.customer.LastName, "");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtextInterpolate"](ctx_r2.customer.Address.Street);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtextInterpolate2"]("", ctx_r2.customer.Address.Zipcode, " ", ctx_r2.customer.Address.City, "");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtextInterpolate"](ctx_r2.customer.Address.Country);
  }
}
function MyContactinfoComponent_mypages_shell_0_div_1_ng_container_8_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](1, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](2, "Vi saknar tyv\u00E4rr adressdata om dig.");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementContainerEnd"]();
  }
}
function MyContactinfoComponent_mypages_shell_0_div_1_div_11_Template(rf, ctx) {
  if (rf & 1) {
    const _r11 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](0, "div")(1, "button", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵlistener"]("click", function MyContactinfoComponent_mypages_shell_0_div_1_div_11_Template_button_click_1_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵrestoreView"](_r11);
      const ctx_r10 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"](3);
      return _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵresetView"](ctx_r10.beginEdit($event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelement"](2, "span", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("disabled", ctx_r4.editForm);
  }
}
function MyContactinfoComponent_mypages_shell_0_div_1_div_12_Template(rf, ctx) {
  if (rf & 1) {
    const _r13 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](0, "div")(1, "button", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵlistener"]("click", function MyContactinfoComponent_mypages_shell_0_div_1_div_12_Template_button_click_1_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵrestoreView"](_r13);
      const ctx_r12 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"](3);
      return _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵresetView"](ctx_r12.onCancelEdit($event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelement"](2, "span", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](3, "button", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵlistener"]("click", function MyContactinfoComponent_mypages_shell_0_div_1_div_12_Template_button_click_3_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵrestoreView"](_r13);
      const ctx_r14 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"](3);
      return _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵresetView"](ctx_r14.onSave($event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelement"](4, "span", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("disabled", ctx_r5.editForm == null ? null : ctx_r5.editForm.invalid());
  }
}
function MyContactinfoComponent_mypages_shell_0_div_1_input_19_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelement"](0, "input", 22);
  }
}
function MyContactinfoComponent_mypages_shell_0_div_1_p_20_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](0, "p", 23);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtextInterpolate1"](" ", ctx_r7.customer.Email ? ctx_r7.customer.Email : "N/A", " ");
  }
}
function MyContactinfoComponent_mypages_shell_0_div_1_input_25_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelement"](0, "input", 24);
  }
}
function MyContactinfoComponent_mypages_shell_0_div_1_p_26_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](0, "p", 23);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtextInterpolate1"](" ", ctx_r9.customer.Phone ? ctx_r9.customer.Phone : "N/A", " ");
  }
}
function MyContactinfoComponent_mypages_shell_0_div_1_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](0, "div", 3)(1, "a", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](2, "Mina uppgifter");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](3, "h1", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](4, "Kontaktuppgifter");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](5, "h2", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](6, "Adress");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtemplate"](7, MyContactinfoComponent_mypages_shell_0_div_1_ng_container_7_Template, 9, 6, "ng-container", 6)(8, MyContactinfoComponent_mypages_shell_0_div_1_ng_container_8_Template, 3, 0, "ng-container", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](9, "div", 7)(10, "div", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtemplate"](11, MyContactinfoComponent_mypages_shell_0_div_1_div_11_Template, 3, 1, "div", 6)(12, MyContactinfoComponent_mypages_shell_0_div_1_div_12_Template, 5, 1, "div", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](13, "div", 9)(14, "form", 10)(15, "div", 11)(16, "div", 12)(17, "label");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](18, "Epost");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtemplate"](19, MyContactinfoComponent_mypages_shell_0_div_1_input_19_Template, 1, 0, "input", 13)(20, MyContactinfoComponent_mypages_shell_0_div_1_p_20_Template, 2, 1, "p", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](21, "div", 11)(22, "div", 12)(23, "label");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](24, "Telefonnummer");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtemplate"](25, MyContactinfoComponent_mypages_shell_0_div_1_input_25_Template, 1, 0, "input", 15)(26, MyContactinfoComponent_mypages_shell_0_div_1_p_26_Template, 2, 1, "p", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()()()()()();
  }
  if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](7);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngIf", ctx_r1.customer.Address);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngIf", !ctx_r1.customer.Address);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngIf", !ctx_r1.editForm);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngIf", ctx_r1.editForm);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("formGroup", (ctx_r1.editForm == null ? null : ctx_r1.editForm.form) || ctx_r1.dummyViewForm);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngIf", ctx_r1.editForm);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngIf", !ctx_r1.editForm);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngIf", ctx_r1.editForm);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngIf", !ctx_r1.editForm);
  }
}
function MyContactinfoComponent_mypages_shell_0_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](0, "mypages-shell", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtemplate"](1, MyContactinfoComponent_mypages_shell_0_div_1_Template, 27, 9, "div", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("initialData", ctx_r0.shellInitialData);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngIf", ctx_r0.customer);
  }
}
class MyContactinfoComponent {
  constructor(apiService, fb, validationService, toastr) {
    this.apiService = apiService;
    this.fb = fb;
    this.validationService = validationService;
    this.toastr = toastr;
  }
  ngOnInit() {
    this.shellInitialData = {
      activeMenuItemCode: _components_mypages_shell_mypages_shell_component__WEBPACK_IMPORTED_MODULE_1__.MyPagesMenuItemCode.MyData
    };
    this.fetchCustomerInfo();
    this.dummyViewForm = this.fb.group({});
  }
  fetchCustomerInfo() {
    this.apiService.fetchCustomerInfo().then(result => {
      // Force null instead of empty object.
      if (!result.Address?.Street && !result.Address?.Zipcode) {
        result.Address = null;
      }
      this.customer = result;
    });
  }
  onCancelEdit(evt) {
    evt?.preventDefault();
    this.editForm = null;
  }
  beginEdit(evt) {
    evt?.preventDefault();
    let form = new src_app_common_services_ntech_forms_helper__WEBPACK_IMPORTED_MODULE_0__.FormsHelper(this.fb.group({}));
    form.addControlIfNotExists('emailAddress', this.customer.Email, [_angular_forms__WEBPACK_IMPORTED_MODULE_5__.Validators.required, this.validationService.getEmailValidator()]);
    form.addControlIfNotExists('phoneNumber', this.customer.Phone, [_angular_forms__WEBPACK_IMPORTED_MODULE_5__.Validators.required, this.validationService.getPhoneValidator()]);
    this.editForm = null; // Ensure empty.
    this.editForm = form;
  }
  onSave(evt) {
    evt?.preventDefault();
    let newEmail = this.editForm.getValue('emailAddress');
    let newPhone = this.editForm.getValue('phoneNumber');
    let properties = [{
      Name: 'email',
      Value: newEmail
    }, {
      Name: 'phone',
      Value: newPhone
    }];
    this.apiService.updateCustomerValues(properties).then(success => {
      this.fetchCustomerInfo();
      this.editForm = null;
    }, error => this.toastr.error('Något gick fel, vänligen kontrollera uppgifterna och försök igen. '));
  }
  static #_ = this.ɵfac = function MyContactinfoComponent_Factory(t) {
    return new (t || MyContactinfoComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵdirectiveInject"](_services_mypages_api_service__WEBPACK_IMPORTED_MODULE_2__.MyPagesApiService), _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵdirectiveInject"](_angular_forms__WEBPACK_IMPORTED_MODULE_5__.UntypedFormBuilder), _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵdirectiveInject"](projects_customerpages_src_app_common_services_customer_pages_validation_service__WEBPACK_IMPORTED_MODULE_3__.CustomerPagesValidationService), _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵdirectiveInject"](ngx_toastr__WEBPACK_IMPORTED_MODULE_6__.ToastrService));
  };
  static #_2 = this.ɵcmp = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵdefineComponent"]({
    type: MyContactinfoComponent,
    selectors: [["my-contactinfo"]],
    decls: 1,
    vars: 1,
    consts: [[3, "initialData", 4, "ngIf"], [3, "initialData"], ["active-tab", "", 4, "ngIf"], ["active-tab", ""], ["routerLink", "..", 1, "n-anchor", "pt-2"], [1, "header-light", "pt-2"], [4, "ngIf"], [1, "pt-2"], [1, "text-right"], [1, "row"], [3, "formGroup"], [1, "col-sm-6", "col-xs-12"], [1, "form-group", "pb-1"], ["type", "text", "formControlName", "emailAddress", "class", "form-control", "placeholder", "Email", 4, "ngIf"], ["class", "form-control-static copyable bb-1", 4, "ngIf"], ["type", "text", "formControlName", "phoneNumber", "class", "form-control", "placeholder", "Telefonnummer", 4, "ngIf"], [1, "n-icon-btn", "n-blue-btn", 3, "disabled", "click"], [1, "glyphicon", "glyphicon-pencil"], [1, "n-icon-btn", "n-white-btn", "right-5", 3, "click"], [1, "glyphicon", "glyphicon-remove"], [1, "n-icon-btn", "n-green-btn", 3, "disabled", "click"], [1, "glyphicon", "glyphicon-ok"], ["type", "text", "formControlName", "emailAddress", "placeholder", "Email", 1, "form-control"], [1, "form-control-static", "copyable", "bb-1"], ["type", "text", "formControlName", "phoneNumber", "placeholder", "Telefonnummer", 1, "form-control"]],
    template: function MyContactinfoComponent_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtemplate"](0, MyContactinfoComponent_mypages_shell_0_Template, 2, 2, "mypages-shell", 0);
      }
      if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngIf", ctx.shellInitialData);
      }
    },
    dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_7__.NgIf, _angular_router__WEBPACK_IMPORTED_MODULE_8__.RouterLink, _angular_forms__WEBPACK_IMPORTED_MODULE_5__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_5__.DefaultValueAccessor, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.NgControlStatus, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormGroupDirective, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormControlName, _components_mypages_shell_mypages_shell_component__WEBPACK_IMPORTED_MODULE_1__.MypagesShellComponent],
    styles: [".right-5[_ngcontent-%COMP%] {\n                margin-right: 5px;\n            }\n        \n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3Byb2plY3RzL2N1c3RvbWVycGFnZXMvc3JjL2FwcC9teXBhZ2VzL3BhZ2VzL215LWRhdGEvbXktY29udGFjdGluZm8vbXktY29udGFjdGluZm8uY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7WUFDWTtnQkFDSSxpQkFBaUI7WUFDckIiLCJzb3VyY2VzQ29udGVudCI6WyJcbiAgICAgICAgICAgIC5yaWdodC01IHtcbiAgICAgICAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDVweDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgIl0sInNvdXJjZVJvb3QiOiIifQ== */"]
  });
}

/***/ }),

/***/ 1599:
/*!***********************************************************************************!*\
  !*** ./projects/customerpages/src/app/mypages/pages/my-data/my-data.component.ts ***!
  \***********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MyDataComponent: () => (/* binding */ MyDataComponent)
/* harmony export */ });
/* harmony import */ var _components_mypages_shell_mypages_shell_component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../components/mypages-shell/mypages-shell.component */ 2968);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ 1699);
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ 7947);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common */ 6575);





function MyDataComponent_mypages_shell_0_Template(rf, ctx) {
  if (rf & 1) {
    const _r2 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "mypages-shell", 1)(1, "div", 2)(2, "h1", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](3, "Mina uppgifter");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](4, "div", 4)(5, "table", 5)(6, "tbody")(7, "tr", 6)(8, "td", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](9, "Kontaktuppgifter");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](10, "td", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](11, "span", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](12, "tr", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function MyDataComponent_mypages_shell_0_Template_tr_click_12_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r2);
      const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r1.goToKycOverview());
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](13, "td", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](14, "Kundk\u00E4nnedom");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](15, "td", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](16, "span", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()()()()()();
  }
  if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("initialData", ctx_r0.shellInitialData);
  }
}
class MyDataComponent {
  constructor(router) {
    this.router = router;
  }
  ngOnInit() {
    this.shellInitialData = {
      activeMenuItemCode: _components_mypages_shell_mypages_shell_component__WEBPACK_IMPORTED_MODULE_0__.MyPagesMenuItemCode.MyData
    };
  }
  goToKycOverview() {
    this.router.navigateByUrl(`kyc/overview?fromTarget=StandardMyData&lang=sv`);
  }
  static #_ = this.ɵfac = function MyDataComponent_Factory(t) {
    return new (t || MyDataComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_2__.Router));
  };
  static #_2 = this.ɵcmp = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
    type: MyDataComponent,
    selectors: [["mp-my-data"]],
    decls: 1,
    vars: 1,
    consts: [[3, "initialData", 4, "ngIf"], [3, "initialData"], ["active-tab", ""], [1, "header-light", "pt-2"], [1, "pt-1"], [1, "table"], ["routerLink", "contactinfo", 1, "active-task-row"], [1, "col-xs-6"], [1, "text-right", "col-xs-6"], [1, "glyphicon", "glyphicon-play"], ["routerLink", "", 1, "active-task-row", 3, "click"]],
    template: function MyDataComponent_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](0, MyDataComponent_mypages_shell_0_Template, 17, 1, "mypages-shell", 0);
      }
      if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.shellInitialData);
      }
    },
    dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_3__.NgIf, _angular_router__WEBPACK_IMPORTED_MODULE_2__.RouterLink, _components_mypages_shell_mypages_shell_component__WEBPACK_IMPORTED_MODULE_0__.MypagesShellComponent],
    encapsulation: 2
  });
}

/***/ }),

/***/ 2283:
/*!*********************************************************************************************!*\
  !*** ./projects/customerpages/src/app/mypages/pages/my-documents/my-documents.component.ts ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MyDocumentsComponent: () => (/* binding */ MyDocumentsComponent)
/* harmony export */ });
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! moment */ 8540);
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _components_mypages_shell_mypages_shell_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../components/mypages-shell/mypages-shell.component */ 2968);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/core */ 1699);
/* harmony import */ var _services_mypages_api_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/mypages-api.service */ 2122);
/* harmony import */ var _common_services_customer_pages_config_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../common-services/customer-pages-config.service */ 5716);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/common */ 6575);







function MyDocumentsComponent_mypages_shell_0_tr_14_ng_container_5_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementContainer"](0);
  }
}
function MyDocumentsComponent_mypages_shell_0_tr_14_ng_container_9_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementContainer"](0);
  }
}
const _c0 = a0 => ({
  product: a0
});
const _c1 = (a0, a1, a2) => ({
  product: a0,
  code: a1,
  context: a2
});
function MyDocumentsComponent_mypages_shell_0_tr_14_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](0, "tr")(1, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpipe"](3, "date");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](4, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtemplate"](5, MyDocumentsComponent_mypages_shell_0_tr_14_ng_container_5_Template, 1, 0, "ng-container", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](7, "td")(8, "a", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtemplate"](9, MyDocumentsComponent_mypages_shell_0_tr_14_ng_container_9_Template, 1, 0, "ng-container", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()()();
  }
  if (rf & 2) {
    const document_r6 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"](2);
    const _r2 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵreference"](2);
    const _r4 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵreference"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpipeBind1"](3, 7, document_r6.Date));
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngTemplateOutlet", _r2)("ngTemplateOutletContext", _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpureFunction1"](9, _c0, document_r6.Product));
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtextInterpolate1"](" ", document_r6.ProductId, " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("href", document_r6.Url, _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵsanitizeUrl"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngTemplateOutlet", _r4)("ngTemplateOutletContext", _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpureFunction3"](11, _c1, document_r6.Product, document_r6.TypeCode, document_r6.Context));
  }
}
function MyDocumentsComponent_mypages_shell_0_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](0, "mypages-shell", 3)(1, "div", 4)(2, "h1", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](3, "Dokument");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](4, "table", 6)(5, "thead")(6, "tr")(7, "th", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](8, "Utskriftsdatum");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](9, "th", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](10, "Produkt");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](11, "th", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](12, "Dokument");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](13, "tbody");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtemplate"](14, MyDocumentsComponent_mypages_shell_0_tr_14_Template, 10, 15, "tr", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()()()();
  }
  if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("initialData", ctx_r0.m == null ? null : ctx_r0.m.shellInitialData);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](14);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngForOf", ctx_r0.m.documents);
  }
}
function MyDocumentsComponent_ng_template_1_ng_container_1_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](1, "L\u00E5n");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementContainerEnd"]();
  }
}
function MyDocumentsComponent_ng_template_1_ng_container_2_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const product_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"]().product;
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtextInterpolate"](product_r9);
  }
}
function MyDocumentsComponent_ng_template_1_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementContainerStart"](0, 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtemplate"](1, MyDocumentsComponent_ng_template_1_ng_container_1_Template, 2, 0, "ng-container", 12)(2, MyDocumentsComponent_ng_template_1_ng_container_2_Template, 2, 1, "ng-container", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const product_r9 = ctx.product;
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngSwitch", product_r9);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngSwitchCase", "Loan");
  }
}
function MyDocumentsComponent_ng_template_3_ng_container_1_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const context_r15 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"]().context;
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtextInterpolate1"]("\u00C5rsbesked ", context_r15, "");
  }
}
function MyDocumentsComponent_ng_template_3_ng_container_2_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](1, "Autogiromedgivande");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementContainerEnd"]();
  }
}
function MyDocumentsComponent_ng_template_3_ng_container_3_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](1, "L\u00E5neavtal");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementContainerEnd"]();
  }
}
function MyDocumentsComponent_ng_template_3_ng_container_4_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](1, "Villkors\u00E4ndring");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementContainerEnd"]();
  }
}
function MyDocumentsComponent_ng_template_3_ng_container_5_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const ctx_r22 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"]();
    const code_r14 = ctx_r22.code;
    const context_r15 = ctx_r22.context;
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtextInterpolate2"]("", code_r14, " ", context_r15, "");
  }
}
function MyDocumentsComponent_ng_template_3_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementContainerStart"](0, 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtemplate"](1, MyDocumentsComponent_ng_template_3_ng_container_1_Template, 2, 1, "ng-container", 12)(2, MyDocumentsComponent_ng_template_3_ng_container_2_Template, 2, 0, "ng-container", 12)(3, MyDocumentsComponent_ng_template_3_ng_container_3_Template, 2, 0, "ng-container", 12)(4, MyDocumentsComponent_ng_template_3_ng_container_4_Template, 2, 0, "ng-container", 12)(5, MyDocumentsComponent_ng_template_3_ng_container_5_Template, 2, 2, "ng-container", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const product_r13 = ctx.product;
    const code_r14 = ctx.code;
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngSwitch", product_r13 + "_" + code_r14);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngSwitchCase", "Loan_Other_AnnualStatement");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngSwitchCase", "Loan_DirectDebitConsent");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngSwitchCase", "Loan_InitialAgreement");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngSwitchCase", "Loan_MortgageLoanChangeTermsAgreement");
  }
}
class MyDocumentsComponent {
  constructor(apiService, config) {
    this.apiService = apiService;
    this.config = config;
  }
  ngOnInit() {
    let m = new Model(this.apiService.shared());
    let products = [];
    if (this.config.isLoansStandardEnabled()) {
      products.push(this.loadLoans(m));
    }
    Promise.all(products).then(_ => {
      m.sortDocuments();
      this.m = m;
    });
  }
  loadLoans(m) {
    return this.apiService.fetchCreditDocuments().then(x => {
      for (let document of x.Documents ?? []) {
        m.addLoanDocument(document);
      }
    });
  }
  static #_ = this.ɵfac = function MyDocumentsComponent_Factory(t) {
    return new (t || MyDocumentsComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵdirectiveInject"](_services_mypages_api_service__WEBPACK_IMPORTED_MODULE_2__.MyPagesApiService), _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵdirectiveInject"](_common_services_customer_pages_config_service__WEBPACK_IMPORTED_MODULE_3__.CustomerPagesConfigService));
  };
  static #_2 = this.ɵcmp = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵdefineComponent"]({
    type: MyDocumentsComponent,
    selectors: [["np-my-documents"]],
    decls: 5,
    vars: 1,
    consts: [[3, "initialData", 4, "ngIf"], ["productDisplayName", ""], ["documentDisplayName", ""], [3, "initialData"], ["active-tab", ""], [1, "header-light", "pt-2"], [1, "lined-table", "table"], [1, "col-xs-4"], [4, "ngFor", "ngForOf"], [4, "ngTemplateOutlet", "ngTemplateOutletContext"], ["target", "_blank", 1, "n-anchor", 3, "href"], [3, "ngSwitch"], [4, "ngSwitchCase"], [4, "ngSwitchDefault"]],
    template: function MyDocumentsComponent_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtemplate"](0, MyDocumentsComponent_mypages_shell_0_Template, 15, 2, "mypages-shell", 0)(1, MyDocumentsComponent_ng_template_1_Template, 3, 2, "ng-template", null, 1, _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtemplateRefExtractor"])(3, MyDocumentsComponent_ng_template_3_Template, 6, 5, "ng-template", null, 2, _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtemplateRefExtractor"]);
      }
      if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngIf", ctx.m);
      }
    },
    dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_5__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_5__.NgIf, _angular_common__WEBPACK_IMPORTED_MODULE_5__.NgTemplateOutlet, _angular_common__WEBPACK_IMPORTED_MODULE_5__.NgSwitch, _angular_common__WEBPACK_IMPORTED_MODULE_5__.NgSwitchCase, _angular_common__WEBPACK_IMPORTED_MODULE_5__.NgSwitchDefault, _components_mypages_shell_mypages_shell_component__WEBPACK_IMPORTED_MODULE_1__.MypagesShellComponent, _angular_common__WEBPACK_IMPORTED_MODULE_5__.DatePipe],
    encapsulation: 2
  });
}
class Model {
  constructor(customerPagesApiService) {
    this.customerPagesApiService = customerPagesApiService;
    this.shellInitialData = {
      activeMenuItemCode: _components_mypages_shell_mypages_shell_component__WEBPACK_IMPORTED_MODULE_1__.MyPagesMenuItemCode.Documents
    };
    this.documents = [];
  }
  addLoanDocument(document) {
    this.documents.push({
      Product: ProductCode.Loan,
      ProductId: document.CreditNr,
      TypeCode: document.DocumentTypeCode,
      Context: document.DocumentContext,
      Url: this.customerPagesApiService.getArchiveDocumentUrl(document.DocumentArchiveKey, true),
      Date: document.DocumentDate
    });
  }
  sortDocuments() {
    //valueOf is unix epoch
    this.documents.sort((x, y) => moment__WEBPACK_IMPORTED_MODULE_0__(y.Date).valueOf() - moment__WEBPACK_IMPORTED_MODULE_0__(x.Date).valueOf());
  }
}
var ProductCode;
(function (ProductCode) {
  ProductCode["Loan"] = "Loan";
})(ProductCode || (ProductCode = {}));

/***/ }),

/***/ 6341:
/*!*************************************************************************************!*\
  !*** ./projects/customerpages/src/app/mypages/pages/my-loans/my-loans.component.ts ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MyLoansComponent: () => (/* binding */ MyLoansComponent)
/* harmony export */ });
/* harmony import */ var C_Repository_BaCS_SelfContainedModules_ntech_backoffice_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 1670);
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! moment */ 8540);
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var src_app_common_services_ml_standard_functions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/common-services/ml-standard-functions */ 3136);
/* harmony import */ var src_app_common_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! src/app/common.types */ 198);
/* harmony import */ var _components_mypages_shell_mypages_shell_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../components/mypages-shell/mypages-shell.component */ 2968);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/core */ 1699);
/* harmony import */ var _services_mypages_api_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../services/mypages-api.service */ 2122);
/* harmony import */ var _common_services_customer_pages_config_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../common-services/customer-pages-config.service */ 5716);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/common */ 6575);
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/router */ 7947);











function MyLoansComponent_mypages_shell_0_ng_container_4_p_1_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](0, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtext"](1, "Fastighet");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
  }
}
function MyLoansComponent_mypages_shell_0_ng_container_4_p_2_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](0, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const block_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtextInterpolate"](block_r4.propertyId);
  }
}
const _c0 = a1 => ["/my/sl/loan", a1];
function MyLoansComponent_mypages_shell_0_ng_container_4_tr_5_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](0, "tr", 9)(1, "td", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](3, "td", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpipe"](5, "number");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](6, "td", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](7, "span", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const loan_r9 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("routerLink", _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpureFunction1"](6, _c0, loan_r9.creditNr));
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtextInterpolate"](loan_r9.creditNr);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpipeBind2"](5, 3, loan_r9.capitalBalanceAmount, "1.0-2"), " kr ");
  }
}
function MyLoansComponent_mypages_shell_0_ng_container_4_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](1, MyLoansComponent_mypages_shell_0_ng_container_4_p_1_Template, 2, 0, "p", 6)(2, MyLoansComponent_mypages_shell_0_ng_container_4_p_2_Template, 2, 1, "p", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](3, "table", 7)(4, "tbody");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](5, MyLoansComponent_mypages_shell_0_ng_container_4_tr_5_Template, 8, 8, "tr", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const block_r4 = ctx.$implicit;
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngIf", ctx_r1.m.isMl);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngIf", ctx_r1.m.isMl);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngForOf", block_r4.loans);
  }
}
function MyLoansComponent_mypages_shell_0_ng_container_5_tr_3_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](0, "tr")(1, "td", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](3, "td", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const loan_r12 = ctx.$implicit;
    const ctx_r11 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtextInterpolate2"](" ", loan_r12.creditNr, " - ", ctx_r11.getInactiveCreditText(loan_r12), " ");
  }
}
function MyLoansComponent_mypages_shell_0_ng_container_5_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](1, "table", 7)(2, "tbody");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](3, MyLoansComponent_mypages_shell_0_ng_container_5_tr_3_Template, 4, 2, "tr", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const block_r10 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngForOf", block_r10.loans);
  }
}
function MyLoansComponent_mypages_shell_0_table_6_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](0, "table", 7)(1, "tbody")(2, "tr")(3, "td", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtext"](4, "-");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]()()()();
  }
}
function MyLoansComponent_mypages_shell_0_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](0, "mypages-shell", 1)(1, "div", 2)(2, "h1", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](4, MyLoansComponent_mypages_shell_0_ng_container_4_Template, 6, 3, "ng-container", 4)(5, MyLoansComponent_mypages_shell_0_ng_container_5_Template, 4, 1, "ng-container", 4)(6, MyLoansComponent_mypages_shell_0_table_6_Template, 5, 0, "table", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("initialData", ctx_r0.m == null ? null : ctx_r0.m.shellInitialData);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtextInterpolate"](ctx_r0.m.title);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngForOf", ctx_r0.m.loanBlocks);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngForOf", ctx_r0.m.inactiveLoans);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngIf", ctx_r0.m && ctx_r0.m.loanBlocks.length === 0 && (ctx_r0.m.inactiveLoans == null ? null : ctx_r0.m.inactiveLoans.length) === 0);
  }
}
class MyLoansComponent {
  constructor(apiService, config) {
    this.apiService = apiService;
    this.config = config;
  }
  ngOnInit() {
    var _this = this;
    return (0,C_Repository_BaCS_SelfContainedModules_ntech_backoffice_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      const credits = yield _this.apiService.fetchCredits(null, true);
      let isMl = _this.config.isMortgageLoansStandardEnabled();
      let title = isMl ? 'Bolån' : 'Lån';
      let loanBlocks;
      let inactiveLoanBlocks;
      if (_this.config.isMortgageLoansStandardEnabled()) {
        loanBlocks = _this.getMlLoanBlocks(credits.ActiveCredits);
        inactiveLoanBlocks = _this.getMlLoanBlocks(credits.InactiveCredits);
      } else {
        loanBlocks = [{
          propertyId: '',
          loans: credits.ActiveCredits.map(x => {
            return {
              creditNr: x.CreditNr,
              capitalBalanceAmount: x.CapitalBalance
            };
          })
        }];
        inactiveLoanBlocks = [{
          propertyId: '',
          loans: credits.InactiveCredits?.map(x => {
            return {
              creditNr: x.CreditNr,
              capitalBalanceAmount: x.CapitalBalance,
              status: x.Status,
              endDate: x.EndDate
            };
          })
        }];
      }
      _this.m = new Model(title, isMl, loanBlocks, inactiveLoanBlocks);
    })();
  }
  getMlLoanBlocks(credits) {
    let blocks = {};
    for (let credit of credits) {
      if (!blocks[credit.MortgageLoan.CollateralId]) {
        blocks[credit.MortgageLoan.CollateralId] = {
          propertyId: (0,src_app_common_services_ml_standard_functions__WEBPACK_IMPORTED_MODULE_2__.createMortgagePropertyIdFromCollateralItems)(x => credit.MortgageLoan.CollateralStringItems[x], true),
          loans: []
        };
      }
      blocks[credit.MortgageLoan.CollateralId].loans.push({
        creditNr: credit.CreditNr,
        capitalBalanceAmount: credit.CapitalBalance,
        status: credit.Status,
        endDate: credit.EndDate
      });
    }
    return (0,src_app_common_types__WEBPACK_IMPORTED_MODULE_3__.getDictionaryValues)(blocks);
  }
  //todo create shared enum for CreditStatus
  getInactiveCreditText(credit) {
    const creditEndDateText = credit.endDate ? ` ${moment__WEBPACK_IMPORTED_MODULE_1__(credit.endDate).format('YYYY-MM-DD')}` : ' [datum saknas]';
    switch (credit.status) {
      case 'SentToDebtCollection':
        return 'skickat på inkasso' + creditEndDateText;
      case 'Settled':
      case 'WrittenOff':
        return 'avslutat sedan' + creditEndDateText;
      default:
        return '';
    }
  }
  static #_ = this.ɵfac = function MyLoansComponent_Factory(t) {
    return new (t || MyLoansComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdirectiveInject"](_services_mypages_api_service__WEBPACK_IMPORTED_MODULE_5__.MyPagesApiService), _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdirectiveInject"](_common_services_customer_pages_config_service__WEBPACK_IMPORTED_MODULE_6__.CustomerPagesConfigService));
  };
  static #_2 = this.ɵcmp = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdefineComponent"]({
    type: MyLoansComponent,
    selectors: [["np-my-loans"]],
    decls: 1,
    vars: 1,
    consts: [[3, "initialData", 4, "ngIf"], [3, "initialData"], ["active-tab", ""], [1, "header-light", "pt-2"], [4, "ngFor", "ngForOf"], ["class", "lined-table table pt-1", 4, "ngIf"], [4, "ngIf"], [1, "lined-table", "table", "pt-1"], ["class", "active-task-row", 3, "routerLink", 4, "ngFor", "ngForOf"], [1, "active-task-row", 3, "routerLink"], [1, "col-xs-6"], [1, "col-xs-5", "text-right"], [1, "text-right", "col-xs-1"], [1, "glyphicon", "glyphicon-play"], [1, "col-xs-11"], [1, "col-xs-1", "text-right"], ["colspan", "3"]],
    template: function MyLoansComponent_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](0, MyLoansComponent_mypages_shell_0_Template, 7, 5, "mypages-shell", 0);
      }
      if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngIf", ctx.m);
      }
    },
    dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_8__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_8__.NgIf, _angular_router__WEBPACK_IMPORTED_MODULE_9__.RouterLink, _components_mypages_shell_mypages_shell_component__WEBPACK_IMPORTED_MODULE_4__.MypagesShellComponent, _angular_common__WEBPACK_IMPORTED_MODULE_8__.DecimalPipe],
    encapsulation: 2
  });
}
class Model {
  constructor(title, isMl, loanBlocks, inactiveLoans) {
    this.title = title;
    this.isMl = isMl;
    this.loanBlocks = loanBlocks;
    this.inactiveLoans = inactiveLoans;
    this.shellInitialData = {
      activeMenuItemCode: _components_mypages_shell_mypages_shell_component__WEBPACK_IMPORTED_MODULE_4__.MyPagesMenuItemCode.Loans
    };
  }
}

/***/ }),

/***/ 3642:
/*!*******************************************************************************************!*\
  !*** ./projects/customerpages/src/app/mypages/pages/my-messages/my-messages.component.ts ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MyMessagesComponent: () => (/* binding */ MyMessagesComponent)
/* harmony export */ });
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/forms */ 8849);
/* harmony import */ var src_app_common_services_ntech_forms_helper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! src/app/common-services/ntech-forms-helper */ 7093);
/* harmony import */ var _shared_components_customer_messages_helper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../shared-components/customer-messages-helper */ 4799);
/* harmony import */ var _shared_components_secure_messages_edit_list_secure_messages_edit_list_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../shared-components/secure-messages-edit-list/secure-messages-edit-list.component */ 7163);
/* harmony import */ var _components_mypages_shell_mypages_shell_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../components/mypages-shell/mypages-shell.component */ 2968);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/core */ 1699);
/* harmony import */ var _common_services_customer_pages_config_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../common-services/customer-pages-config.service */ 5716);
/* harmony import */ var _common_services_customer_pages_api_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../common-services/customer-pages-api.service */ 7991);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/common */ 6575);












function MyMessagesComponent_mypages_shell_0_option_9_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelement"](0, "option", 11);
  }
  if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngValue", "");
  }
}
function MyMessagesComponent_mypages_shell_0_option_10_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "option", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const channel_r3 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngValue", channel_r3.uiId);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtextInterpolate1"](" ", channel_r3.uiText, " ");
  }
}
function MyMessagesComponent_mypages_shell_0_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "mypages-shell", 1)(1, "div", 2)(2, "h1", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](3, "Meddelanden");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](4, "div", 4)(5, "div")(6, "div", 5)(7, "form", 6)(8, "select", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtemplate"](9, MyMessagesComponent_mypages_shell_0_option_9_Template, 1, 1, "option", 8)(10, MyMessagesComponent_mypages_shell_0_option_10_Template, 2, 2, "option", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](11, "div", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelement"](12, "secure-messages-edit-list", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()()()();
  }
  if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("initialData", ctx_r0.m == null ? null : ctx_r0.m.shellInitialData);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](7);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("formGroup", ctx_r0.m.messageForm.form);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngIf", !ctx_r0.m.messageForm.getValue("channelUiId"));
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngForOf", ctx_r0.m.channels);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("initialData", ctx_r0.messageListInitialData);
  }
}
class MyMessagesComponent {
  constructor(fb, config, sharedApiService) {
    this.fb = fb;
    this.config = config;
    this.sharedApiService = sharedApiService;
  }
  ngOnInit() {
    //Use getSecureMessages to just load channels
    //This could be optimized to split into its own method if this becomes a problem
    let h = new _shared_components_customer_messages_helper__WEBPACK_IMPORTED_MODULE_1__.CustomerMessagesHelper(null, this.config, this.sharedApiService);
    h.getSecureMessages({
      skip: 0,
      take: 0
    }, false).then(x => {
      this.messageListInitialData = new _shared_components_secure_messages_edit_list_secure_messages_edit_list_component__WEBPACK_IMPORTED_MODULE_2__.SecureMessagesEditListComponentInitialData(false, true);
      this.reset(x.CustomerChannels, null);
    });
  }
  reset(channels, channelUiId) {
    let messageForm = new src_app_common_services_ntech_forms_helper__WEBPACK_IMPORTED_MODULE_0__.FormsHelper(this.fb.group({
      channelUiId: ['', _angular_forms__WEBPACK_IMPORTED_MODULE_7__.Validators.required]
    }));
    let m = new Model(messageForm);
    for (let channel of channels) {
      m.addChannel(channel.ChannelType, channel.ChannelId);
    }
    messageForm.form.valueChanges.subscribe(x => {
      let channelUiId = messageForm.getValue('channelUiId');
      let channel = m.findChannel(channelUiId);
      if (channel) {
        this.messageListInitialData.setActiveChannel(channel.channelType, channel.channelId);
      } else {
        this.messageListInitialData.removeActiveChannel();
      }
    });
    if (m.channels.length > 0) {
      messageForm.setValue('channelUiId', channelUiId ?? m.channels[0].uiId);
    }
    this.m = m;
  }
  static #_ = this.ɵfac = function MyMessagesComponent_Factory(t) {
    return new (t || MyMessagesComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵdirectiveInject"](_angular_forms__WEBPACK_IMPORTED_MODULE_7__.UntypedFormBuilder), _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵdirectiveInject"](_common_services_customer_pages_config_service__WEBPACK_IMPORTED_MODULE_4__.CustomerPagesConfigService), _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵdirectiveInject"](_common_services_customer_pages_api_service__WEBPACK_IMPORTED_MODULE_5__.CustomerPagesApiService));
  };
  static #_2 = this.ɵcmp = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵdefineComponent"]({
    type: MyMessagesComponent,
    selectors: [["np-my-messages"]],
    decls: 1,
    vars: 1,
    consts: [[3, "initialData", 4, "ngIf"], [3, "initialData"], ["active-tab", ""], [1, "header-light", "pt-2"], [1, "task-toggle"], [1, "col-xs4"], [3, "formGroup"], ["formControlName", "channelUiId", 1, "form-control"], [3, "ngValue", 4, "ngIf"], [3, "ngValue", 4, "ngFor", "ngForOf"], [1, "mt-1", "pb-2"], [3, "ngValue"]],
    template: function MyMessagesComponent_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtemplate"](0, MyMessagesComponent_mypages_shell_0_Template, 13, 5, "mypages-shell", 0);
      }
      if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngIf", ctx.m);
      }
    },
    dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_8__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_8__.NgIf, _shared_components_secure_messages_edit_list_secure_messages_edit_list_component__WEBPACK_IMPORTED_MODULE_2__.SecureMessagesEditListComponent, _angular_forms__WEBPACK_IMPORTED_MODULE_7__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_7__.NgSelectOption, _angular_forms__WEBPACK_IMPORTED_MODULE_7__["ɵNgSelectMultipleOption"], _angular_forms__WEBPACK_IMPORTED_MODULE_7__.SelectControlValueAccessor, _angular_forms__WEBPACK_IMPORTED_MODULE_7__.NgControlStatus, _angular_forms__WEBPACK_IMPORTED_MODULE_7__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_7__.FormGroupDirective, _angular_forms__WEBPACK_IMPORTED_MODULE_7__.FormControlName, _components_mypages_shell_mypages_shell_component__WEBPACK_IMPORTED_MODULE_3__.MypagesShellComponent],
    encapsulation: 2
  });
}
class Model {
  constructor(messageForm) {
    this.messageForm = messageForm;
    this.shellInitialData = {
      activeMenuItemCode: _components_mypages_shell_mypages_shell_component__WEBPACK_IMPORTED_MODULE_3__.MyPagesMenuItemCode.SecureMessage
    };
    this.channels = [];
  }
  addChannel(channelType, channelId) {
    this.channels.push({
      channelId: channelId,
      channelType: channelType,
      uiText: `${seChannelNames[channelType] || channelType} ${channelId === generalName ? '' : channelId}`.trimEnd(),
      uiId: `${channelType}#${channelId}`
    });
  }
  findChannel(uiId) {
    return this.channels.find(x => x.uiId === uiId);
  }
}
const generalName = 'General';
const seChannelNames = {
  Credit_UnsecuredLoan: 'Lån',
  Credit_MortgageLoan: 'Lån',
  SavingsAccount_StandardAccount: 'Sparkonto',
  Application_UnsecuredLoan: 'Ansökan',
  [generalName]: 'Övrigt'
};
//@ts-ignore TODO remove unused locals
const pageSize = 15;

/***/ }),

/***/ 6646:
/*!**********************************************************************************************************************************!*\
  !*** ./projects/customerpages/src/app/mypages/pages/mypages-overview/mypages-overview-loans/mypages-overview-loans.component.ts ***!
  \**********************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Model: () => (/* binding */ Model),
/* harmony export */   MypagesOverviewLoansComponent: () => (/* binding */ MypagesOverviewLoansComponent)
/* harmony export */ });
/* harmony import */ var src_app_common_services_ntech_math__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! src/app/common-services/ntech.math */ 3319);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ 1699);
/* harmony import */ var _services_mypages_api_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../services/mypages-api.service */ 2122);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common */ 6575);
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/router */ 7947);
/* harmony import */ var _components_unpaid_notifications_unpaid_notifications_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../components/unpaid-notifications/unpaid-notifications.component */ 7972);






const _c0 = a0 => [a0];
function MypagesOverviewLoansComponent_ng_container_0_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](1, "div", 1)(2, "div", 2)(3, "label");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](4, "L\u00E5n");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](5, "a", 3)(6, "h1");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](7);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵpipe"](8, "number");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]()()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](9, "h2", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](10, "Att betala");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelement"](11, "unpaid-notifications", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("routerLink", _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵpureFunction1"](6, _c0, ctx_r0.getLoanLink()));
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtextInterpolate1"]("", _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵpipeBind2"](8, 3, ctx_r0.m.totalBalanceAmount, "1.0-2"), " kr");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("initialData", ctx_r0.m.unpaidNotificationsInitialData);
  }
}
class MypagesOverviewLoansComponent {
  constructor(apiService) {
    this.apiService = apiService;
  }
  ngOnInit() {
    this.apiService.fetchCredits().then(x => {
      let m = {
        totalBalanceAmount: src_app_common_services_ntech_math__WEBPACK_IMPORTED_MODULE_0__.NTechMath.sum(x.ActiveCredits, x => x.CapitalBalance),
        unpaidNotificationsInitialData: {
          isOverview: true,
          credits: x.ActiveCredits
        },
        activeCredits: x.ActiveCredits
      };
      this.m = m;
    });
  }
  getLoanLink() {
    if (this.m.activeCredits.length === 1) {
      const creditNr = this.m.activeCredits.find(credit => credit.CreditNr !== undefined).CreditNr;
      return '/my/sl/loan/' + creditNr;
    }
    return '/my/loans';
  }
  static #_ = this.ɵfac = function MypagesOverviewLoansComponent_Factory(t) {
    return new (t || MypagesOverviewLoansComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵdirectiveInject"](_services_mypages_api_service__WEBPACK_IMPORTED_MODULE_1__.MyPagesApiService));
  };
  static #_2 = this.ɵcmp = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵdefineComponent"]({
    type: MypagesOverviewLoansComponent,
    selectors: [["mypages-overview-loans"]],
    decls: 1,
    vars: 1,
    consts: [[4, "ngIf"], [1, "row", "pt-3", "pb-3"], [1, "col-sm-12"], [1, "big-link", 3, "routerLink"], [1, "header-light", "pt-3"], [3, "initialData"]],
    template: function MypagesOverviewLoansComponent_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](0, MypagesOverviewLoansComponent_ng_container_0_Template, 12, 8, "ng-container", 0);
      }
      if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngIf", ctx.m);
      }
    },
    dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_4__.NgIf, _angular_router__WEBPACK_IMPORTED_MODULE_5__.RouterLink, _components_unpaid_notifications_unpaid_notifications_component__WEBPACK_IMPORTED_MODULE_2__.UnpaidNotificationsComponent, _angular_common__WEBPACK_IMPORTED_MODULE_4__.DecimalPipe],
    encapsulation: 2
  });
}
class Model {}

/***/ }),

/***/ 697:
/*!*****************************************************************************************************!*\
  !*** ./projects/customerpages/src/app/mypages/pages/mypages-overview/mypages-overview.component.ts ***!
  \*****************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Model: () => (/* binding */ Model),
/* harmony export */   MypagesOverviewComponent: () => (/* binding */ MypagesOverviewComponent)
/* harmony export */ });
/* harmony import */ var _components_mypages_shell_mypages_shell_component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../components/mypages-shell/mypages-shell.component */ 2968);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/core */ 1699);
/* harmony import */ var _common_services_customer_pages_config_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../common-services/customer-pages-config.service */ 5716);
/* harmony import */ var _services_mypages_api_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/mypages-api.service */ 2122);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/common */ 6575);
/* harmony import */ var _mypages_overview_loans_mypages_overview_loans_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./mypages-overview-loans/mypages-overview-loans.component */ 6646);







function MypagesOverviewComponent_mypages_shell_0_mypages_overview_loans_5_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelement"](0, "mypages-overview-loans");
  }
}
function MypagesOverviewComponent_mypages_shell_0_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](0, "mypages-shell", 1)(1, "div", 2)(2, "div", 3)(3, "h1", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](4, "\u00D6versikt");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtemplate"](5, MypagesOverviewComponent_mypages_shell_0_mypages_overview_loans_5_Template, 1, 0, "mypages-overview-loans", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()()();
  }
  if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("initialData", ctx_r0.m == null ? null : ctx_r0.m.shellInitialData);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngIf", ctx_r0.m.isStandardLoansActive);
  }
}
class MypagesOverviewComponent {
  constructor(config, apiService) {
    this.config = config;
    this.apiService = apiService;
  }
  ngOnInit() {
    this.apiService.fetchCredits(null, true).then(x => {
      this.m = {
        isStandardLoansActive: this.config.isLoansStandardEnabled(),
        shellInitialData: {
          activeMenuItemCode: _components_mypages_shell_mypages_shell_component__WEBPACK_IMPORTED_MODULE_0__.MyPagesMenuItemCode.Overview,
          hasNoCustomerRelation: x.ActiveCredits.length === 0 && x.InactiveCredits.length === 0
        }
      };
    });
  }
  static #_ = this.ɵfac = function MypagesOverviewComponent_Factory(t) {
    return new (t || MypagesOverviewComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵdirectiveInject"](_common_services_customer_pages_config_service__WEBPACK_IMPORTED_MODULE_1__.CustomerPagesConfigService), _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵdirectiveInject"](_services_mypages_api_service__WEBPACK_IMPORTED_MODULE_2__.MyPagesApiService));
  };
  static #_2 = this.ɵcmp = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵdefineComponent"]({
    type: MypagesOverviewComponent,
    selectors: [["np-mypages-overview"]],
    decls: 1,
    vars: 1,
    consts: [[3, "initialData", 4, "ngIf"], [3, "initialData"], ["active-tab", ""], [1, ""], [1, "header-light", "pt-3"], [4, "ngIf"]],
    template: function MypagesOverviewComponent_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtemplate"](0, MypagesOverviewComponent_mypages_shell_0_Template, 6, 2, "mypages-shell", 0);
      }
      if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngIf", ctx.m);
      }
    },
    dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_5__.NgIf, _mypages_overview_loans_mypages_overview_loans_component__WEBPACK_IMPORTED_MODULE_3__.MypagesOverviewLoansComponent, _components_mypages_shell_mypages_shell_component__WEBPACK_IMPORTED_MODULE_0__.MypagesShellComponent],
    encapsulation: 2
  });
}
class Model {}

/***/ }),

/***/ 6795:
/*!*****************************************************************************************************!*\
  !*** ./projects/customerpages/src/app/mypages/pages/mypages-testpage/mypages-testpage.component.ts ***!
  \*****************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MypagesTestpageComponent: () => (/* binding */ MypagesTestpageComponent)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ 1699);
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ 7947);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common */ 6575);
/* harmony import */ var _components_mypages_shell_mypages_shell_component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../components/mypages-shell/mypages-shell.component */ 2968);




function MypagesTestpageComponent_mypages_shell_0_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "mypages-shell", 1)(1, "div", 2)(2, "h1");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](4, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](5, "TODO: Bygg den h\u00E4r sidan");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()();
  }
  if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("initialData", ctx_r0.shellInitialData);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](ctx_r0.shellInitialData.activeMenuItemCode);
  }
}
class MypagesTestpageComponent {
  constructor(route) {
    this.route = route;
  }
  ngOnInit() {
    this.route.params.subscribe(x => {
      this.shellInitialData = {
        activeMenuItemCode: x['menuCode']
      };
    });
  }
  static #_ = this.ɵfac = function MypagesTestpageComponent_Factory(t) {
    return new (t || MypagesTestpageComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_2__.ActivatedRoute));
  };
  static #_2 = this.ɵcmp = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
    type: MypagesTestpageComponent,
    selectors: [["np-mypages-testpage"]],
    decls: 1,
    vars: 1,
    consts: [[3, "initialData", 4, "ngIf"], [3, "initialData"], ["active-tab", ""]],
    template: function MypagesTestpageComponent_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](0, MypagesTestpageComponent_mypages_shell_0_Template, 6, 2, "mypages-shell", 0);
      }
      if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.shellInitialData);
      }
    },
    dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_3__.NgIf, _components_mypages_shell_mypages_shell_component__WEBPACK_IMPORTED_MODULE_0__.MypagesShellComponent],
    encapsulation: 2
  });
}

/***/ }),

/***/ 2122:
/*!********************************************************************************!*\
  !*** ./projects/customerpages/src/app/mypages/services/mypages-api.service.ts ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Address: () => (/* binding */ Address),
/* harmony export */   CustomerInfo: () => (/* binding */ CustomerInfo),
/* harmony export */   MyPagesApiService: () => (/* binding */ MyPagesApiService)
/* harmony export */ });
/* harmony import */ var C_Repository_BaCS_SelfContainedModules_ntech_backoffice_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 1670);
/* harmony import */ var src_app_common_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/app/common.types */ 198);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ 1699);
/* harmony import */ var _common_services_customer_pages_api_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../common-services/customer-pages-api.service */ 7991);




class MyPagesApiService {
  constructor(apiService) {
    this.apiService = apiService;
  }
  shared() {
    return this.apiService;
  }
  fetchCustomerInfo() {
    return this.apiService.postLocal('Api/FetchCustomerInfo', {});
  }
  updateCustomerValues(properties) {
    return this.apiService.post('nCustomer', 'Api/ContactInfo/UpdateMultiple', {
      Properties: properties
    });
  }
  fetchCredits(includeCustomerPersonalData, includeInactiveLoans) {
    return this.apiService.post('nCredit', 'api/LoanStandard/CustomerPages/Fetch-Loans', {
      includeCustomerPersonalData,
      includeInactiveLoans
    });
  }
  fetchLoanAmortizationPlan(creditNr) {
    var _this = this;
    return (0,C_Repository_BaCS_SelfContainedModules_ntech_backoffice_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      let result = yield _this.apiService.post('nCredit', 'api/LoanStandard/CustomerPages/Fetch-Loan-AmortizationPlan', {
        creditNr
      });
      result.AmortizationBasis = (0,src_app_common_types__WEBPACK_IMPORTED_MODULE_1__.toCamelCase)(result.AmortizationBasis);
      return result;
    })();
  }
  fetchUnsecuredLoansInterestHistory(creditNr) {
    return this.apiService.post('nCredit', 'api/LoanStandard/CustomerPages/Fetch-Interest-History', {
      creditNr
    });
  }
  fetchCapitalTransactionHistory(creditNr) {
    return this.apiService.post('nCredit', 'api/LoanStandard/CustomerPages/Fetch-Capital-Transactions', {
      creditNr
    });
  }
  fetchCreditDocuments() {
    return this.apiService.post('nCredit', 'api/LoanStandard/CustomerPages/Fetch-Documents', {});
  }
  static #_ = this.ɵfac = function MyPagesApiService_Factory(t) {
    return new (t || MyPagesApiService)(_angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵinject"](_common_services_customer_pages_api_service__WEBPACK_IMPORTED_MODULE_2__.CustomerPagesApiService));
  };
  static #_2 = this.ɵprov = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵdefineInjectable"]({
    token: MyPagesApiService,
    factory: MyPagesApiService.ɵfac,
    providedIn: 'root'
  });
}
class Address {}
// Any data that does not exist in the database will be returned, but as null, even the Address.
class CustomerInfo {}

/***/ }),

/***/ 8752:
/*!***********************************************************************************************************!*\
  !*** ./projects/customerpages/src/app/shared-components/applications-list/applications-list.component.ts ***!
  \***********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ApplicationsListComponent: () => (/* binding */ ApplicationsListComponent)
/* harmony export */ });
/* harmony import */ var C_Repository_BaCS_SelfContainedModules_ntech_backoffice_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 1670);
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! moment */ 8540);
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _customer_messages_helper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../customer-messages-helper */ 4799);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/core */ 1699);
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/router */ 7947);
/* harmony import */ var _common_services_customer_pages_config_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../common-services/customer-pages-config.service */ 5716);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/common */ 6575);







function ApplicationsListComponent_div_0_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](0, "div", 2)(1, "div", 3)(2, "p", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](3, " Du verkar inte ha n\u00E5gon aktiv eller avslutad kundrelation med oss. ");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()()();
  }
}
function ApplicationsListComponent_div_1_ng_container_4_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementContainer"](0);
  }
}
function ApplicationsListComponent_div_1_ng_container_5_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementContainer"](0);
  }
}
function ApplicationsListComponent_div_1_ng_container_6_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementContainer"](0);
  }
}
const _c0 = a0 => ({
  applications: a0,
  isActive: true,
  title: "Aktiva ans\u00F6kningar",
  paddingClass: "pt-8"
});
const _c1 = a0 => ({
  applications: a0,
  isActive: false,
  title: "Inaktiva ans\u00F6kningar",
  paddingClass: "pt-8"
});
const _c2 = a0 => ({
  applications: a0,
  isActive: false,
  title: "Godk\u00E4nda ans\u00F6kningar",
  paddingClass: "pt-8"
});
function ApplicationsListComponent_div_1_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](0, "div", 2)(1, "div", 3)(2, "h1", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](3, "Ans\u00F6kningar");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtemplate"](4, ApplicationsListComponent_div_1_ng_container_4_Template, 1, 0, "ng-container", 5)(5, ApplicationsListComponent_div_1_ng_container_5_Template, 1, 0, "ng-container", 5)(6, ApplicationsListComponent_div_1_ng_container_6_Template, 1, 0, "ng-container", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"]();
    const _r3 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵreference"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngTemplateOutlet", _r3)("ngTemplateOutletContext", _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpureFunction1"](6, _c0, ctx_r1.m.activeApplications));
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngTemplateOutlet", _r3)("ngTemplateOutletContext", _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpureFunction1"](8, _c1, ctx_r1.m.rejectedOrCancelledApplications));
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngTemplateOutlet", _r3)("ngTemplateOutletContext", _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpureFunction1"](10, _c2, ctx_r1.m.loanCreatedApplications));
  }
}
function ApplicationsListComponent_ng_template_2_div_0_tr_7_span_5_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](0, "span", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelement"](1, "span", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](2, "span", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const a_r13 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtextInterpolate"](a_r13.unreadCount);
  }
}
function ApplicationsListComponent_ng_template_2_div_0_tr_7_Template(rf, ctx) {
  if (rf & 1) {
    const _r17 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](0, "tr", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵlistener"]("click", function ApplicationsListComponent_ng_template_2_div_0_tr_7_Template_tr_click_0_listener($event) {
      const restoredCtx = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵrestoreView"](_r17);
      const a_r13 = restoredCtx.$implicit;
      const ctx_r16 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"](3);
      return _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵresetView"](ctx_r16.navigateToApplication(a_r13.applicationNr, $event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](1, "td", 10)(2, "div", 11)(3, "p", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](4, " Ans\u00F6kan om l\u00E5n");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtemplate"](5, ApplicationsListComponent_ng_template_2_div_0_tr_7_span_5_Template, 4, 1, "span", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelement"](6, "br");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](7, "p", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](8);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpipe"](9, "date");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](10, "div", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelement"](11, "span", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()()();
  }
  if (rf & 2) {
    const a_r13 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngIf", a_r13.unreadCount > 0);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpipeBind2"](9, 2, a_r13.applicationDate, "short"));
  }
}
function ApplicationsListComponent_ng_template_2_div_0_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](0, "div")(1, "table", 7)(2, "thead")(3, "tr")(4, "th");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](6, "tbody");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtemplate"](7, ApplicationsListComponent_ng_template_2_div_0_tr_7_Template, 12, 5, "tr", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()()();
  }
  if (rf & 2) {
    const ctx_r18 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"]();
    const paddingClass_r10 = ctx_r18.paddingClass;
    const title_r9 = ctx_r18.title;
    const applications_r7 = ctx_r18.applications;
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵclassMap"](paddingClass_r10);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtextInterpolate"](title_r9);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngForOf", applications_r7);
  }
}
function ApplicationsListComponent_ng_template_2_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtemplate"](0, ApplicationsListComponent_ng_template_2_div_0_Template, 8, 5, "div", 6);
  }
  if (rf & 2) {
    const applications_r7 = ctx.applications;
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngIf", applications_r7 && applications_r7.length > 0);
  }
}
class ApplicationsListComponent {
  constructor(router, config) {
    this.router = router;
    this.config = config;
  }
  ngOnChanges(changes) {
    var _this = this;
    return (0,C_Repository_BaCS_SelfContainedModules_ntech_backoffice_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      _this.m = null;
      if (!_this.initialData) {
        return;
      }
      let applications = _this.initialData.applications;
      let unreadCounts = yield _this.getUnreadCounts(_this.initialData.applications);
      let m = {
        activeApplications: applications.filter(x => x.IsActive).map(x => {
          return {
            applicationNr: x.ApplicationNr,
            applicationDate: moment__WEBPACK_IMPORTED_MODULE_1__(x.ApplicationDate).toDate(),
            unreadCount: unreadCounts[x.ApplicationNr]
          };
        }),
        rejectedOrCancelledApplications: applications.filter(x => x.IsRejected || x.IsCancelled).map(x => {
          return {
            applicationNr: x.ApplicationNr,
            applicationDate: moment__WEBPACK_IMPORTED_MODULE_1__(x.ApplicationDate).toDate(),
            isRejected: x.IsRejected,
            unreadCount: unreadCounts[x.ApplicationNr]
          };
        }),
        loanCreatedApplications: applications.filter(x => x.IsFinalDecisionMade).map(x => {
          return {
            applicationNr: x.ApplicationNr,
            applicationDate: moment__WEBPACK_IMPORTED_MODULE_1__(x.ApplicationDate).toDate(),
            creditNr: x.CreditNr,
            unreadCount: unreadCounts[x.ApplicationNr]
          };
        })
      };
      _this.m = m;
    })();
  }
  navigateToApplication(applicationNr, evt) {
    evt?.preventDefault();
    let routePath = this.initialData.isMortgageLoan ? 'mortgage-loan-applications/secure/application' : '/unsecured-loan-applications/application';
    this.router.navigate([routePath, applicationNr]);
  }
  getUnreadCounts(applications) {
    if (this.config.isFeatureEnabled('ntech.feature.securemessages')) {
      let result = {};
      let lookups = [];
      for (let application of applications) {
        let helper = new _customer_messages_helper__WEBPACK_IMPORTED_MODULE_2__.CustomerMessagesHelper(application.ApplicationNr, this.config, this.initialData.sharedApiService);
        lookups.push(helper.getSecureMessagesUnreadByCustomerCount().then(x => {
          result[application.ApplicationNr] = x.UnreadCount;
        }));
      }
      return Promise.all(lookups).then(_ => {
        return result;
      });
    } else {
      let result = {};
      for (let a of applications) {
        result[a.ApplicationNr] = 0;
      }
      return new Promise(resolve => resolve(result));
    }
  }
  hasCustomerRelation() {
    return this.m.activeApplications.length > 0 || this.m.loanCreatedApplications.length > 0 || this.m.rejectedOrCancelledApplications.length > 0;
  }
  static #_ = this.ɵfac = function ApplicationsListComponent_Factory(t) {
    return new (t || ApplicationsListComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_5__.Router), _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵdirectiveInject"](_common_services_customer_pages_config_service__WEBPACK_IMPORTED_MODULE_3__.CustomerPagesConfigService));
  };
  static #_2 = this.ɵcmp = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵdefineComponent"]({
    type: ApplicationsListComponent,
    selectors: [["applications-list"]],
    inputs: {
      initialData: "initialData"
    },
    features: [_angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵNgOnChangesFeature"]],
    decls: 4,
    vars: 2,
    consts: [["class", "flex-container", 4, "ngIf"], ["applicationsTable", ""], [1, "flex-container"], [1, "align-center"], [1, "text-center"], [4, "ngTemplateOutlet", "ngTemplateOutletContext"], [3, "class", 4, "ngIf"], [1, "table", "application-table"], ["class", "application-row", 3, "click", 4, "ngFor", "ngForOf"], [1, "application-row", 3, "click"], [1, "clear-children"], [1, "col-xs-10"], [1, "font-weight-bold", "no-margin"], ["class", "envelope-icon envelope-icon-margin", 4, "ngIf"], [1, "no-margin"], [1, "col-xs-2", "icon-container"], [1, "glyphicon-play", "glyphicon"], [1, "envelope-icon", "envelope-icon-margin"], [1, "glyphicon", "glyphicon-envelope"], [1, "unread-message"]],
    template: function ApplicationsListComponent_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtemplate"](0, ApplicationsListComponent_div_0_Template, 4, 0, "div", 0)(1, ApplicationsListComponent_div_1_Template, 7, 12, "div", 0)(2, ApplicationsListComponent_ng_template_2_Template, 1, 1, "ng-template", null, 1, _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtemplateRefExtractor"]);
      }
      if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngIf", ctx.m && !ctx.hasCustomerRelation());
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngIf", ctx.m && ctx.hasCustomerRelation());
      }
    },
    dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_6__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_6__.NgIf, _angular_common__WEBPACK_IMPORTED_MODULE_6__.NgTemplateOutlet, _angular_common__WEBPACK_IMPORTED_MODULE_6__.DatePipe],
    styles: [".application-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\n  padding-top: 20px;\n  padding-bottom: 20px;\n  padding-left: 0px;\n  \n\n  display: flex;\n  display: -webkit-flex;\n  flex-wrap: wrap;\n  align-items: center;\n}\n\n.application-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\n  font-weight: normal;\n  padding-left: 0px;\n  padding-right: 0px;\n}\n\n.application-row[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\n  margin: 0;\n}\n\n.application-row[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] {\n  padding-left: 0px;\n  padding-right: 0px;\n}\n\n.application-row[_ngcontent-%COMP%]:hover, .application-row[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%] {\n  background-color: #034480;\n  cursor: pointer;\n  color: #fff;\n}\n\n.icon-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\n  float: right;\n  color: rgb(6, 68, 127);\n}\n\n.application-row[_ngcontent-%COMP%]:hover   .icon-container[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\n  color: white;\n}\n\n.overview-userinfo[_ngcontent-%COMP%] {\n  font-size: smaller;\n  margin-top: 20px;\n  margin-bottom: 20px;\n}\n\n.envelope-icon-margin[_ngcontent-%COMP%] {\n  margin-left: 10px;\n}\n\n@media (max-width: 767px) {\n  .overview-userinfo[_ngcontent-%COMP%] {\n    font-size: x-small;\n  }\n}\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3Byb2plY3RzL2N1c3RvbWVycGFnZXMvc3JjL2FwcC9zaGFyZWQtY29tcG9uZW50cy9hcHBsaWNhdGlvbnMtbGlzdC9hcHBsaWNhdGlvbnMtbGlzdC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGlCQUFBO0VBQ0Esb0JBQUE7RUFDQSxpQkFBQTtFQUVBLDJGQUFBO0VBQ0EsYUFBQTtFQUNBLHFCQUFBO0VBQ0EsZUFBQTtFQUNBLG1CQUFBO0FBQUY7O0FBR0E7RUFDRSxtQkFBQTtFQUNBLGlCQUFBO0VBQ0Esa0JBQUE7QUFBRjs7QUFHQTtFQUNFLFNBQUE7QUFBRjs7QUFHQTtFQUNFLGlCQUFBO0VBQ0Esa0JBQUE7QUFBRjs7QUFHQTs7RUFFRSx5QkFBQTtFQUNBLGVBQUE7RUFDQSxXQUFBO0FBQUY7O0FBR0E7RUFDRSxZQUFBO0VBQ0Esc0JBQUE7QUFBRjs7QUFHQTtFQUNFLFlBQUE7QUFBRjs7QUFHQTtFQUNFLGtCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxtQkFBQTtBQUFGOztBQUdBO0VBQ0UsaUJBQUE7QUFBRjs7QUFHQTtFQUNFO0lBQ0Usa0JBQUE7RUFBRjtBQUNGIiwic291cmNlc0NvbnRlbnQiOlsiLmFwcGxpY2F0aW9uLXJvdyB0ZCB7XHJcbiAgcGFkZGluZy10b3A6IDIwcHg7XHJcbiAgcGFkZGluZy1ib3R0b206IDIwcHg7XHJcbiAgcGFkZGluZy1sZWZ0OiAwcHg7XHJcblxyXG4gIC8qIEludGVudCBpcyB0byBtYWtlIHRoZSBjb2x1bW5zIGhhdmUgZXF1YWwgaGVpZ2h0IGFuZCB0aGVuIGNlbnRlciB0aGUgY29udGVudCB2ZXJ0aWNhbGx5ICovXHJcbiAgZGlzcGxheTogZmxleDtcclxuICBkaXNwbGF5OiAtd2Via2l0LWZsZXg7XHJcbiAgZmxleC13cmFwOiB3cmFwO1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbn1cclxuXHJcbi5hcHBsaWNhdGlvbi10YWJsZSB0aCB7XHJcbiAgZm9udC13ZWlnaHQ6IG5vcm1hbDtcclxuICBwYWRkaW5nLWxlZnQ6IDBweDtcclxuICBwYWRkaW5nLXJpZ2h0OiAwcHg7XHJcbn1cclxuXHJcbi5hcHBsaWNhdGlvbi1yb3cgcCB7XHJcbiAgbWFyZ2luOiAwO1xyXG59XHJcblxyXG4uYXBwbGljYXRpb24tcm93IGRpdiB7XHJcbiAgcGFkZGluZy1sZWZ0OiAwcHg7XHJcbiAgcGFkZGluZy1yaWdodDogMHB4O1xyXG59XHJcblxyXG4uYXBwbGljYXRpb24tcm93OmhvdmVyLFxyXG4uYXBwbGljYXRpb24tcm93OmhvdmVyIGEge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICMwMzQ0ODA7XHJcbiAgY3Vyc29yOiBwb2ludGVyO1xyXG4gIGNvbG9yOiAjZmZmO1xyXG59XHJcblxyXG4uaWNvbi1jb250YWluZXIgc3BhbiB7XHJcbiAgZmxvYXQ6IHJpZ2h0O1xyXG4gIGNvbG9yOiByZ2IoNiwgNjgsIDEyNyk7XHJcbn1cclxuXHJcbi5hcHBsaWNhdGlvbi1yb3c6aG92ZXIgLmljb24tY29udGFpbmVyIHNwYW4ge1xyXG4gIGNvbG9yOiB3aGl0ZTtcclxufVxyXG5cclxuLm92ZXJ2aWV3LXVzZXJpbmZvIHtcclxuICBmb250LXNpemU6IHNtYWxsZXI7XHJcbiAgbWFyZ2luLXRvcDogMjBweDtcclxuICBtYXJnaW4tYm90dG9tOiAyMHB4O1xyXG59XHJcblxyXG4uZW52ZWxvcGUtaWNvbi1tYXJnaW4ge1xyXG4gIG1hcmdpbi1sZWZ0OiAxMHB4O1xyXG59XHJcblxyXG5AbWVkaWEgKG1heC13aWR0aDogNzY3cHgpIHtcclxuICAub3ZlcnZpZXctdXNlcmluZm8ge1xyXG4gICAgZm9udC1zaXplOiB4LXNtYWxsO1xyXG4gIH1cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9 */"]
  });
}

/***/ }),

/***/ 738:
/*!***********************************************************************************************************!*\
  !*** ./projects/customerpages/src/app/shared-components/calculator-slider/calculator-slider.component.ts ***!
  \***********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CalculatorSliderComponent: () => (/* binding */ CalculatorSliderComponent),
/* harmony export */   CalculatorSliderInitialData: () => (/* binding */ CalculatorSliderInitialData)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ 1699);
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/forms */ 8849);
/* harmony import */ var ngx_slider_v2__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ngx-slider-v2 */ 9566);



class CalculatorSliderComponent {
  constructor() {}
  ngOnInit() {}
  ngOnChanges(changes) {
    this.m = null;
    if (!this.initialData) {
      return;
    }
    let i = this.initialData;
    this.m = {
      sliderOptions: {
        floor: i.minValue,
        ceil: i.maxValue,
        step: i.stepSize,
        showSelectionBar: true,
        translate: (value, label) => {
          return ''; //Hide the label above the pointer
        }
      },
      formControlName: i.formControlName,
      form: i.form
    };
  }
  tickSlider(isUp) {
    let v = parseInt(this.m.form.getValue(this.m.formControlName));
    v = v + (isUp ? 1 : -1) * (this.initialData.tickButtonStepSize ?? this.initialData.stepSize);
    this.m.form.setValue(this.m.formControlName, v.toString());
  }
  static #_ = this.ɵfac = function CalculatorSliderComponent_Factory(t) {
    return new (t || CalculatorSliderComponent)();
  };
  static #_2 = this.ɵcmp = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({
    type: CalculatorSliderComponent,
    selectors: [["calculator-slider"]],
    inputs: {
      initialData: "initialData"
    },
    features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]],
    decls: 10,
    vars: 3,
    consts: [[1, "row", 3, "formGroup"], [1, "col-xs-2", "col-sm-1"], [1, "n-icon-btn", "n-blue-btn", 3, "click"], [1, "glyphicon", "glyphicon-minus", "glyphicon-centered"], [1, "col-xs-8", "col-sm-10", "pt-2"], [1, "calculator-slider"], [1, "calculator-slider", 3, "formControlName", "options"], [1, "col-xs-2", "col-sm-1", "text-right"], [1, "glyphicon", "glyphicon-plus", "glyphicon-centered"]],
    template: function CalculatorSliderComponent_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0)(1, "div", 1)(2, "button", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function CalculatorSliderComponent_Template_button_click_2_listener() {
          return ctx.tickSlider(false);
        });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](3, "span", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "div", 4)(5, "div", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](6, "ngx-slider", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "div", 7)(8, "button", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function CalculatorSliderComponent_Template_button_click_8_listener() {
          return ctx.tickSlider(true);
        });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](9, "span", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]()()();
      }
      if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("formGroup", ctx.m == null ? null : ctx.m.form == null ? null : ctx.m.form.form);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("formControlName", ctx.m.formControlName)("options", ctx.m.sliderOptions);
      }
    },
    dependencies: [_angular_forms__WEBPACK_IMPORTED_MODULE_1__.NgControlStatus, _angular_forms__WEBPACK_IMPORTED_MODULE_1__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_1__.FormGroupDirective, _angular_forms__WEBPACK_IMPORTED_MODULE_1__.FormControlName, ngx_slider_v2__WEBPACK_IMPORTED_MODULE_2__.SliderComponent],
    encapsulation: 2
  });
}
class CalculatorSliderInitialData {}
class Model {}

/***/ }),

/***/ 4799:
/*!**************************************************************************************!*\
  !*** ./projects/customerpages/src/app/shared-components/customer-messages-helper.ts ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CustomerMessagesHelper: () => (/* binding */ CustomerMessagesHelper)
/* harmony export */ });
/*
This class exists to isolate the tracking of unread count for customers
across the different contexts.
The issue is that a customer context has two different types:
- For applications it's just a single channel type + id
- For mypages though it's all loans, savings accounts and the general channel so more of a family of channel types
*/
class CustomerMessagesHelper {
  constructor(singleApplicationNr,
  //If this is missing it's interpreted as the my pages context
  config, apiService) {
    this.singleApplicationNr = singleApplicationNr;
    this.config = config;
    this.apiService = apiService;
  }
  getSecureMessages(paging, markAsRead) {
    let filter = this.getFilter();
    return this.apiService.postLocal('api/embedded-customerpages/messages', {
      skipCount: paging?.skip,
      takeCount: paging?.take,
      onlyTheseChannelTypes: filter.onlyTheseChannelTypes,
      channelType: filter.onlyThisChannel?.channelType,
      channelId: filter.onlyThisChannel?.channelId,
      markAsReadByCustomerContext: markAsRead ? filter.markAsReadContextName : null
    });
  }
  getSecureMessagesUnreadByCustomerCount() {
    let filter = this.getFilter();
    return this.apiService.postLocal('api/embedded-customerpages/messages-unread-count', {
      markAsReadByCustomerContext: filter.markAsReadContextName,
      onlyTheseChannelTypes: filter.onlyTheseChannelTypes,
      channelType: filter.onlyThisChannel?.channelType,
      channelId: filter.onlyThisChannel?.channelId
    });
  }
  sendSecureMessage(channelType, channelId, text, textFormat, attachedFile) {
    return this.apiService.postLocal('api/embedded-customerpages/send-secure-message', {
      channelType,
      channelId,
      text,
      textFormat,
      attachedFileAsDataUrl: attachedFile?.dataUrl,
      attachedFileName: attachedFile?.name
    });
  }
  getFilter() {
    return {
      markAsReadContextName: this.getMarkAsReadContextName(),
      onlyTheseChannelTypes: this.singleApplicationNr ? null : this.getMyPagesChannelTypes(),
      onlyThisChannel: this.singleApplicationNr ? {
        channelType: this.getApplicationChannelType(),
        channelId: this.singleApplicationNr
      } : null
    };
  }
  getApplicationChannelType() {
    if (this.config.isFeatureEnabled('ntech.feature.unsecuredloans.standard')) {
      return 'Application_UnsecuredLoan';
    } else if (this.config.isFeatureEnabled('ntech.feature.mortgageloans.standard')) {
      return 'Application_MortgageLoan';
    } else {
      throw new Error('Not implemented');
    }
  }
  getMyPagesChannelTypes() {
    let h = [];
    if (this.config.isFeatureEnabled('ntech.feature.unsecuredloans.standard')) h.push('Credit_UnsecuredLoan');
    if (this.config.isFeatureEnabled('ntech.feature.mortgageloans.standard')) h.push('Credit_MortgageLoan');
    if (this.config.isFeatureEnabled('ntech.feature.savingsstandard')) h.push('SavingsAccount_StandardAccount');
    h.push('General');
    return h;
  }
  getMarkAsReadContextName() {
    return this.singleApplicationNr ? `Application_${this.singleApplicationNr}` : 'MyPages';
  }
}

/***/ }),

/***/ 335:
/*!***********************************************************************************************************************************************!*\
  !*** ./projects/customerpages/src/app/shared-components/customer-pages-application-messages/customer-pages-application-messages.component.ts ***!
  \***********************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CustomerPagesApplicationMessagesComponent: () => (/* binding */ CustomerPagesApplicationMessagesComponent),
/* harmony export */   CustomerPagesApplicationMessagesInitialData: () => (/* binding */ CustomerPagesApplicationMessagesInitialData)
/* harmony export */ });
/* harmony import */ var _customer_messages_helper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../customer-messages-helper */ 4799);
/* harmony import */ var _secure_messages_edit_list_secure_messages_edit_list_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../secure-messages-edit-list/secure-messages-edit-list.component */ 7163);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/core */ 1699);
/* harmony import */ var _common_services_customer_pages_config_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../common-services/customer-pages-config.service */ 5716);
/* harmony import */ var _common_services_customer_pages_api_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../common-services/customer-pages-api.service */ 7991);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/common */ 6575);







function CustomerPagesApplicationMessagesComponent_div_0_span_5_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](0, "span", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtextInterpolate"](ctx_r1.m.nrOfUnreadMessages);
  }
}
function CustomerPagesApplicationMessagesComponent_div_0_div_11_Template(rf, ctx) {
  if (rf & 1) {
    const _r4 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](0, "div", 12)(1, "secure-messages-edit-list", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵlistener"]("messagesLoaded", function CustomerPagesApplicationMessagesComponent_div_0_div_11_Template_secure_messages_edit_list_messagesLoaded_1_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵrestoreView"](_r4);
      const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"](2);
      return _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵresetView"](ctx_r3.onMessagesLoaded($event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("initialData", ctx_r2.m.messageListInitialData);
  }
}
const _c0 = (a0, a1) => ({
  "task-toggle-expanded": a0,
  "task-toggle-contracted": a1
});
const _c1 = (a0, a1) => ({
  "glyphicon-triangle-bottom": a0,
  "glyphicon-plus": a1
});
function CustomerPagesApplicationMessagesComponent_div_0_Template(rf, ctx) {
  if (rf & 1) {
    const _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](0, "div", 1)(1, "div", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵlistener"]("click", function CustomerPagesApplicationMessagesComponent_div_0_Template_div_click_1_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵrestoreView"](_r6);
      const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵresetView"](ctx_r5.toggleExpanded($event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](2, "div", 3)(3, "div", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelement"](4, "span", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtemplate"](5, CustomerPagesApplicationMessagesComponent_div_0_span_5_Template, 2, 1, "span", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](6, "div", 7)(7, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](8, "Meddelande");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](9, "div", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelement"](10, "span", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtemplate"](11, CustomerPagesApplicationMessagesComponent_div_0_div_11_Template, 2, 1, "div", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpureFunction2"](4, _c0, ctx_r0.m.isExpanded, !ctx_r0.m.isExpanded));
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngIf", ctx_r0.m.nrOfUnreadMessages > 0);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpureFunction2"](7, _c1, ctx_r0.m.isExpanded, !ctx_r0.m.isExpanded));
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngIf", ctx_r0.m.isExpanded);
  }
}
class CustomerPagesApplicationMessagesComponent {
  constructor(config, apiService) {
    this.config = config;
    this.apiService = apiService;
  }
  ngOnInit() {}
  ngOnChanges(changes) {
    this.m = null;
    if (!this.initialData) {
      return;
    }
    let messageListInitialData = new _secure_messages_edit_list_secure_messages_edit_list_component__WEBPACK_IMPORTED_MODULE_1__.SecureMessagesEditListComponentInitialData(true, this.initialData.isApplicationActive || this.initialData.isInactiveMessagingAllowed);
    let channelType = this.initialData.isMortgagaeLoan ? 'Application_MortgageLoan' : 'Application_UnsecuredLoan';
    messageListInitialData.setActiveChannel(channelType, this.initialData.applicationNr);
    let h = new _customer_messages_helper__WEBPACK_IMPORTED_MODULE_0__.CustomerMessagesHelper(this.initialData.applicationNr, this.config, this.apiService);
    h.getSecureMessagesUnreadByCustomerCount().then(x => {
      this.m = {
        isExpanded: this.initialData.isInitiallyExpanded,
        nrOfUnreadMessages: x.UnreadCount,
        messageListInitialData: messageListInitialData
      };
    });
  }
  toggleExpanded(evt) {
    if (evt) {
      evt.preventDefault();
    }
    this.m.isExpanded = !this.m.isExpanded;
  }
  onMessagesLoaded(_) {
    this.m.nrOfUnreadMessages = 0;
  }
  static #_ = this.ɵfac = function CustomerPagesApplicationMessagesComponent_Factory(t) {
    return new (t || CustomerPagesApplicationMessagesComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵdirectiveInject"](_common_services_customer_pages_config_service__WEBPACK_IMPORTED_MODULE_2__.CustomerPagesConfigService), _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵdirectiveInject"](_common_services_customer_pages_api_service__WEBPACK_IMPORTED_MODULE_3__.CustomerPagesApiService));
  };
  static #_2 = this.ɵcmp = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵdefineComponent"]({
    type: CustomerPagesApplicationMessagesComponent,
    selectors: [["customer-pages-application-messages"]],
    inputs: {
      initialData: "initialData"
    },
    features: [_angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵNgOnChangesFeature"]],
    decls: 1,
    vars: 1,
    consts: [["class", "task-toggle", 4, "ngIf"], [1, "task-toggle"], [1, "task-toggle-header-row", 3, "ngClass", "click"], [1, "task-toggle-icon"], [1, "envelope-icon"], [1, "glyphicon", "glyphicon-envelope"], ["class", "unread-message", 4, "ngIf"], [1, "task-toggle-header-text"], [1, "text-right", "task-toggle-openclose"], [1, "glyphicon", 3, "ngClass"], ["class", "task-toggle-content", 4, "ngIf"], [1, "unread-message"], [1, "task-toggle-content"], [3, "initialData", "messagesLoaded"]],
    template: function CustomerPagesApplicationMessagesComponent_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtemplate"](0, CustomerPagesApplicationMessagesComponent_div_0_Template, 12, 10, "div", 0);
      }
      if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngIf", ctx.m);
      }
    },
    dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_5__.NgClass, _angular_common__WEBPACK_IMPORTED_MODULE_5__.NgIf, _secure_messages_edit_list_secure_messages_edit_list_component__WEBPACK_IMPORTED_MODULE_1__.SecureMessagesEditListComponent],
    encapsulation: 2
  });
}
class Model {}
class CustomerPagesApplicationMessagesInitialData {}

/***/ }),

/***/ 4277:
/*!***************************************************************************************************************!*\
  !*** ./projects/customerpages/src/app/shared-components/customerpages-shell/customerpages-shell.component.ts ***!
  \***************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CustomerpagesShellComponent: () => (/* binding */ CustomerpagesShellComponent),
/* harmony export */   CustomerpagesShellInitialData: () => (/* binding */ CustomerpagesShellInitialData)
/* harmony export */ });
/* harmony import */ var C_Repository_BaCS_SelfContainedModules_ntech_backoffice_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 1670);
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs */ 8071);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ 1699);
/* harmony import */ var _common_services_customer_pages_config_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../common-services/customer-pages-config.service */ 5716);
/* harmony import */ var _common_services_customerpages_event_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../common-services/customerpages-event.service */ 3211);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/common */ 6575);
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/router */ 7947);







function CustomerpagesShellComponent_img_5_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelement"](0, "img", 12);
  }
}
function CustomerpagesShellComponent_img_6_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelement"](0, "img", 13);
  }
  if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"]();
    let tmp_0_0;
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("src", (tmp_0_0 = ctx_r1.config.config()) == null ? null : tmp_0_0.Skinning == null ? null : tmp_0_0.Skinning.LogoUrl, _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵsanitizeUrl"]);
  }
}
function CustomerpagesShellComponent_div_12_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](0, "div", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](1, "Loading\u2026");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
  }
}
function CustomerpagesShellComponent_div_13_div_1_button_4_Template(rf, ctx) {
  if (rf & 1) {
    const _r8 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](0, "button", 24);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵlistener"]("click", function CustomerpagesShellComponent_div_13_div_1_button_4_Template_button_click_0_listener($event) {
      const restoredCtx = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵrestoreView"](_r8);
      const f_r6 = restoredCtx.$implicit;
      const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"](3);
      return _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵresetView"](ctx_r7.executeTestFunction(f_r6, $event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const f_r6 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtextInterpolate"](f_r6.displayText);
  }
}
function CustomerpagesShellComponent_div_13_div_1_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](0, "div", 19)(1, "div", 20)(2, "ul", 21)(3, "li", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](4, CustomerpagesShellComponent_div_13_div_1_button_4_Template, 2, 1, "button", 23);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]()()()();
  }
  if (rf & 2) {
    const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngForOf", ctx_r4.initialData == null ? null : ctx_r4.initialData.test.functionCalls);
  }
}
const _c0 = a0 => ({
  "test-popup-toned-down": a0
});
function CustomerpagesShellComponent_div_13_Template(rf, ctx) {
  if (rf & 1) {
    const _r10 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](0, "div");
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](1, CustomerpagesShellComponent_div_13_div_1_Template, 5, 1, "div", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](2, "div", 16)(3, "button", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵlistener"]("click", function CustomerpagesShellComponent_div_13_Template_button_click_3_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵrestoreView"](_r10);
      const ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"]();
      $event.preventDefault();
      return _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵresetView"](ctx_r9.isTestPopupVisible = !ctx_r9.isTestPopupVisible);
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelement"](4, "span", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]()()();
  }
  if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngIf", ctx_r3.isTestPopupVisible);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵpureFunction1"](2, _c0, !ctx_r3.isTestPopupVisible));
  }
}
const _c1 = [[["", "navigation-area", ""]], [["", "shell-body", ""]]];
const _c2 = (a0, a1) => ({
  "container-fluid": a0,
  "body-content": a1
});
const _c3 = ["[navigation-area]", "[shell-body]"];
class CustomerpagesShellComponent {
  constructor(config, eventService) {
    this.config = config;
    this.eventService = eventService;
    this.isLoading = new rxjs__WEBPACK_IMPORTED_MODULE_4__.BehaviorSubject(false);
    this.isTestPopupVisible = false;
  }
  ngOnInit() {
    this.eventService.isLoading.subscribe(x => {
      //Good old ExpressionChangedAfterItHasBeenCheckedError: https://stackoverflow.com/questions/49914840/expressionchangedafterithasbeencheckederror-on-loadingindicator
      Promise.resolve(null).then(() => this.isLoading.next(x));
    });
  }
  logOut(evt) {
    evt?.preventDefault();
    document.location.href = this.config.config()?.LogoutUrl;
  }
  executeTestFunction(f, evt) {
    var _this = this;
    return (0,C_Repository_BaCS_SelfContainedModules_ntech_backoffice_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      evt?.preventDefault();
      if (!_this.config.isNTechTest()) {
        return;
      }
      yield f.execute();
      _this.isTestPopupVisible = false;
    })();
  }
  static #_ = this.ɵfac = function CustomerpagesShellComponent_Factory(t) {
    return new (t || CustomerpagesShellComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵdirectiveInject"](_common_services_customer_pages_config_service__WEBPACK_IMPORTED_MODULE_1__.CustomerPagesConfigService), _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵdirectiveInject"](_common_services_customerpages_event_service__WEBPACK_IMPORTED_MODULE_2__.CustomerPagesEventService));
  };
  static #_2 = this.ɵcmp = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵdefineComponent"]({
    type: CustomerpagesShellComponent,
    selectors: [["customerpages-shell"]],
    inputs: {
      initialData: "initialData"
    },
    ngContentSelectors: _c3,
    decls: 14,
    vars: 11,
    consts: [[1, "wrapper"], [1, "navigation"], [1, "content-position"], [1, "branding"], [1, "navbar-brand", 3, "routerLink"], ["src", "assets/img/menu-header-logo.png", 4, "ngIf"], [3, "src", 4, "ngIf"], [1, "navigation-right"], [1, "clearfix"], [3, "ngClass"], ["class", "loading", 4, "ngIf"], [4, "ngIf"], ["src", "assets/img/menu-header-logo.png"], [3, "src"], [1, "loading"], ["class", "test-popup-frame test-popup-position", 4, "ngIf"], [1, "test-popup-button-position"], [1, "btn", "btn-default", 3, "ngClass", "click"], [1, "glyphicon", "glyphicon-sort"], [1, "test-popup-frame", "test-popup-position"], [1, "pt-1"], [1, "list-unstyled"], [1, "pb-1"], ["target", "_blank", "class", "btn btn-primary", 3, "click", 4, "ngFor", "ngForOf"], ["target", "_blank", 1, "btn", "btn-primary", 3, "click"]],
    template: function CustomerpagesShellComponent_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵprojectionDef"](_c1);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](0, "div", 0)(1, "div", 1)(2, "div", 2)(3, "div", 3)(4, "a", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](5, CustomerpagesShellComponent_img_5_Template, 1, 0, "img", 5)(6, CustomerpagesShellComponent_img_6_Template, 1, 1, "img", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](7, "div", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵprojection"](8);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelement"](9, "div", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementStart"](10, "div", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵprojection"](11, 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵtemplate"](12, CustomerpagesShellComponent_div_12_Template, 2, 0, "div", 10)(13, CustomerpagesShellComponent_div_13_Template, 5, 4, "div", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵelementEnd"]()();
      }
      if (rf & 2) {
        let tmp_2_0;
        let tmp_3_0;
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵclassProp"]("wide-navigation", ctx.initialData.wideNavigation);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("routerLink", ctx.initialData.logoRouterLink);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngIf", !((tmp_2_0 = ctx.config.config()) == null ? null : tmp_2_0.Skinning));
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngIf", !!((tmp_3_0 = ctx.config.config()) == null ? null : tmp_3_0.Skinning));
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵpureFunction2"](8, _c2, !(ctx.initialData == null ? null : ctx.initialData.skipBodyLayout), !(ctx.initialData == null ? null : ctx.initialData.skipBodyLayout)));
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngIf", ctx.isLoading.value);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵproperty"]("ngIf", ctx.config.isNTechTest() && (ctx.initialData == null ? null : ctx.initialData.test));
      }
    },
    dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_5__.NgClass, _angular_common__WEBPACK_IMPORTED_MODULE_5__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_5__.NgIf, _angular_router__WEBPACK_IMPORTED_MODULE_6__.RouterLink],
    encapsulation: 2
  });
}
class CustomerpagesShellInitialData {}

/***/ }),

/***/ 7163:
/*!***************************************************************************************************************************!*\
  !*** ./projects/customerpages/src/app/shared-components/secure-messages-edit-list/secure-messages-edit-list.component.ts ***!
  \***************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SecureMessagesEditListComponent: () => (/* binding */ SecureMessagesEditListComponent),
/* harmony export */   SecureMessagesEditListComponentInitialData: () => (/* binding */ SecureMessagesEditListComponentInitialData)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/core */ 1699);
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/forms */ 8849);
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! rxjs */ 8071);
/* harmony import */ var src_app_common_services_ntech_forms_helper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! src/app/common-services/ntech-forms-helper */ 7093);
/* harmony import */ var src_app_secure_messages_shared_quill_settings__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/app/secure-messages/shared.quill.settings */ 2606);
/* harmony import */ var _customer_messages_helper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../customer-messages-helper */ 4799);
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/platform-browser */ 6480);
/* harmony import */ var ngx_toastr__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ngx-toastr */ 7548);
/* harmony import */ var _common_services_customer_pages_config_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../common-services/customer-pages-config.service */ 5716);
/* harmony import */ var _common_services_customer_pages_api_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../common-services/customer-pages-api.service */ 7991);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/common */ 6575);
/* harmony import */ var ngx_quill__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ngx-quill */ 945);














const _c0 = ["fileInput"];
const _c1 = ["fileInputForm"];
function SecureMessagesEditListComponent_ng_container_0_div_1_div_11_Template(rf, ctx) {
  if (rf & 1) {
    const _r8 = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](0, "div", 12)(1, "span", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](3, "span", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵlistener"]("click", function SecureMessagesEditListComponent_ng_container_0_div_1_div_11_Template_span_click_3_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵrestoreView"](_r8);
      const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵnextContext"](3);
      return _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵresetView"](ctx_r7.removeDocument($event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]()()();
  }
  if (rf & 2) {
    const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtextInterpolate1"](" ", ctx_r5.m.attachedFile.name, " ");
  }
}
const _c2 = () => ({
  height: "200px"
});
function SecureMessagesEditListComponent_ng_container_0_div_1_Template(rf, ctx) {
  if (rf & 1) {
    const _r10 = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](0, "div", 5)(1, "div", 6)(2, "form", 7)(3, "div", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelement"](4, "quill-editor", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](5, "form", 10, 11)(7, "div", 12)(8, "button", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵlistener"]("click", function SecureMessagesEditListComponent_ng_container_0_div_1_Template_button_click_8_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵrestoreView"](_r10);
      const ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵnextContext"](2);
      return _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵresetView"](ctx_r9.selectFileToAttach($event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](9, " Bifoga ");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelement"](10, "span", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplate"](11, SecureMessagesEditListComponent_ng_container_0_div_1_div_11_Template, 4, 1, "div", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](12, "input", 16, 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵlistener"]("change", function SecureMessagesEditListComponent_ng_container_0_div_1_Template_input_change_12_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵrestoreView"](_r10);
      const ctx_r11 = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵnextContext"](2);
      return _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵresetView"](ctx_r11.onFileAttached($event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelement"](14, "div", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](15, "div", 19)(16, "button", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵlistener"]("click", function SecureMessagesEditListComponent_ng_container_0_div_1_Template_button_click_16_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵrestoreView"](_r10);
      const ctx_r12 = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵnextContext"](2);
      return _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵresetView"](ctx_r12.sendMessage($event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](17, " Skicka ");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]()()();
  }
  if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("formGroup", ctx_r1.m.messageForm.form);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("modules", ctx_r1.quillEditorOptions)("formats", ctx_r1.quillEditorFormats)("styles", _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpureFunction0"](7, _c2));
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("disabled", ctx_r1.invalid());
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngIf", ctx_r1.m.attachedFile);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("disabled", ctx_r1.invalid());
  }
}
function SecureMessagesEditListComponent_ng_container_0_div_3_small_6_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](0, "small", 31);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const message_r13 = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtextInterpolate"](message_r13.ChannelId);
  }
}
function SecureMessagesEditListComponent_ng_container_0_div_3_p_9_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](0, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const message_r13 = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtextInterpolate"](message_r13.Text);
  }
}
function SecureMessagesEditListComponent_ng_container_0_div_3_div_10_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](0, "div", 32);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelement"](1, "div", 33);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const message_r13 = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵnextContext"]().$implicit;
    const ctx_r16 = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("innerHTML", ctx_r16.sanitizeHtml(message_r13.Text), _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵsanitizeHtml"]);
  }
}
function SecureMessagesEditListComponent_ng_container_0_div_3_ng_container_11_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](1, "a", 34);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](2, "Dokument ");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelement"](3, "span", 35);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const a_r21 = ctx.$implicit;
    const ctx_r17 = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("href", ctx_r17.getAttachmentUrl(a_r21), _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵsanitizeUrl"]);
  }
}
function SecureMessagesEditListComponent_ng_container_0_div_3_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](0, "div", 23)(1, "div", 24)(2, "p", 25)(3, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpipe"](5, "date");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplate"](6, SecureMessagesEditListComponent_ng_container_0_div_3_small_6_Template, 2, 1, "small", 26);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](7, "div", 27)(8, "div", 28);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplate"](9, SecureMessagesEditListComponent_ng_container_0_div_3_p_9_Template, 2, 1, "p", 0)(10, SecureMessagesEditListComponent_ng_container_0_div_3_div_10_Template, 2, 1, "div", 29)(11, SecureMessagesEditListComponent_ng_container_0_div_3_ng_container_11_Template, 4, 1, "ng-container", 30);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]()()()();
  }
  if (rf & 2) {
    const message_r13 = ctx.$implicit;
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵpipeBind2"](5, 7, message_r13.CreationDate, "yyyy-MM-dd HH:mm"));
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngIf", message_r13.ChannelId != "General");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngClass", ctx_r2.getMessageClass(message_r13.IsFromCustomer));
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngClass", ctx_r2.getMessageClass(message_r13.IsFromCustomer, true));
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngIf", !ctx_r2.isHtml(message_r13));
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngIf", ctx_r2.isHtml(message_r13));
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngForOf", message_r13.CustomerMessageAttachedDocuments);
  }
}
function SecureMessagesEditListComponent_ng_container_0_div_4_Template(rf, ctx) {
  if (rf & 1) {
    const _r23 = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](0, "div", 36)(1, "a", 37);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵlistener"]("click", function SecureMessagesEditListComponent_ng_container_0_div_4_Template_a_click_1_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵrestoreView"](_r23);
      const ctx_r22 = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵnextContext"](2);
      return _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵresetView"](ctx_r22.loadMoreMessages($event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtext"](2, "Visa fler");
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]()();
  }
}
function SecureMessagesEditListComponent_ng_container_0_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplate"](1, SecureMessagesEditListComponent_ng_container_0_div_1_Template, 18, 8, "div", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](2, "div", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplate"](3, SecureMessagesEditListComponent_ng_container_0_div_3_Template, 12, 10, "div", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplate"](4, SecureMessagesEditListComponent_ng_container_0_div_4_Template, 3, 0, "div", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngIf", ctx_r0.showSendMessageForm());
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngForOf", ctx_r0.m.messages);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngIf", ctx_r0.m.hasMoreMessages);
  }
}
class SecureMessagesEditListComponent {
  constructor(fb, sanitizer, toastr, config, sharedApiService) {
    this.fb = fb;
    this.sanitizer = sanitizer;
    this.toastr = toastr;
    this.config = config;
    this.sharedApiService = sharedApiService;
    this.messagesLoaded = new _angular_core__WEBPACK_IMPORTED_MODULE_5__.EventEmitter();
    this.quillEditorOptions = src_app_secure_messages_shared_quill_settings__WEBPACK_IMPORTED_MODULE_1__.sharedQuillSettings.editorOptions;
    this.quillEditorFormats = src_app_secure_messages_shared_quill_settings__WEBPACK_IMPORTED_MODULE_1__.sharedQuillSettings.editorFormats;
  }
  ngOnInit() {}
  ngOnChanges(changes) {
    this.m = null;
    if (!this.initialData) {
      return;
    }
    this.loadMessages(0).then(x => {
      this.reset(x);
    });
  }
  createMessageHelper() {
    return new _customer_messages_helper__WEBPACK_IMPORTED_MODULE_2__.CustomerMessagesHelper(this.initialData.getSingleApplicationNr(), this.config, this.sharedApiService);
  }
  reset(messagesResponse) {
    let messageForm = new src_app_common_services_ntech_forms_helper__WEBPACK_IMPORTED_MODULE_0__.FormsHelper(this.fb.group({
      message: ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_6__.Validators.required]]
    }));
    let m = new Model(messageForm);
    m.addMessages(messagesResponse.Messages, messagesResponse.TotalMessageCount);
    this.m = m;
  }
  loadMessages(skipCount) {
    return this.createMessageHelper().getSecureMessages({
      skip: skipCount,
      take: pageSize
    }, true).then(x => {
      this.messagesLoaded.emit(x);
      return x;
    });
  }
  sendMessage(evt) {
    evt?.preventDefault();
    let m = this.m;
    let channel = this.initialData.sendChannel.value;
    let messagesHelper = this.createMessageHelper();
    messagesHelper.sendSecureMessage(channel.channelType, channel.channelId, m.messageForm.getValue('message'), 'html', m.attachedFile).then(x => {
      this.loadMessages(0).then(x => {
        this.reset(x);
      });
    });
  }
  invalid() {
    return this.m.messageForm.invalid() || !this.initialData.sendChannel.value;
  }
  sanitizeHtml(text) {
    return this.sanitizer.bypassSecurityTrustHtml(text);
  }
  isHtml(message) {
    return message.TextFormat == 'html';
  }
  getAttachmentUrl(a) {
    return this.sharedApiService.getArchiveDocumentUrl(a.ArchiveKey, true);
  }
  selectFileToAttach(evt) {
    evt?.preventDefault();
    this.fileInput.nativeElement.click();
  }
  removeDocument(evt) {
    evt?.preventDefault();
    this.m.attachedFile = null;
  }
  getMessageClass(isFromCustomer, includeDirection) {
    if (includeDirection) return isFromCustomer ? 'pull-right direction-recieved-msg' : 'pull-left direction-sent-msg';
    return isFromCustomer ? 'pull-right' : 'pull-left';
  }
  showSendMessageForm() {
    return this.initialData.showSendMessage;
  }
  onFileAttached(evt) {
    let target = evt.target;
    src_app_common_services_ntech_forms_helper__WEBPACK_IMPORTED_MODULE_0__.FormsHelper.loadSingleAttachedFileAsDataUrl(target.files).then(x => {
      this.m.attachedFile = {
        name: x.filename,
        dataUrl: x.dataUrl
      };
      this.fileInputForm.nativeElement.reset();
    }, x => {
      this.toastr.error(x);
      this.fileInputForm.nativeElement.reset();
    });
  }
  loadMoreMessages(evt) {
    evt.preventDefault();
    this.loadMessages(this.m.messages.length).then(x => {
      this.m.addMessages(x.Messages, x.TotalMessageCount);
    });
  }
  static #_ = this.ɵfac = function SecureMessagesEditListComponent_Factory(t) {
    return new (t || SecureMessagesEditListComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵdirectiveInject"](_angular_forms__WEBPACK_IMPORTED_MODULE_6__.UntypedFormBuilder), _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵdirectiveInject"](_angular_platform_browser__WEBPACK_IMPORTED_MODULE_7__.DomSanitizer), _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵdirectiveInject"](ngx_toastr__WEBPACK_IMPORTED_MODULE_8__.ToastrService), _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵdirectiveInject"](_common_services_customer_pages_config_service__WEBPACK_IMPORTED_MODULE_3__.CustomerPagesConfigService), _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵdirectiveInject"](_common_services_customer_pages_api_service__WEBPACK_IMPORTED_MODULE_4__.CustomerPagesApiService));
  };
  static #_2 = this.ɵcmp = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵdefineComponent"]({
    type: SecureMessagesEditListComponent,
    selectors: [["secure-messages-edit-list"]],
    viewQuery: function SecureMessagesEditListComponent_Query(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵviewQuery"](_c0, 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵviewQuery"](_c1, 5);
      }
      if (rf & 2) {
        let _t;
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵloadQuery"]()) && (ctx.fileInput = _t.first);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵloadQuery"]()) && (ctx.fileInputForm = _t.first);
      }
    },
    inputs: {
      initialData: "initialData"
    },
    outputs: {
      messagesLoaded: "messagesLoaded"
    },
    features: [_angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵNgOnChangesFeature"]],
    decls: 1,
    vars: 1,
    consts: [[4, "ngIf"], ["class", "row pt-3 pb-3", 4, "ngIf"], [1, "message-list", "pt-3"], ["class", "message-item", 4, "ngFor", "ngForOf"], ["class", "text-center pt-3", 4, "ngIf"], [1, "row", "pt-3", "pb-3"], [1, "col-sm-9", "col-xs-12", "pb-3"], [3, "formGroup"], [1, "fix-quill-width"], ["formControlName", "message", 3, "modules", "formats", "styles"], ["novalidate", "", "name", "attachFileForm", "id", "attachFileForm", 1, "form-inline"], ["fileInputForm", ""], [1, "pt-1", "pull-right"], [1, "n-direct-btn", "n-white-btn", 3, "disabled", "click"], [1, "glyphicon", "glyphicon-paperclip"], ["class", "pt-1 pull-right", 4, "ngIf"], ["type", "file", "id", "file", "name", "file", 2, "display", "none", 3, "change"], ["fileInput", ""], [1, "clearfix"], [1, "col-sm-3", "col-xs-12"], [1, "n-main-btn", "n-white-btn", 3, "disabled", "click"], [1, "mypages-fileupload-preview"], [1, "glyphicon", "glyphicon-remove", "remove-document-icon", 3, "click"], [1, "message-item"], [1, "row"], [1, "date-time", "text-center", "col-xs-12"], ["class", "channel-id-label", 4, "ngIf"], [1, "col-sm-8", "col-xs-10", 3, "ngClass"], [3, "ngClass"], ["class", "iframe-container", 4, "ngIf"], [4, "ngFor", "ngForOf"], [1, "channel-id-label"], [1, "iframe-container"], [3, "innerHTML"], ["target", "_blank", 1, "n-direct-btn", "n-white-btn", 3, "href"], [1, "glyphicon", "glyphicon-save"], [1, "text-center", "pt-3"], ["href", "", 1, "n-anchor", 3, "click"]],
    template: function SecureMessagesEditListComponent_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplate"](0, SecureMessagesEditListComponent_ng_container_0_Template, 5, 3, "ng-container", 0);
      }
      if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngIf", ctx.m);
      }
    },
    dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_9__.NgClass, _angular_common__WEBPACK_IMPORTED_MODULE_9__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_9__.NgIf, _angular_forms__WEBPACK_IMPORTED_MODULE_6__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_6__.NgControlStatus, _angular_forms__WEBPACK_IMPORTED_MODULE_6__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_6__.NgForm, _angular_forms__WEBPACK_IMPORTED_MODULE_6__.FormGroupDirective, _angular_forms__WEBPACK_IMPORTED_MODULE_6__.FormControlName, ngx_quill__WEBPACK_IMPORTED_MODULE_10__.QuillEditorComponent, _angular_common__WEBPACK_IMPORTED_MODULE_9__.DatePipe],
    styles: [".mypages-fileupload-preview[_ngcontent-%COMP%] {\n  background-color: #eeeeee;\n  padding: 4px 10px;\n  margin-left: 10px;\n}\n\n.remove-document-icon[_ngcontent-%COMP%] {\n  margin-left: 10px;\n  cursor: pointer;\n}\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3Byb2plY3RzL2N1c3RvbWVycGFnZXMvc3JjL2FwcC9zaGFyZWQtY29tcG9uZW50cy9zZWN1cmUtbWVzc2FnZXMtZWRpdC1saXN0L3NlY3VyZS1tZXNzYWdlcy1lZGl0LWxpc3QuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSx5QkFBQTtFQUNBLGlCQUFBO0VBQ0EsaUJBQUE7QUFDRjs7QUFFQTtFQUNFLGlCQUFBO0VBQ0EsZUFBQTtBQUNGIiwic291cmNlc0NvbnRlbnQiOlsiLm15cGFnZXMtZmlsZXVwbG9hZC1wcmV2aWV3IHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZWVlZWVlO1xyXG4gIHBhZGRpbmc6IDRweCAxMHB4O1xyXG4gIG1hcmdpbi1sZWZ0OiAxMHB4O1xyXG59XHJcblxyXG4ucmVtb3ZlLWRvY3VtZW50LWljb24ge1xyXG4gIG1hcmdpbi1sZWZ0OiAxMHB4O1xyXG4gIGN1cnNvcjogcG9pbnRlcjtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9 */"]
  });
}
class Model {
  constructor(messageForm) {
    this.messageForm = messageForm;
    this.messages = [];
  }
  addMessages(messages, totalCount) {
    for (let m of messages) {
      this.messages.push(m);
    }
    this.hasMoreMessages = totalCount > this.messages.length;
  }
}
const pageSize = 15;
class SecureMessagesEditListComponentInitialData {
  constructor(isSingleApplication, showSendMessage) {
    this.isSingleApplication = isSingleApplication;
    this.showSendMessage = showSendMessage;
    this.sendChannel = new rxjs__WEBPACK_IMPORTED_MODULE_11__.BehaviorSubject(null);
    this.showSendMessageForm = showSendMessage;
  }
  setActiveChannel(channelType, channelId) {
    this.sendChannel.next({
      channelType,
      channelId
    });
  }
  removeActiveChannel() {
    this.sendChannel.next(null);
  }
  getSingleApplicationNr() {
    if (this.isSingleApplication) {
      let channelId = this.sendChannel.value?.channelId;
      if (!channelId) {
        throw new Error('In this context the caller is expected to have set this always');
      }
      return channelId;
    } else {
      return null;
    }
  }
}

/***/ }),

/***/ 2168:
/*!**********************************************************************************************!*\
  !*** ./projects/customerpages/src/app/shared-components/services/employment-form.service.ts ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EmploymentFormService: () => (/* binding */ EmploymentFormService)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ 1699);
/* harmony import */ var _common_services_customer_pages_config_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../common-services/customer-pages-config.service */ 5716);
/* harmony import */ var _common_services_customer_pages_validation_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../common-services/customer-pages-validation.service */ 423);



class EmploymentFormService {
  constructor(config, validationService) {
    this.config = config;
    this.validationService = validationService;
  }
  getEmploymentStatuses() {
    return this.config.getEnums().EmploymentStatuses;
  }
  isEmployerEmploymentCode(code) {
    let codes = ['full_time', 'project_employee', 'hourly_employment', 'part_time', 'probationary', 'self_employed', 'substitute'];
    return codes.indexOf(code) >= 0;
  }
  isEmployedSinceEmploymentCode(code) {
    return !(['unemployed'].indexOf(code) >= 0 || this.validationService.isNullOrWhitespace(code));
  }
  isEmployedToEmploymentCode(code) {
    return ['project_employee', 'probationary'].indexOf(code) >= 0;
  }
  static #_ = this.ɵfac = function EmploymentFormService_Factory(t) {
    return new (t || EmploymentFormService)(_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵinject"](_common_services_customer_pages_config_service__WEBPACK_IMPORTED_MODULE_0__.CustomerPagesConfigService), _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵinject"](_common_services_customer_pages_validation_service__WEBPACK_IMPORTED_MODULE_1__.CustomerPagesValidationService));
  };
  static #_2 = this.ɵprov = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineInjectable"]({
    token: EmploymentFormService,
    factory: EmploymentFormService.ɵfac,
    providedIn: 'root'
  });
}

/***/ }),

/***/ 7159:
/*!**************************************************************************************!*\
  !*** ./projects/customerpages/src/app/shared-components/shared-components.module.ts ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SharedComponentsModule: () => (/* binding */ SharedComponentsModule)
/* harmony export */ });
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/common */ 6575);
/* harmony import */ var _customerpages_shell_customerpages_shell_component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./customerpages-shell/customerpages-shell.component */ 4277);
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/forms */ 8849);
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/router */ 7947);
/* harmony import */ var _secure_messages_edit_list_secure_messages_edit_list_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./secure-messages-edit-list/secure-messages-edit-list.component */ 7163);
/* harmony import */ var ngx_quill__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ngx-quill */ 945);
/* harmony import */ var _applications_list_applications_list_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./applications-list/applications-list.component */ 8752);
/* harmony import */ var _customer_pages_application_messages_customer_pages_application_messages_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./customer-pages-application-messages/customer-pages-application-messages.component */ 335);
/* harmony import */ var _task_page_task_page_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./task-page/task-page.component */ 9004);
/* harmony import */ var _task_kyc_questions_task_kyc_questions_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./task-kyc-questions/task-kyc-questions.component */ 1013);
/* harmony import */ var _calculator_slider_calculator_slider_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./calculator-slider/calculator-slider.component */ 738);
/* harmony import */ var ngx_slider_v2__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ngx-slider-v2 */ 9566);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/core */ 1699);














class SharedComponentsModule {
  static #_ = this.ɵfac = function SharedComponentsModule_Factory(t) {
    return new (t || SharedComponentsModule)();
  };
  static #_2 = this.ɵmod = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdefineNgModule"]({
    type: SharedComponentsModule
  });
  static #_3 = this.ɵinj = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdefineInjector"]({
    imports: [_angular_common__WEBPACK_IMPORTED_MODULE_8__.CommonModule, _angular_forms__WEBPACK_IMPORTED_MODULE_9__.FormsModule, _angular_forms__WEBPACK_IMPORTED_MODULE_9__.ReactiveFormsModule, ngx_slider_v2__WEBPACK_IMPORTED_MODULE_10__.NgxSliderModule, _angular_router__WEBPACK_IMPORTED_MODULE_11__.RouterModule, ngx_quill__WEBPACK_IMPORTED_MODULE_12__.QuillModule.forRoot()]
  });
}
(function () {
  (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵsetNgModuleScope"](SharedComponentsModule, {
    declarations: [_customerpages_shell_customerpages_shell_component__WEBPACK_IMPORTED_MODULE_0__.CustomerpagesShellComponent, _secure_messages_edit_list_secure_messages_edit_list_component__WEBPACK_IMPORTED_MODULE_1__.SecureMessagesEditListComponent, _applications_list_applications_list_component__WEBPACK_IMPORTED_MODULE_2__.ApplicationsListComponent, _customer_pages_application_messages_customer_pages_application_messages_component__WEBPACK_IMPORTED_MODULE_3__.CustomerPagesApplicationMessagesComponent, _task_page_task_page_component__WEBPACK_IMPORTED_MODULE_4__.TaskPageComponent, _task_kyc_questions_task_kyc_questions_component__WEBPACK_IMPORTED_MODULE_5__.TaskKycQuestionsComponent, _calculator_slider_calculator_slider_component__WEBPACK_IMPORTED_MODULE_6__.CalculatorSliderComponent],
    imports: [_angular_common__WEBPACK_IMPORTED_MODULE_8__.CommonModule, _angular_forms__WEBPACK_IMPORTED_MODULE_9__.FormsModule, _angular_forms__WEBPACK_IMPORTED_MODULE_9__.ReactiveFormsModule, ngx_slider_v2__WEBPACK_IMPORTED_MODULE_10__.NgxSliderModule, _angular_router__WEBPACK_IMPORTED_MODULE_11__.RouterModule, ngx_quill__WEBPACK_IMPORTED_MODULE_12__.QuillModule],
    exports: [_customerpages_shell_customerpages_shell_component__WEBPACK_IMPORTED_MODULE_0__.CustomerpagesShellComponent, _secure_messages_edit_list_secure_messages_edit_list_component__WEBPACK_IMPORTED_MODULE_1__.SecureMessagesEditListComponent, _applications_list_applications_list_component__WEBPACK_IMPORTED_MODULE_2__.ApplicationsListComponent, _customer_pages_application_messages_customer_pages_application_messages_component__WEBPACK_IMPORTED_MODULE_3__.CustomerPagesApplicationMessagesComponent, _task_page_task_page_component__WEBPACK_IMPORTED_MODULE_4__.TaskPageComponent, _task_kyc_questions_task_kyc_questions_component__WEBPACK_IMPORTED_MODULE_5__.TaskKycQuestionsComponent, _calculator_slider_calculator_slider_component__WEBPACK_IMPORTED_MODULE_6__.CalculatorSliderComponent]
  });
})();

/***/ }),

/***/ 1013:
/*!*************************************************************************************************************!*\
  !*** ./projects/customerpages/src/app/shared-components/task-kyc-questions/task-kyc-questions.component.ts ***!
  \*************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TaskKycQuestionsComponent: () => (/* binding */ TaskKycQuestionsComponent),
/* harmony export */   TaskKycQuestionsComponentInitialData: () => (/* binding */ TaskKycQuestionsComponentInitialData)
/* harmony export */ });
/* harmony import */ var src_app_common_services_ntech_forms_helper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! src/app/common-services/ntech-forms-helper */ 7093);
/* harmony import */ var src_app_common_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/app/common.types */ 198);
/* harmony import */ var i18n_iso_countries__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! i18n-iso-countries */ 6611);
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/forms */ 8849);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/core */ 1699);
/* harmony import */ var _common_services_customer_pages_config_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../common-services/customer-pages-config.service */ 5716);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/common */ 6575);








function TaskKycQuestionsComponent_div_0_div_6_div_2_div_5_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](0, "div", 7)(1, "div", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](3, "div", 9)(4, "b");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()()();
  }
  if (rf & 2) {
    const answer_r6 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtextInterpolate"](answer_r6.questionText);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtextInterpolate"](answer_r6.answerText || "-");
  }
}
function TaskKycQuestionsComponent_div_0_div_6_div_2_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](0, "div", 6)(1, "h3", 7)(2, "ins")(3, "b");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtemplate"](5, TaskKycQuestionsComponent_div_0_div_6_div_2_div_5_Template, 6, 2, "div", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const customer_r4 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtextInterpolate"](customer_r4.displayName);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngForOf", customer_r4.answers);
  }
}
function TaskKycQuestionsComponent_div_0_div_6_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](0, "div")(1, "div", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtemplate"](2, TaskKycQuestionsComponent_div_0_div_6_div_2_Template, 6, 2, "div", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngForOf", ctx_r1.m.view.customers);
  }
}
function TaskKycQuestionsComponent_div_0_div_7_div_2_div_21_Template(rf, ctx) {
  if (rf & 1) {
    const _r15 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](0, "div", 22)(1, "p", 23)(2, "b");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](4, "button", 24);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵlistener"]("click", function TaskKycQuestionsComponent_div_0_div_7_div_2_div_21_Template_button_click_4_listener($event) {
      const restoredCtx = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵrestoreView"](_r15);
      const citizenCountry_r13 = restoredCtx.$implicit;
      const customer_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"]().$implicit;
      return _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵresetView"](customer_r8.removeCitizenCountry(citizenCountry_r13, $event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](5, " Ta bort ");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()()();
  }
  if (rf & 2) {
    const citizenCountry_r13 = ctx.$implicit;
    const ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtextInterpolate"](ctx_r9.getCountryDisplayName(citizenCountry_r13));
  }
}
function TaskKycQuestionsComponent_div_0_div_7_div_2_ng_container_25_option_1_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](0, "option", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const opt_r17 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngValue", opt_r17.Code);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtextInterpolate1"](" ", opt_r17.DisplayName, " ");
  }
}
function TaskKycQuestionsComponent_div_0_div_7_div_2_ng_container_25_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtemplate"](1, TaskKycQuestionsComponent_div_0_div_7_div_2_ng_container_25_option_1_Template, 2, 2, "option", 25);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const opt_r17 = ctx.$implicit;
    const customer_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngIf", !customer_r8.isCitizenCountrySelected(opt_r17.Code));
  }
}
function TaskKycQuestionsComponent_div_0_div_7_div_2_div_30_Template(rf, ctx) {
  if (rf & 1) {
    const _r23 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](0, "div", 22)(1, "p", 23);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](3, "button", 24);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵlistener"]("click", function TaskKycQuestionsComponent_div_0_div_7_div_2_div_30_Template_button_click_3_listener($event) {
      const restoredCtx = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵrestoreView"](_r23);
      const taxCountry_r21 = restoredCtx.$implicit;
      const customer_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"]().$implicit;
      return _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵresetView"](customer_r8.removeTaxCountry(taxCountry_r21, $event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](4, " Ta bort ");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()()();
  }
  if (rf & 2) {
    const taxCountry_r21 = ctx.$implicit;
    const ctx_r11 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtextInterpolate1"](" ", ctx_r11.getCountryDisplayName(taxCountry_r21), " ");
  }
}
function TaskKycQuestionsComponent_div_0_div_7_div_2_ng_container_34_option_1_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](0, "option", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const opt_r25 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngValue", opt_r25.Code);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtextInterpolate1"](" ", opt_r25.DisplayName, " ");
  }
}
function TaskKycQuestionsComponent_div_0_div_7_div_2_ng_container_34_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtemplate"](1, TaskKycQuestionsComponent_div_0_div_7_div_2_ng_container_34_option_1_Template, 2, 2, "option", 25);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const opt_r25 = ctx.$implicit;
    const customer_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngIf", !customer_r8.isTaxCountrySelected(opt_r25.Code));
  }
}
const _c0 = a0 => ({
  "has-error": a0
});
const _c1 = a0 => ({
  "bg-warning": a0
});
function TaskKycQuestionsComponent_div_0_div_7_div_2_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](0, "div")(1, "h3", 14)(2, "ins")(3, "b");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](5, "div", 4)(6, "div", 6)(7, "div", 7)(8, "div", 15)(9, "label", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](10);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](11, "select", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelement"](12, "option", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](13, "option", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](14, "Ja");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](15, "option", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](16, "Nej");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](17, "div", 7)(18, "div", 20)(19, "label");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](20);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtemplate"](21, TaskKycQuestionsComponent_div_0_div_7_div_2_div_21_Template, 6, 1, "div", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](22, "select", 17)(23, "option", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](24, "V\u00E4lj land");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtemplate"](25, TaskKycQuestionsComponent_div_0_div_7_div_2_ng_container_25_Template, 2, 1, "ng-container", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](26, "div", 7)(27, "div", 20)(28, "label");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](29);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtemplate"](30, TaskKycQuestionsComponent_div_0_div_7_div_2_div_30_Template, 5, 1, "div", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](31, "select", 17)(32, "option", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](33, "V\u00E4lj land");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtemplate"](34, TaskKycQuestionsComponent_div_0_div_7_div_2_ng_container_34_Template, 2, 1, "ng-container", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()()()()()();
  }
  if (rf & 2) {
    const customer_r8 = ctx.$implicit;
    const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtextInterpolate"](customer_r8.displayName);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpureFunction1"](15, _c0, ctx_r7.m.edit.form.hasError(customer_r8.isPepFormControlName)));
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpureFunction1"](17, _c1, ctx_r7.m.edit.form.hasErrorStrict(customer_r8.isPepFormControlName)));
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtextInterpolate"](ctx_r7.getQuestionText("isPep"));
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpropertyInterpolate"]("formControlName", customer_r8.isPepFormControlName);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngValue", "true");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngValue", "false");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtextInterpolate"](ctx_r7.getQuestionText("citizenCountries"));
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngForOf", customer_r8.citizenCountries);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpropertyInterpolate"]("formControlName", customer_r8.citizenCountriesFormControlName);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngForOf", ctx_r7.getCountryDropdownOptions());
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtextInterpolate"](ctx_r7.getQuestionText("taxCountries"));
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngForOf", customer_r8.taxCountries);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpropertyInterpolate"]("formControlName", customer_r8.taxCountriesFormControlName);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngForOf", ctx_r7.getCountryDropdownOptions());
  }
}
function TaskKycQuestionsComponent_div_0_div_7_Template(rf, ctx) {
  if (rf & 1) {
    const _r30 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](0, "div")(1, "form", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtemplate"](2, TaskKycQuestionsComponent_div_0_div_7_div_2_Template, 35, 19, "div", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](3, "div", 12)(4, "button", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵlistener"]("click", function TaskKycQuestionsComponent_div_0_div_7_Template_button_click_4_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵrestoreView"](_r30);
      const ctx_r29 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"](2);
      return _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵresetView"](ctx_r29.onSave($event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](5, " Skicka in ");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()()();
  }
  if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("formGroup", ctx_r2.m.edit.form.form);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngForOf", ctx_r2.m.edit.customers);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("disabled", ctx_r2.invalid());
  }
}
function TaskKycQuestionsComponent_div_0_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](0, "div")(1, "p", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](2, " F\u00F6r att f\u00E5 dig som kund m\u00E5ste vi som l\u00E5ngivare ha uppdaterad information om dig och ditt engagemang. D\u00E4rf\u00F6r \u00E4r det viktigt att du besvarar och uppdaterar alla fr\u00E5gor. ");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](3, "h2", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](4, "God kunskap om dig");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelement"](5, "hr", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtemplate"](6, TaskKycQuestionsComponent_div_0_div_6_Template, 3, 1, "div", 0)(7, TaskKycQuestionsComponent_div_0_div_7_Template, 6, 3, "div", 0);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngIf", ctx_r0.m.view);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngIf", ctx_r0.m.edit);
  }
}
class TaskKycQuestionsComponent {
  constructor(config, fb) {
    this.config = config;
    this.fb = fb;
  }
  ngOnInit() {
    i18n_iso_countries__WEBPACK_IMPORTED_MODULE_2__.registerLocale(__webpack_require__(/*! i18n-iso-countries/langs/sv.json */ 2552));
  }
  getCountryDisplayName(twoLetterIsoCode) {
    let lang;
    if (this.config.baseCountry() === 'SE') {
      lang = 'sv';
    } else {
      return twoLetterIsoCode;
    }
    let name = i18n_iso_countries__WEBPACK_IMPORTED_MODULE_2__.getName(twoLetterIsoCode, lang, {
      select: 'official'
    });
    return name || twoLetterIsoCode;
  }
  getCountryDropdownOptions() {
    let twoLetterIsoCodes = Object.keys(i18n_iso_countries__WEBPACK_IMPORTED_MODULE_2__.getAlpha2Codes());
    //Reorder to have the base country first in the list so most customers wont have to scroll
    twoLetterIsoCodes = [this.config.baseCountry(), ...twoLetterIsoCodes.filter(x => x !== this.config.baseCountry())];
    return twoLetterIsoCodes.map(x => {
      return {
        Code: x,
        DisplayName: this.getCountryDisplayName(x)
      };
    });
  }
  getQuestionText(code) {
    switch (code) {
      case 'citizenCountries':
        return 'Vilka medborgarskap har du?';
      case 'taxCountries':
        return 'Vilka är dina skatterättsliga hemvister?';
      case 'isPep':
        return 'Är du en person i politisk utsatt ställning, nära familje-medlem eller medarbetare till en sådan person?';
      default:
        return code;
    }
  }
  ngOnChanges(changes) {
    this.m = null;
    if (!this.initialData) {
      return;
    }
    let t = this.initialData;
    let m = {};
    let isEditPossible = t.isPossibleToAnswer && !t.isAnswersApproved;
    if (isEditPossible) {
      m.edit = {
        form: new src_app_common_services_ntech_forms_helper__WEBPACK_IMPORTED_MODULE_0__.FormsHelper(this.fb.group({})),
        customers: []
      };
      for (let customer of t.customers) {
        let codes = ['citizenCountries', 'isPep', 'taxCountries'];
        let answers = [];
        for (let code of codes) {
          answers.push({
            code: code,
            answerText: customer.LatestQuestions?.find(x => x.QuestionCode === code)?.AnswerText
          });
        }
        let applicantDisplayName = customer.CustomerShortName + (customer.CustomerBirthDate ? `, ${customer.CustomerBirthDate}` : '');
        let applicant = new CustomerEditModel(customer.CustomerId, customer.ApplicantNr, applicantDisplayName, `citizenCountries${customer.CustomerId}`, [this.config.baseCountry()], `isPep${customer.CustomerId}`, `taxCountries${customer.CustomerId}`, [this.config.baseCountry()]);
        if (customer.LatestQuestions) {
          applicant.citizenCountries = this.parseCommaSeparatedList(customer.LatestQuestions.find(x => x.QuestionCode === 'citizenCountries')?.AnswerCode);
          applicant.taxCountries = this.parseCommaSeparatedList(customer.LatestQuestions.find(x => x.QuestionCode === 'taxCountries')?.AnswerCode);
        }
        m.edit.form.addControlIfNotExists(applicant.citizenCountriesFormControlName, '', []);
        m.edit.form.addControlIfNotExists(applicant.taxCountriesFormControlName, '', []);
        m.edit.form.addControlIfNotExists(applicant.isPepFormControlName, customer.LatestQuestions?.find(x => x.QuestionCode === 'isPep')?.AnswerCode, [_angular_forms__WEBPACK_IMPORTED_MODULE_5__.Validators.required]);
        m.edit.form.form.valueChanges.subscribe(_ => {
          let addCitizenCountryValue = m.edit.form.getValue(applicant.citizenCountriesFormControlName);
          if (addCitizenCountryValue) {
            if (applicant.citizenCountries.indexOf(addCitizenCountryValue) < 0) {
              applicant.citizenCountries.push(addCitizenCountryValue);
            }
            m.edit.form.setValue(applicant.citizenCountriesFormControlName, '');
          }
          let addTaxCountryValue = m.edit.form.getValue(applicant.taxCountriesFormControlName);
          if (addTaxCountryValue) {
            if (applicant.taxCountries.indexOf(addTaxCountryValue) < 0) {
              applicant.taxCountries.push(addTaxCountryValue);
            }
            m.edit.form.setValue(applicant.taxCountriesFormControlName, '');
          }
        });
        m.edit.customers.push(applicant);
      }
    } else {
      m.view = {
        customers: [],
        isEditAllowed: t.isPossibleToAnswer && !t.isAnswersApproved,
        isConfirmAllowed: t.isPossibleToAnswer && !t.isAnswersApproved
      };
      for (let customer of t.customers) {
        let answers = customer.LatestQuestions ? customer.LatestQuestions.map(x => {
          return {
            questionText: x.QuestionText,
            answerText: x.AnswerText
          };
        }) : [{
          questionText: this.getQuestionText('isPep'),
          answerText: ''
        }, {
          questionText: this.getQuestionText('citizenCountries'),
          answerText: ''
        }, {
          questionText: this.getQuestionText('taxCountries'),
          answerText: ''
        }];
        m.view.customers.push({
          displayName: customer.CustomerShortName + (customer.CustomerBirthDate ? `, ${customer.CustomerBirthDate}` : ''),
          answers: answers
        });
        if (!customer.LatestQuestions) m.view.isConfirmAllowed = false;
      }
    }
    this.m = m;
  }
  onSave(evt) {
    evt?.preventDefault();
    let customersWithAnswers = [];
    this.m.edit.customers.forEach(customer => {
      let answers = [];
      let isPep = (0,src_app_common_types__WEBPACK_IMPORTED_MODULE_1__.parseTriStateBoolean)(this.m.edit.form.getValue(customer.isPepFormControlName));
      answers.push({
        QuestionCode: 'isPep',
        AnswerCode: isPep === true ? 'true' : isPep === false ? 'false' : '',
        QuestionText: this.getQuestionText('isPep'),
        AnswerText: isPep === true ? 'Ja' : isPep === false ? 'Nej' : ''
      });
      answers.push({
        QuestionCode: 'citizenCountries',
        AnswerCode: (0,src_app_common_types__WEBPACK_IMPORTED_MODULE_1__.stringJoin)(',', customer.citizenCountries),
        QuestionText: this.getQuestionText('citizenCountries'),
        AnswerText: (0,src_app_common_types__WEBPACK_IMPORTED_MODULE_1__.stringJoin)(', ', customer.citizenCountries.map(x => this.getCountryDisplayName(x)))
      });
      answers.push({
        QuestionCode: 'taxCountries',
        AnswerCode: (0,src_app_common_types__WEBPACK_IMPORTED_MODULE_1__.stringJoin)(',', customer.taxCountries),
        QuestionText: this.getQuestionText('taxCountries'),
        AnswerText: (0,src_app_common_types__WEBPACK_IMPORTED_MODULE_1__.stringJoin)(', ', customer.taxCountries.map(x => this.getCountryDisplayName(x)))
      });
      customersWithAnswers.push({
        customerId: customer.customerId,
        applicantNr: customer.applicantNr,
        answers: answers
      });
    });
    this.m.edit = null;
    this.initialData.onSave({
      customersWithAnswers
    });
  }
  invalid() {
    return this.m.edit?.form.invalid() || this.m.edit?.customers.find(x => x.invalid());
  }
  parseCommaSeparatedList(value) {
    if (!value) {
      return [];
    } else {
      return value.split(',').map(x => x.trim());
    }
  }
  static #_ = this.ɵfac = function TaskKycQuestionsComponent_Factory(t) {
    return new (t || TaskKycQuestionsComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵdirectiveInject"](_common_services_customer_pages_config_service__WEBPACK_IMPORTED_MODULE_3__.CustomerPagesConfigService), _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵdirectiveInject"](_angular_forms__WEBPACK_IMPORTED_MODULE_5__.UntypedFormBuilder));
  };
  static #_2 = this.ɵcmp = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵdefineComponent"]({
    type: TaskKycQuestionsComponent,
    selectors: [["task-kyc-questions"]],
    inputs: {
      initialData: "initialData"
    },
    features: [_angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵNgOnChangesFeature"]],
    decls: 1,
    vars: 1,
    consts: [[4, "ngIf"], [1, "pb-2"], [1, "pb-1", "text-center"], [1, "hr-section"], [1, "row"], ["class", "col-xs-12", 4, "ngFor", "ngForOf"], [1, "col-xs-12"], [1, "pb-3"], ["class", "pb-3", 4, "ngFor", "ngForOf"], [1, "bb-1"], [3, "formGroup"], [4, "ngFor", "ngForOf"], [1, "text-center", "pt-3"], [1, "n-main-btn", "n-green-btn", 3, "disabled", "click"], [1, "pb-3", "text-center"], [1, "form-group", 3, "ngClass"], [3, "ngClass"], [1, "form-control", 3, "formControlName"], ["value", ""], [3, "ngValue"], [1, "form-group"], ["class", "pb-1", 4, "ngFor", "ngForOf"], [1, "pb-1"], [1, "form-control-static", "bb-1", 2, "padding-right", "1px"], [1, "n-white-btn", "n-direct-btn", 2, "float", "right", 3, "click"], [3, "ngValue", 4, "ngIf"]],
    template: function TaskKycQuestionsComponent_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtemplate"](0, TaskKycQuestionsComponent_div_0_Template, 8, 2, "div", 0);
      }
      if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngIf", ctx.m);
      }
    },
    dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_6__.NgClass, _angular_common__WEBPACK_IMPORTED_MODULE_6__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_6__.NgIf, _angular_forms__WEBPACK_IMPORTED_MODULE_5__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_5__.NgSelectOption, _angular_forms__WEBPACK_IMPORTED_MODULE_5__["ɵNgSelectMultipleOption"], _angular_forms__WEBPACK_IMPORTED_MODULE_5__.SelectControlValueAccessor, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.NgControlStatus, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormGroupDirective, _angular_forms__WEBPACK_IMPORTED_MODULE_5__.FormControlName],
    encapsulation: 2
  });
}
class CustomerEditModel {
  constructor(customerId, applicantNr, displayName, citizenCountriesFormControlName, citizenCountries, isPepFormControlName, taxCountriesFormControlName, taxCountries) {
    this.customerId = customerId;
    this.applicantNr = applicantNr;
    this.displayName = displayName;
    this.citizenCountriesFormControlName = citizenCountriesFormControlName;
    this.citizenCountries = citizenCountries;
    this.isPepFormControlName = isPepFormControlName;
    this.taxCountriesFormControlName = taxCountriesFormControlName;
    this.taxCountries = taxCountries;
  }
  isCitizenCountrySelected(isoCode) {
    return this.citizenCountries.indexOf(isoCode) >= 0;
  }
  removeCitizenCountry(isoCode, evt) {
    evt?.preventDefault();
    let i = this.citizenCountries.indexOf(isoCode);
    if (i >= 0) {
      this.citizenCountries.splice(i, 1);
    }
  }
  isTaxCountrySelected(isoCode) {
    return this.taxCountries.indexOf(isoCode) >= 0;
  }
  removeTaxCountry(isoCode, evt) {
    evt?.preventDefault();
    let i = this.taxCountries.indexOf(isoCode);
    if (i >= 0) {
      this.taxCountries.splice(i, 1);
    }
  }
  invalid() {
    return this.citizenCountries.length === 0 || this.taxCountries.length === 0;
  }
}
class Model {}
class TaskKycQuestionsComponentInitialData {}

/***/ }),

/***/ 9004:
/*!*******************************************************************************************!*\
  !*** ./projects/customerpages/src/app/shared-components/task-page/task-page.component.ts ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TaskPageComponent: () => (/* binding */ TaskPageComponent)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ 1699);


const _c0 = ["*"];
class TaskPageComponent {
  constructor() {
    this.onClose = new _angular_core__WEBPACK_IMPORTED_MODULE_0__.EventEmitter();
  }
  close(evt) {
    evt.preventDefault();
    this.onClose.emit();
  }
  static #_ = this.ɵfac = function TaskPageComponent_Factory(t) {
    return new (t || TaskPageComponent)();
  };
  static #_2 = this.ɵcmp = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({
    type: TaskPageComponent,
    selectors: [["task-page"]],
    inputs: {
      headerText: "headerText",
      isStandalonePage: "isStandalonePage"
    },
    outputs: {
      onClose: "onClose"
    },
    ngContentSelectors: _c0,
    decls: 12,
    vars: 3,
    consts: [[1, "flex-container"], [1, "align-center"], [1, "pb-2"], [1, "pull-right"], [1, "n-icon-btn", "n-neutral-btn", "pull-right", 3, "click"], [1, "glyphicon-remove", "glyphicon", "close-task-icon"], [1, "clearfix"], [1, "text-center"]],
    template: function TaskPageComponent_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵprojectionDef"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0)(1, "div", 1)(2, "div", 2)(3, "div", 3)(4, "button", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function TaskPageComponent_Template_button_click_4_listener($event) {
          return ctx.close($event);
        });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](5, "span", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](6, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "div", 7)(8, "h1");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](9);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]()()();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](10, "div");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵprojection"](11);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]()()();
      }
      if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassProp"]("standalone", ctx.isStandalonePage);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](9);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.headerText);
      }
    },
    styles: [".flex-container.standalone[_ngcontent-%COMP%] {\n  min-height: 0;\n}\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3Byb2plY3RzL2N1c3RvbWVycGFnZXMvc3JjL2FwcC9zaGFyZWQtY29tcG9uZW50cy90YXNrLXBhZ2UvdGFzay1wYWdlLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNFO0VBQ0UsYUFBQTtBQUFKIiwic291cmNlc0NvbnRlbnQiOlsiLmZsZXgtY29udGFpbmVyIHtcclxuICAmLnN0YW5kYWxvbmUge1xyXG4gICAgbWluLWhlaWdodDogMDtcclxuICB9XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */"]
  });
}

/***/ }),

/***/ 1015:
/*!**********************************************************************************************************************************************!*\
  !*** ./projects/customerpages/src/app/unsecured-loan-applications/components/customer-pages-agreement/customer-pages-agreement.component.ts ***!
  \**********************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CustomerPagesAgreementComponent: () => (/* binding */ CustomerPagesAgreementComponent),
/* harmony export */   CustomerPagesAgreementInitialData: () => (/* binding */ CustomerPagesAgreementInitialData)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ 1699);
/* harmony import */ var _services_customer_pages_applications_api_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../services/customer-pages-applications-api.service */ 9024);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ 6575);



function CustomerPagesAgreementComponent_div_0_div_3_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 9)(1, "div", 10)(2, "label", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](3, "F\u00F6rhandsgranska");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](4, "div", 10)(5, "p", 12)(6, "a", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](7, "Ladda ned ");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](8, "span", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()()();
  }
  if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("href", ctx_r1.getDocumentUrl(ctx_r1.m.unsignedAgreementPdfArchiveKey), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵsanitizeUrl"]);
  }
}
function CustomerPagesAgreementComponent_div_0_div_4_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 9)(1, "div", 10)(2, "label", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](3, "Signerat avtal");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](4, "div", 10)(5, "p", 12)(6, "a", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](7, "Ladda ned ");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](8, "span", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()()();
  }
  if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("href", ctx_r2.getDocumentUrl(ctx_r2.m.signedAgreementPdfArchiveKey), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵsanitizeUrl"]);
  }
}
function CustomerPagesAgreementComponent_div_0_tr_17_a_4_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "a", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1, "Signera");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const applicant_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("href", applicant_r4.signatureUrl, _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵsanitizeUrl"]);
  }
}
function CustomerPagesAgreementComponent_div_0_tr_17_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "tr")(1, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](3, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](4, CustomerPagesAgreementComponent_div_0_tr_17_a_4_Template, 2, 1, "a", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](5, "td", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](6, "span", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const applicant_r4 = ctx.$implicit;
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](applicant_r4.applicantDisplayName);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", applicant_r4.signatureUrl);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngClass", ctx_r3.getIconClass(applicant_r4.hasSigned, false));
  }
}
function CustomerPagesAgreementComponent_div_0_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div")(1, "div", 1)(2, "div", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](3, CustomerPagesAgreementComponent_div_0_div_3_Template, 9, 1, "div", 3)(4, CustomerPagesAgreementComponent_div_0_div_4_Template, 9, 1, "div", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](5, "div", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](6, "\u00A0");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](7, "div", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](8, "table", 5)(9, "thead")(10, "tr")(11, "th", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](12, "S\u00F6kande");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](13, "th", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](14, "th", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](15, "Status");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](16, "tbody");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](17, CustomerPagesAgreementComponent_div_0_tr_17_Template, 7, 3, "tr", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()();
  }
  if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx_r0.m.unsignedAgreementPdfArchiveKey && !ctx_r0.m.signedAgreementPdfArchiveKey);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx_r0.m.signedAgreementPdfArchiveKey);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](13);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngForOf", ctx_r0.m.applicants);
  }
}
class CustomerPagesAgreementComponent {
  constructor(apiService) {
    this.apiService = apiService;
  }
  ngOnInit() {}
  ngOnChanges(changes) {
    this.m = null;
    if (!this.initialData) {
      return;
    }
    let t = this.initialData.task;
    let m = {
      signedAgreementPdfArchiveKey: t.SignedAgreementArchiveKey,
      unsignedAgreementPdfArchiveKey: t.UnsignedAgreementArchiveKey,
      applicants: []
    };
    let nrOfApplicants = Object.keys(t.ApplicantStatusByApplicantNr).length;
    for (var applicantNr = 1; applicantNr <= nrOfApplicants; applicantNr++) {
      let applicantStatus = t.ApplicantStatusByApplicantNr[applicantNr];
      let applicantDisplayName = (applicantStatus.CustomerShortName || `Sökande ${applicantNr}`) + (applicantStatus.CustomerBirthDate ? `, ${applicantStatus.CustomerBirthDate}` : '');
      m.applicants.push({
        applicantDisplayName: applicantDisplayName,
        applicantNr: applicantNr,
        hasSigned: applicantStatus.HasSigned,
        signatureUrl: applicantStatus.IsPossibleToSign ? applicantStatus.SignatureUrl : null
      });
    }
    this.m = m;
  }
  getIconClass(isAccepted, isRejected) {
    let isOther = !isAccepted && !isRejected;
    return {
      'glyphicon-ok': isAccepted,
      'glyphicon-remove': isRejected,
      'glyphicon-minus': isOther,
      'glyphicon': true,
      'text-success': isAccepted,
      'text-danger': isRejected
    };
  }
  getDocumentUrl(archiveKey) {
    return this.apiService.getArchiveDocumentUrl(archiveKey, true);
  }
  static #_ = this.ɵfac = function CustomerPagesAgreementComponent_Factory(t) {
    return new (t || CustomerPagesAgreementComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_services_customer_pages_applications_api_service__WEBPACK_IMPORTED_MODULE_0__.CustomerPagesApplicationsApiService));
  };
  static #_2 = this.ɵcmp = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
    type: CustomerPagesAgreementComponent,
    selectors: [["customer-pages-agreement"]],
    inputs: {
      initialData: "initialData"
    },
    features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵNgOnChangesFeature"]],
    decls: 1,
    vars: 1,
    consts: [[4, "ngIf"], [1, "pb-2"], [1, "col-xs-6"], ["class", "form-horizontal", 4, "ngIf"], [1, "clearfix"], [1, "table", "table-separate", "pt-2"], [1, "col-xs-4"], [1, "col-xs-2", "text-right"], [4, "ngFor", "ngForOf"], [1, "form-horizontal"], [1, "form-group"], [1, "col-xs-12", "control-label", "text-left"], [1, "col-xs-12", "form-control-static"], ["target", "_blank", 1, "n-direct-btn", "n-purple-btn", 3, "href"], [1, "glyphicon", "glyphicon-save"], ["class", "n-direct-btn n-white-btn", 3, "href", 4, "ngIf"], [1, "text-right"], [1, "ntech-status-icon", 3, "ngClass"], [1, "n-direct-btn", "n-white-btn", 3, "href"]],
    template: function CustomerPagesAgreementComponent_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](0, CustomerPagesAgreementComponent_div_0_Template, 18, 3, "div", 0);
      }
      if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.m);
      }
    },
    dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_2__.NgClass, _angular_common__WEBPACK_IMPORTED_MODULE_2__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_2__.NgIf],
    encapsulation: 2
  });
}
class Model {}
class CustomerPagesAgreementInitialData {}

/***/ }),

/***/ 9792:
/*!**************************************************************************************************************************************************************!*\
  !*** ./projects/customerpages/src/app/unsecured-loan-applications/components/customer-pages-application-offer/customer-pages-application-offer.component.ts ***!
  \**************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CustomerPagesApplicationOfferComponent: () => (/* binding */ CustomerPagesApplicationOfferComponent),
/* harmony export */   CustomerPagesApplicationOfferInitialData: () => (/* binding */ CustomerPagesApplicationOfferInitialData)
/* harmony export */ });
/* harmony import */ var C_Repository_BaCS_SelfContainedModules_ntech_backoffice_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 1670);
/* harmony import */ var src_app_common_services_complex_application_list__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/app/common-services/complex-application-list */ 1838);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/core */ 1699);
/* harmony import */ var _services_customer_pages_applications_api_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/customer-pages-applications-api.service */ 9024);
/* harmony import */ var _common_services_customerpages_event_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../common-services/customerpages-event.service */ 3211);
/* harmony import */ var _common_services_customer_pages_api_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../common-services/customer-pages-api.service */ 7991);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/common */ 6575);
/* harmony import */ var _task_toggle_block_task_toggle_block_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../task-toggle-block/task-toggle-block.component */ 2844);








function CustomerPagesApplicationOfferComponent_div_0_h1_1_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "h1", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtextInterpolate1"]("Ans\u00F6kan ", ctx_r1.m.applicationNr, "");
  }
}
function CustomerPagesApplicationOfferComponent_div_0_h1_2_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "h1", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](1, "V\u00E5rt erbjudande");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
  }
}
function CustomerPagesApplicationOfferComponent_div_0_p_3_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "p", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](1, "Totalt l\u00E5nebelopp");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
  }
}
function CustomerPagesApplicationOfferComponent_div_0_h1_4_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "h1", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpipe"](2, "number");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtextInterpolate2"]("", _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpipeBind2"](2, 2, ctx_r4.m.offerItems.getUniqueItemInteger("loanAmount"), "1.0-2"), " ", ctx_r4.currencySymbol(), "");
  }
}
function CustomerPagesApplicationOfferComponent_div_0_p_5_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "p", 13)(1, "b");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](2, "\u00C4rendet \u00E4r avslutat, du har tackat nej till erbjudandet.");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()();
  }
}
function CustomerPagesApplicationOfferComponent_div_0_tr_20_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "tr")(1, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](2, "\u00A0\u00A0\u00A0Varav l\u00F6senbelopp");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](3, "td", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpipe"](5, "number");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtextInterpolate2"]("", _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpipeBind2"](5, 2, ctx_r6.m.offerItems.getUniqueItemInteger("loansToSettleAmount"), "1.0-2"), " ", ctx_r6.currencySymbol(), "");
  }
}
function CustomerPagesApplicationOfferComponent_div_0_tr_21_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "tr")(1, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](2, "\u00A0\u00A0\u00A0Varav nytt l\u00E5n");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](3, "td", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpipe"](5, "number");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtextInterpolate2"]("", _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpipeBind2"](5, 2, ctx_r7.m.offerItems.getUniqueItemInteger("paidToCustomerAmount"), "1.0-2"), " ", ctx_r7.currencySymbol(), "");
  }
}
function CustomerPagesApplicationOfferComponent_div_0_tr_22_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "tr")(1, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](2, "Uppl\u00E4ggningsavgift som dras fr\u00E5n l\u00E5nebeloppet");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](3, "td", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpipe"](5, "number");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtextInterpolate2"]("", _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpipeBind2"](5, 2, ctx_r8.m.offerItems.getUniqueItemInteger("initialFeeWithheldAmount"), "1.0-2"), " ", ctx_r8.currencySymbol(), "");
  }
}
function CustomerPagesApplicationOfferComponent_div_0_tr_23_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "tr")(1, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](2, "Kapitaliserad uppl\u00E4ggningsavgift");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](3, "td", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpipe"](5, "number");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtextInterpolate2"]("", _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpipeBind2"](5, 2, ctx_r9.m.offerItems.getUniqueItemInteger("initialFeeCapitalizedAmount"), "1.0-2"), " ", ctx_r9.currencySymbol(), "");
  }
}
function CustomerPagesApplicationOfferComponent_div_0_tr_24_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "tr")(1, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](2, "\u00C5terbetalningstid");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](3, "td", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpipe"](5, "number");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const ctx_r10 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtextInterpolate1"]("", _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpipeBind2"](5, 1, ctx_r10.m.offerItems.getUniqueItemInteger("repaymentTimeInMonths"), "1.0-0"), " m\u00E5nader");
  }
}
function CustomerPagesApplicationOfferComponent_div_0_tr_25_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "tr")(1, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](2, "\u00C5terbetalningstid");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](3, "td", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpipe"](5, "number");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const ctx_r11 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtextInterpolate1"]("", _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpipeBind2"](5, 1, ctx_r11.m.offerItems.getUniqueItemInteger("singlePaymentLoanRepaymentTimeInDays"), "1.0-0"), " dagar");
  }
}
function CustomerPagesApplicationOfferComponent_div_0_tr_26_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "tr")(1, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](3, "td", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpipe"](5, "number");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const cost_r20 = ctx.$implicit;
    const ctx_r12 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtextInterpolate1"]("P\u00E5 f\u00F6rsta avin - ", cost_r20.displayName, "");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtextInterpolate2"]("", _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpipeBind2"](5, 3, cost_r20.amount, "1.0-2"), " ", ctx_r12.currencySymbol(), "");
  }
}
function CustomerPagesApplicationOfferComponent_div_0_tr_27_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "tr")(1, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](2, "Aviavgift");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](3, "td", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpipe"](5, "number");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const ctx_r13 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtextInterpolate2"]("", _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpipeBind2"](5, 2, ctx_r13.m.offerItems.getUniqueItemInteger("notificationFeeAmount"), "1.0-2"), " ", ctx_r13.currencySymbol(), "");
  }
}
function CustomerPagesApplicationOfferComponent_div_0_tr_28_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "tr")(1, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](2, "R\u00E4nta");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](3, "td", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpipe"](5, "number");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const ctx_r14 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtextInterpolate1"]("", _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpipeBind2"](5, 1, ctx_r14.m.offerItems.getUniqueItemDecimal("totalInterestRatePercent"), "1.2-4"), " %");
  }
}
function CustomerPagesApplicationOfferComponent_div_0_tr_29_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "tr")(1, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](2, "M\u00E5nadsbetalning");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](3, "td", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpipe"](5, "number");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const ctx_r15 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtextInterpolate2"]("", _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpipeBind2"](5, 2, ctx_r15.m.offerItems.getUniqueItemInteger("annuityAmount"), "1.0-2"), " ", ctx_r15.currencySymbol(), "");
  }
}
function CustomerPagesApplicationOfferComponent_div_0_tr_30_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "tr")(1, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](2, "Effektivr\u00E4nta");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](3, "td", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpipe"](5, "number");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const ctx_r16 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtextInterpolate1"]("", _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpipeBind2"](5, 1, ctx_r16.m.offerItems.getUniqueItemDecimal("effectiveInterestRatePercent"), "1.2-2"), " %");
  }
}
function CustomerPagesApplicationOfferComponent_div_0_tr_31_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "tr")(1, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](2, "Totalt att betala");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](3, "td", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpipe"](5, "number");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const ctx_r17 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtextInterpolate2"]("", _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpipeBind2"](5, 2, ctx_r17.m.offerItems.getUniqueItemDecimal("totalPaidAmount"), "1.0-2"), " ", ctx_r17.currencySymbol(), "");
  }
}
function CustomerPagesApplicationOfferComponent_div_0_tr_32_span_5_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](1, "Tackat ja");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
  }
}
function CustomerPagesApplicationOfferComponent_div_0_tr_32_span_6_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](1, "Tackat nej");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
  }
}
function CustomerPagesApplicationOfferComponent_div_0_tr_32_span_7_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r23 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtextInterpolate1"]("", ctx_r23.m.offerItems.getUniqueItem("customerDecisionCode"), " ");
  }
}
function CustomerPagesApplicationOfferComponent_div_0_tr_32_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "tr")(1, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](2, "Beslut");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](3, "td", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementContainerStart"](4, 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtemplate"](5, CustomerPagesApplicationOfferComponent_div_0_tr_32_span_5_Template, 2, 0, "span", 15)(6, CustomerPagesApplicationOfferComponent_div_0_tr_32_span_6_Template, 2, 0, "span", 15)(7, CustomerPagesApplicationOfferComponent_div_0_tr_32_span_7_Template, 2, 1, "span", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementContainerEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const ctx_r18 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngSwitch", ctx_r18.m.offerItems.getUniqueItem("customerDecisionCode"));
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngSwitchCase", "accepted");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngSwitchCase", "rejected");
  }
}
function CustomerPagesApplicationOfferComponent_div_0_div_33_Template(rf, ctx) {
  if (rf & 1) {
    const _r25 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "div", 17)(1, "div", 18)(2, "div", 19)(3, "button", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵlistener"]("click", function CustomerPagesApplicationOfferComponent_div_0_div_33_Template_button_click_3_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵrestoreView"](_r25);
      const ctx_r24 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"](2);
      return _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵresetView"](ctx_r24.rejectOffer($event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](4, "Tacka nej");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](5, "div", 21)(6, "button", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵlistener"]("click", function CustomerPagesApplicationOfferComponent_div_0_div_33_Template_button_click_6_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵrestoreView"](_r25);
      const ctx_r26 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"](2);
      return _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵresetView"](ctx_r26.acceptOffer($event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](7, "Tacka ja");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()()()();
  }
}
function CustomerPagesApplicationOfferComponent_div_0_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "div");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtemplate"](1, CustomerPagesApplicationOfferComponent_div_0_h1_1_Template, 2, 1, "h1", 1)(2, CustomerPagesApplicationOfferComponent_div_0_h1_2_Template, 2, 0, "h1", 1)(3, CustomerPagesApplicationOfferComponent_div_0_p_3_Template, 2, 0, "p", 2)(4, CustomerPagesApplicationOfferComponent_div_0_h1_4_Template, 3, 5, "h1", 3)(5, CustomerPagesApplicationOfferComponent_div_0_p_5_Template, 3, 0, "p", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵprojection"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](7, "task-toggle-block", 5)(8, "table", 6)(9, "thead")(10, "tr");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelement"](11, "th")(12, "th");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](13, "tbody")(14, "tr")(15, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](16, "L\u00E5nebelopp");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](17, "td", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](18);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpipe"](19, "number");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtemplate"](20, CustomerPagesApplicationOfferComponent_div_0_tr_20_Template, 6, 5, "tr", 0)(21, CustomerPagesApplicationOfferComponent_div_0_tr_21_Template, 6, 5, "tr", 0)(22, CustomerPagesApplicationOfferComponent_div_0_tr_22_Template, 6, 5, "tr", 0)(23, CustomerPagesApplicationOfferComponent_div_0_tr_23_Template, 6, 5, "tr", 0)(24, CustomerPagesApplicationOfferComponent_div_0_tr_24_Template, 6, 4, "tr", 0)(25, CustomerPagesApplicationOfferComponent_div_0_tr_25_Template, 6, 4, "tr", 0)(26, CustomerPagesApplicationOfferComponent_div_0_tr_26_Template, 6, 6, "tr", 8)(27, CustomerPagesApplicationOfferComponent_div_0_tr_27_Template, 6, 5, "tr", 0)(28, CustomerPagesApplicationOfferComponent_div_0_tr_28_Template, 6, 4, "tr", 0)(29, CustomerPagesApplicationOfferComponent_div_0_tr_29_Template, 6, 5, "tr", 0)(30, CustomerPagesApplicationOfferComponent_div_0_tr_30_Template, 6, 4, "tr", 0)(31, CustomerPagesApplicationOfferComponent_div_0_tr_31_Template, 6, 5, "tr", 0)(32, CustomerPagesApplicationOfferComponent_div_0_tr_32_Template, 8, 3, "tr", 0);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtemplate"](33, CustomerPagesApplicationOfferComponent_div_0_div_33_Template, 8, 0, "div", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngIf", ctx_r0.m.hasRejectedOffer);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngIf", !ctx_r0.m.hasRejectedOffer);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngIf", !ctx_r0.m.hasRejectedOffer);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngIf", !ctx_r0.m.hasRejectedOffer);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngIf", ctx_r0.m.hasRejectedOffer);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("initialData", ctx_r0.m.toggleInitialData);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](11);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtextInterpolate2"]("", _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpipeBind2"](19, 22, ctx_r0.m.offerItems.getUniqueItemInteger("loanAmount"), "1.0-2"), " ", ctx_r0.currencySymbol(), "");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngIf", ctx_r0.m.offerItems.getUniqueItemInteger("loansToSettleAmount") > 0);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngIf", ctx_r0.m.offerItems.getUniqueItemInteger("paidToCustomerAmount") > 0);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngIf", ctx_r0.m.offerItems.getUniqueItemInteger("initialFeeWithheldAmount") > 0);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngIf", ctx_r0.m.offerItems.getUniqueItemInteger("initialFeeCapitalizedAmount") > 0);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngIf", ctx_r0.m.offerItems.getUniqueItemInteger("repaymentTimeInMonths") > 0);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngIf", ctx_r0.m.offerItems.getUniqueItemInteger("singlePaymentLoanRepaymentTimeInDays") > 0);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngForOf", ctx_r0.m.firstNotificationCosts);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngIf", ctx_r0.m.offerItems.getUniqueItemInteger("notificationFeeAmount") > 0);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngIf", ctx_r0.m.offerItems.getUniqueItemInteger("totalInterestRatePercent") > 0);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngIf", ctx_r0.m.offerItems.getUniqueItemInteger("annuityAmount") > 0);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngIf", ctx_r0.m.offerItems.getUniqueItemInteger("effectiveInterestRatePercent") > 0);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngIf", ctx_r0.m.offerItems.getUniqueItemDecimal("totalPaidAmount") > 0);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngIf", ctx_r0.m.offerItems.getUniqueItem("customerDecisionCode") !== "initial");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngIf", ctx_r0.m.isPossibleToDecide);
  }
}
const _c0 = [[["", "focus-block", ""]]];
const _c1 = ["[focus-block]"];
class CustomerPagesApplicationOfferComponent {
  constructor(apiService, eventService, generalApiService) {
    this.apiService = apiService;
    this.eventService = eventService;
    this.generalApiService = generalApiService;
  }
  ngOnInit() {}
  ngOnChanges(_) {
    var _this = this;
    return (0,C_Repository_BaCS_SelfContainedModules_ntech_backoffice_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      _this.m = null;
      if (!_this.initialData) {
        return;
      }
      let customCosts = (yield _this.generalApiService.postLocal('api/embedded-customerpages/custom-costs', {})).map(x => ({
        code: x.code,
        firstNotificationCode: `firstNotificationCost_${x.code}_Amount`,
        text: x.text
      }));
      let offerItems = src_app_common_services_complex_application_list__WEBPACK_IMPORTED_MODULE_1__.ComplexApplicationListRow.fromDictionary('temp', 1, _this.initialData.offerItems);
      _this.m = {
        applicationNr: _this.initialData.applicationNr,
        offerItems: offerItems,
        firstNotificationCosts: offerItems.getUniqueItemNames().filter(x => x.startsWith('firstNotificationCost_') && x.endsWith('_Amount')).map(x => ({
          displayName: customCosts.find(y => y.firstNotificationCode === x)?.text ?? x,
          amount: offerItems.getUniqueItemInteger(x)
        })),
        isPossibleToDecide: _this.initialData.isPossibleToDecide,
        toggleInitialData: {
          headerText: 'Lånedetaljer',
          isInitiallyExpanded: _this.initialData.isPossibleToDecide,
          onExpandedToggled: null,
          toggleBlockId: null,
          isAccepted: offerItems.getUniqueItem('customerDecisionCode') == 'accepted',
          isRejected: offerItems.getUniqueItem('customerDecisionCode') == 'rejected'
        },
        hasRejectedOffer: offerItems.getUniqueItem('customerDecisionCode') == 'rejected'
      };
    })();
  }
  currencySymbol() {
    return 'kr';
  }
  acceptOffer(evt) {
    evt?.preventDefault();
    let applicationNr = this.initialData.applicationNr;
    this.apiService.setCustomerCreditDecisionCode(applicationNr, 'accepted').then(_ => {
      this.eventService.signalReloadApplication(applicationNr);
    });
  }
  rejectOffer(evt) {
    evt?.preventDefault();
    let applicationNr = this.initialData.applicationNr;
    this.apiService.setCustomerCreditDecisionCode(applicationNr, 'rejected').then(_ => {
      this.eventService.signalReloadApplication(applicationNr);
    });
  }
  static #_ = this.ɵfac = function CustomerPagesApplicationOfferComponent_Factory(t) {
    return new (t || CustomerPagesApplicationOfferComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵdirectiveInject"](_services_customer_pages_applications_api_service__WEBPACK_IMPORTED_MODULE_2__.CustomerPagesApplicationsApiService), _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵdirectiveInject"](_common_services_customerpages_event_service__WEBPACK_IMPORTED_MODULE_3__.CustomerPagesEventService), _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵdirectiveInject"](_common_services_customer_pages_api_service__WEBPACK_IMPORTED_MODULE_4__.CustomerPagesApiService));
  };
  static #_2 = this.ɵcmp = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵdefineComponent"]({
    type: CustomerPagesApplicationOfferComponent,
    selectors: [["customer-pages-application-offer"]],
    inputs: {
      initialData: "initialData"
    },
    features: [_angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵNgOnChangesFeature"]],
    ngContentSelectors: _c1,
    decls: 1,
    vars: 1,
    consts: [[4, "ngIf"], ["class", "text-center pb-3", 4, "ngIf"], ["class", "text-center", 4, "ngIf"], ["class", "header-light text-center pb-2", 4, "ngIf"], ["class", "align-center text-center pb-2", 4, "ngIf"], [3, "initialData"], [1, "table", "table-separate"], [1, "text-right"], [4, "ngFor", "ngForOf"], ["class", "pt-1", 4, "ngIf"], [1, "text-center", "pb-3"], [1, "text-center"], [1, "header-light", "text-center", "pb-2"], [1, "align-center", "text-center", "pb-2"], [3, "ngSwitch"], [4, "ngSwitchCase"], [4, "ngSwitchDefault"], [1, "pt-1"], [1, "row"], [1, "col-sm-5", "col-xs-6", "pt-1"], ["type", "button", 1, "n-direct-btn", "n-white-btn", 3, "click"], [1, "col-sm-7", "col-xs-6"], ["type", "button", 1, "n-main-btn", "n-green-btn", 3, "click"]],
    template: function CustomerPagesApplicationOfferComponent_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵprojectionDef"](_c0);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtemplate"](0, CustomerPagesApplicationOfferComponent_div_0_Template, 34, 25, "div", 0);
      }
      if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngIf", ctx.m);
      }
    },
    dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_7__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_7__.NgIf, _angular_common__WEBPACK_IMPORTED_MODULE_7__.NgSwitch, _angular_common__WEBPACK_IMPORTED_MODULE_7__.NgSwitchCase, _angular_common__WEBPACK_IMPORTED_MODULE_7__.NgSwitchDefault, _task_toggle_block_task_toggle_block_component__WEBPACK_IMPORTED_MODULE_5__.TaskToggleBlockComponent, _angular_common__WEBPACK_IMPORTED_MODULE_7__.DecimalPipe],
    encapsulation: 2
  });
}
class Model {}
class CustomerPagesApplicationOfferInitialData {}

/***/ }),

/***/ 7913:
/*!****************************************************************************************************************************************************!*\
  !*** ./projects/customerpages/src/app/unsecured-loan-applications/components/customer-pages-bankaccounts/customer-pages-bankaccounts.component.ts ***!
  \****************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CustomerPagesBankAccountsInitialData: () => (/* binding */ CustomerPagesBankAccountsInitialData),
/* harmony export */   CustomerPagesBankaccountsComponent: () => (/* binding */ CustomerPagesBankaccountsComponent)
/* harmony export */ });
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/forms */ 8849);
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! rxjs */ 4980);
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! rxjs */ 6231);
/* harmony import */ var src_app_common_services_ntech_forms_helper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! src/app/common-services/ntech-forms-helper */ 7093);
/* harmony import */ var src_app_common_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/app/common.types */ 198);
/* harmony import */ var src_app_country_specific_country_specific_validator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/country-specific/country-specific-validator */ 2288);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/core */ 1699);
/* harmony import */ var _services_customer_pages_applications_api_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../services/customer-pages-applications-api.service */ 9024);
/* harmony import */ var _common_services_customerpages_event_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../common-services/customerpages-event.service */ 3211);
/* harmony import */ var _common_services_customer_pages_config_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../common-services/customer-pages-config.service */ 5716);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/common */ 6575);











function CustomerPagesBankaccountsComponent_div_0_div_11_Template(rf, ctx) {
  if (rf & 1) {
    const _r9 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "div")(1, "button", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵlistener"]("click", function CustomerPagesBankaccountsComponent_div_0_div_11_Template_button_click_1_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵrestoreView"](_r9);
      const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"](2);
      return _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵresetView"](ctx_r8.beginEditNewLoan($event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelement"](2, "span", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("disabled", ctx_r1.m.edit);
  }
}
function CustomerPagesBankaccountsComponent_div_0_div_12_Template(rf, ctx) {
  if (rf & 1) {
    const _r11 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "div")(1, "button", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵlistener"]("click", function CustomerPagesBankaccountsComponent_div_0_div_12_Template_button_click_1_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵrestoreView"](_r11);
      const ctx_r10 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"](2);
      return _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵresetView"](ctx_r10.onCancelNewLoan($event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelement"](2, "span", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](3, "button", 23);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵlistener"]("click", function CustomerPagesBankaccountsComponent_div_0_div_12_Template_button_click_3_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵrestoreView"](_r11);
      const ctx_r12 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"](2);
      return _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵresetView"](ctx_r12.onSaveNewLoan($event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelement"](4, "span", 24);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("disabled", ctx_r2.m.edit == null ? null : ctx_r2.m.edit.paidToCustomerForm == null ? null : ctx_r2.m.edit.paidToCustomerForm.invalid());
  }
}
function CustomerPagesBankaccountsComponent_div_0_div_21_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "div", 13)(1, "p", 25);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtextInterpolate"](ctx_r3.m.view.paidToCustomer.account == null ? null : ctx_r3.m.view.paidToCustomer.account.getAccountNrDisplay());
  }
}
const _c0 = a0 => ({
  "has-error": a0
});
function CustomerPagesBankaccountsComponent_div_0_div_22_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "div", 26);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelement"](1, "input", 27);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpureFunction1"](1, _c0, ctx_r4.m.edit == null ? null : ctx_r4.m.edit.paidToCustomerForm == null ? null : ctx_r4.m.edit.paidToCustomerForm.hasError("bankAccountNr")));
  }
}
function CustomerPagesBankaccountsComponent_div_0_div_23_div_10_Template(rf, ctx) {
  if (rf & 1) {
    const _r16 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "div")(1, "button", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵlistener"]("click", function CustomerPagesBankaccountsComponent_div_0_div_23_div_10_Template_button_click_1_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵrestoreView"](_r16);
      const ctx_r15 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"](3);
      return _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵresetView"](ctx_r15.beginEditLoansToSettle($event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelement"](2, "span", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const ctx_r13 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("disabled", ctx_r13.m.edit);
  }
}
function CustomerPagesBankaccountsComponent_div_0_div_23_div_11_Template(rf, ctx) {
  if (rf & 1) {
    const _r18 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "div")(1, "button", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵlistener"]("click", function CustomerPagesBankaccountsComponent_div_0_div_23_div_11_Template_button_click_1_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵrestoreView"](_r18);
      const ctx_r17 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"](3);
      return _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵresetView"](ctx_r17.onCancelLoansToSettle($event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelement"](2, "span", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](3, "button", 23);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵlistener"]("click", function CustomerPagesBankaccountsComponent_div_0_div_23_div_11_Template_button_click_3_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵrestoreView"](_r18);
      const ctx_r19 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"](3);
      return _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵresetView"](ctx_r19.onSaveLoansToSettle($event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelement"](4, "span", 24);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const ctx_r14 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("disabled", ctx_r14.m.edit == null ? null : ctx_r14.m.edit.loansToSettleForm == null ? null : ctx_r14.m.edit.loansToSettleForm.invalid());
  }
}
function CustomerPagesBankaccountsComponent_div_0_div_23_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "div", 2)(1, "h2");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](2, "L\u00F6sen av l\u00E5n");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelement"](3, "hr", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](4, "div", 4)(5, "div", 5)(6, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](7, "Ange betalinformation f\u00F6r l\u00E5nen som ska l\u00F6sas.");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](8, "div", 6)(9, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtemplate"](10, CustomerPagesBankaccountsComponent_div_0_div_23_div_10_Template, 3, 1, "div", 8)(11, CustomerPagesBankaccountsComponent_div_0_div_23_div_11_Template, 5, 1, "div", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()()()();
  }
  if (rf & 2) {
    const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](10);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngIf", ctx_r5.m.isPossibleToEditLoansToSettleBankAccounts && !(ctx_r5.m.edit == null ? null : ctx_r5.m.edit.loansToSettleForm));
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngIf", ctx_r5.m.edit && (ctx_r5.m.edit == null ? null : ctx_r5.m.edit.loansToSettleForm));
  }
}
function CustomerPagesBankaccountsComponent_div_0_div_24_div_2_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "div");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](1, "Inga");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
  }
}
function CustomerPagesBankaccountsComponent_div_0_div_24_div_3_div_9_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "div", 13)(1, "p", 25);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const loan_r22 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtextInterpolate"](loan_r22.account.getAccountTypeDisplay());
  }
}
function CustomerPagesBankaccountsComponent_div_0_div_24_div_3_div_10_option_2_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "option", 32);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const t_r33 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngValue", t_r33.Code);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtextInterpolate"](t_r33.DisplayName);
  }
}
function CustomerPagesBankaccountsComponent_div_0_div_24_div_3_div_10_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "div", 13)(1, "select", 30);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtemplate"](2, CustomerPagesBankaccountsComponent_div_0_div_24_div_3_div_10_option_2_Template, 2, 2, "option", 31);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const loan_r22 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"]().$implicit;
    const ctx_r24 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("formControlName", "bankAccountNrType" + loan_r22.nr);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngForOf", ctx_r24.getPossibleBankAccountNrTypes());
  }
}
function CustomerPagesBankaccountsComponent_div_0_div_24_div_3_div_15_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "div", 13)(1, "p", 25);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const loan_r22 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtextInterpolate"](loan_r22.account.getAccountNrDisplay());
  }
}
function CustomerPagesBankaccountsComponent_div_0_div_24_div_3_div_16_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "div", 26);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelement"](1, "input", 33);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const loan_r22 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"]().$implicit;
    const ctx_r26 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpureFunction1"](2, _c0, (ctx_r26.m.edit == null ? null : ctx_r26.m.edit.loansToSettleForm == null ? null : ctx_r26.m.edit.loansToSettleForm.hasNamedValidationError("bankAccountInvalid" + loan_r22.nr)) || (ctx_r26.m.edit == null ? null : ctx_r26.m.edit.loansToSettleForm.hasError("bankAccountNr" + loan_r22.nr))));
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("formControlName", "bankAccountNr" + loan_r22.nr);
  }
}
function CustomerPagesBankaccountsComponent_div_0_div_24_div_3_div_18_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "div", 13)(1, "label", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const loan_r22 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"]().$implicit;
    const ctx_r27 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtextInterpolate"](ctx_r27.currentSettlementPaymentReferenceType(loan_r22) == "ref" ? "OCR" : "Meddelande");
  }
}
function CustomerPagesBankaccountsComponent_div_0_div_24_div_3_div_19_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "div", 13)(1, "label", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](2, "OCR");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](3, "\u00A0\u00A0");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelement"](4, "input", 34);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](5, "span", 35)(6, "label", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](7, "Meddelande");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](8, "\u00A0\u00A0");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelement"](9, "input", 36);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const loan_r22 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("formControlName", "settlementPaymentReferenceType" + loan_r22.nr);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("formControlName", "settlementPaymentReferenceType" + loan_r22.nr);
  }
}
function CustomerPagesBankaccountsComponent_div_0_div_24_div_3_div_20_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "div", 13)(1, "p", 25);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const loan_r22 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"]().$implicit;
    const ctx_r29 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtextInterpolate"](ctx_r29.currentSettlementPaymentReferenceType(loan_r22) == "ref" ? loan_r22.settlementPaymentReference : loan_r22.settlementPaymentMessage);
  }
}
function CustomerPagesBankaccountsComponent_div_0_div_24_div_3_div_21_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "div", 26);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelement"](1, "input", 33);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const loan_r22 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"]().$implicit;
    const ctx_r30 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpureFunction1"](2, _c0, (ctx_r30.m.edit == null ? null : ctx_r30.m.edit.loansToSettleForm == null ? null : ctx_r30.m.edit.loansToSettleForm.hasNamedValidationError("settlementPaymentReferenceInvalid" + loan_r22.nr)) || (ctx_r30.m.edit == null ? null : ctx_r30.m.edit.loansToSettleForm.hasError("settlementPaymentReference" + loan_r22.nr))));
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("formControlName", "settlementPaymentReference" + loan_r22.nr);
  }
}
function CustomerPagesBankaccountsComponent_div_0_div_24_div_3_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "div")(1, "h3");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpipe"](3, "number");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](4, "div", 10)(5, "div", 29)(6, "div", 13)(7, "label", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](8, "Kontotyp");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtemplate"](9, CustomerPagesBankaccountsComponent_div_0_div_24_div_3_div_9_Template, 3, 1, "div", 15)(10, CustomerPagesBankaccountsComponent_div_0_div_24_div_3_div_10_Template, 3, 2, "div", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](11, "div", 29)(12, "div", 13)(13, "label", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](14, "BG / PG-nummer");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtemplate"](15, CustomerPagesBankaccountsComponent_div_0_div_24_div_3_div_15_Template, 3, 1, "div", 15)(16, CustomerPagesBankaccountsComponent_div_0_div_24_div_3_div_16_Template, 2, 4, "div", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](17, "div", 29);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtemplate"](18, CustomerPagesBankaccountsComponent_div_0_div_24_div_3_div_18_Template, 3, 1, "div", 15)(19, CustomerPagesBankaccountsComponent_div_0_div_24_div_3_div_19_Template, 10, 2, "div", 15)(20, CustomerPagesBankaccountsComponent_div_0_div_24_div_3_div_20_Template, 3, 1, "div", 15)(21, CustomerPagesBankaccountsComponent_div_0_div_24_div_3_div_21_Template, 2, 4, "div", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()()();
  }
  if (rf & 2) {
    const loan_r22 = ctx.$implicit;
    const ctx_r21 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtextInterpolate2"]("", ctx_r21.getOtherLoanTypeDisplayName(loan_r22.loanType), ", ", _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵpipeBind1"](3, 10, loan_r22.currentDebtAmount), " kr");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](7);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngIf", !(ctx_r21.m.edit == null ? null : ctx_r21.m.edit.loansToSettleForm));
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngIf", ctx_r21.m.edit == null ? null : ctx_r21.m.edit.loansToSettleForm);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngIf", !(ctx_r21.m.edit == null ? null : ctx_r21.m.edit.loansToSettleForm));
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngIf", ctx_r21.m.edit == null ? null : ctx_r21.m.edit.loansToSettleForm);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngIf", !(ctx_r21.m.edit == null ? null : ctx_r21.m.edit.loansToSettleForm));
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngIf", ctx_r21.m.edit == null ? null : ctx_r21.m.edit.loansToSettleForm);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngIf", !(ctx_r21.m.edit == null ? null : ctx_r21.m.edit.loansToSettleForm));
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngIf", ctx_r21.m.edit == null ? null : ctx_r21.m.edit.loansToSettleForm);
  }
}
function CustomerPagesBankaccountsComponent_div_0_div_24_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "div")(1, "form", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtemplate"](2, CustomerPagesBankaccountsComponent_div_0_div_24_div_2_Template, 2, 0, "div", 8)(3, CustomerPagesBankaccountsComponent_div_0_div_24_div_3_Template, 22, 12, "div", 28);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("formGroup", (ctx_r6.m.edit == null ? null : ctx_r6.m.edit.loansToSettleForm == null ? null : ctx_r6.m.edit.loansToSettleForm.form) || ctx_r6.m.dummyViewForm);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngIf", ctx_r6.m.view.loansToSettle.length === 0);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngForOf", ctx_r6.m.view.loansToSettle);
  }
}
function CustomerPagesBankaccountsComponent_div_0_div_25_Template(rf, ctx) {
  if (rf & 1) {
    const _r42 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "div", 37)(1, "button", 38);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵlistener"]("click", function CustomerPagesBankaccountsComponent_div_0_div_25_Template_button_click_1_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵrestoreView"](_r42);
      const ctx_r41 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"](2);
      return _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵresetView"](ctx_r41.approveBankAccounts());
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](2, " Godk\u00E4nn ");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("disabled", ctx_r7.m.edit || !ctx_r7.m.isPossibleToConfirm);
  }
}
function CustomerPagesBankaccountsComponent_div_0_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "div", 1)(1, "div", 2)(2, "h2");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](3, "Ditt mottagarkonto");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelement"](4, "hr", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](5, "div", 4)(6, "div", 5)(7, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](8, "Mottagarkontot \u00E4r det bankkonto som det nya l\u00E5net kommer betalas ut till.");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](9, "div", 6)(10, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtemplate"](11, CustomerPagesBankaccountsComponent_div_0_div_11_Template, 3, 1, "div", 8)(12, CustomerPagesBankaccountsComponent_div_0_div_12_Template, 5, 1, "div", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](13, "div", 9)(14, "div")(15, "div", 10)(16, "form", 11)(17, "div", 12)(18, "div", 13)(19, "label", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](20, "Bankkontonummer");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtemplate"](21, CustomerPagesBankaccountsComponent_div_0_div_21_Template, 3, 1, "div", 15)(22, CustomerPagesBankaccountsComponent_div_0_div_22_Template, 2, 3, "div", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()()()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtemplate"](23, CustomerPagesBankaccountsComponent_div_0_div_23_Template, 12, 2, "div", 17)(24, CustomerPagesBankaccountsComponent_div_0_div_24_Template, 4, 3, "div", 8)(25, CustomerPagesBankaccountsComponent_div_0_div_25_Template, 3, 1, "div", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](11);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngIf", ctx_r0.m.isPossibleToEditPaidToCustomerBankAccount && !(ctx_r0.m.edit == null ? null : ctx_r0.m.edit.paidToCustomerForm));
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngIf", ctx_r0.m.edit && (ctx_r0.m.edit == null ? null : ctx_r0.m.edit.paidToCustomerForm));
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("formGroup", (ctx_r0.m.edit == null ? null : ctx_r0.m.edit.paidToCustomerForm == null ? null : ctx_r0.m.edit.paidToCustomerForm.form) || ctx_r0.m.dummyViewForm);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngIf", !(ctx_r0.m.edit == null ? null : ctx_r0.m.edit.paidToCustomerForm));
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngIf", ctx_r0.m.edit == null ? null : ctx_r0.m.edit.paidToCustomerForm);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngIf", (ctx_r0.m == null ? null : ctx_r0.m.view == null ? null : ctx_r0.m.view.loansToSettle == null ? null : ctx_r0.m.view.loansToSettle.length) > 0);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngIf", (ctx_r0.m == null ? null : ctx_r0.m.view == null ? null : ctx_r0.m.view.loansToSettle == null ? null : ctx_r0.m.view.loansToSettle.length) > 0);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngIf", !ctx_r0.m.isBankAccountsConfirmed);
  }
}
const RefTypeReference = 'ref';
const RefTypeMessage = 'msg';
class CustomerPagesBankaccountsComponent {
  constructor(apiService, fb, eventService, config) {
    this.apiService = apiService;
    this.fb = fb;
    this.eventService = eventService;
    this.config = config;
  }
  ngOnInit() {}
  ngOnChanges(changes) {
    this.m = null;
    if (!this.initialData) {
      return;
    }
    let i = this.initialData;
    let bankAccountRequest = {};
    if (i.task?.PaidToCustomer?.BankAccountNr) {
      bankAccountRequest['p'] = {
        bankAccountNr: i.task.PaidToCustomer.BankAccountNr,
        bankAccountNrType: i.task.PaidToCustomer.BankAccountNrType
      };
    }
    if (i.task?.LoansToSettle) {
      for (let s of i.task.LoansToSettle.filter(x => x.BankAccountNr)) {
        bankAccountRequest['L' + s.Nr] = {
          bankAccountNr: s.BankAccountNr,
          bankAccountNrType: s.BankAccountNrType
        };
      }
    }
    this.apiService.validateBankAccountNrsBatch(bankAccountRequest, false).then(x => {
      let m = {
        view: {
          paidToCustomer: null,
          loansToSettle: null
        },
        dummyViewForm: this.fb.group({}),
        isPossibleToEditPaidToCustomerBankAccount: this.initialData.task.IsPossibleToEditPaidToCustomerBankAccount,
        isPossibleToEditLoansToSettleBankAccounts: this.initialData.task.IsPossibleToEditLoansToSettleBankAccounts,
        isPossibleToConfirm: false,
        isBankAccountsConfirmed: this.initialData.task.IsAccepted
      };
      let p = i.task.PaidToCustomer;
      m.view.paidToCustomer = {
        amount: p.Amount,
        account: new ViewAccount(p.BankAccountNr, p.BankAccountNrType, x.ValidatedAccountsByKey['p'])
      };
      let paidToCustomerAccountValid = x.ValidatedAccountsByKey['p']?.IsValid ?? false;
      m.view.loansToSettle = [];
      let settleAccountsValid = false;
      if (i.task?.LoansToSettle?.length > 0) {
        for (let s of i.task.LoansToSettle) {
          let account = x.ValidatedAccountsByKey['L' + s.Nr];
          m.view.loansToSettle.push({
            nr: s.Nr,
            loanType: s.LoanType,
            currentDebtAmount: s.CurrentDebtAmount,
            monthlyCostAmount: s.MonthlyCostAmount,
            settlementPaymentReference: s.SettlementPaymentReference,
            settlementPaymentMessage: s.SettlementPaymentMessage,
            account: new ViewAccount(s.BankAccountNr, s.BankAccountNrType, account)
          });
          if (account?.IsValid) settleAccountsValid = true;
        }
      } else settleAccountsValid = true; // when no loans to settle
      m.isPossibleToConfirm = !this.initialData.task.IsAccepted && paidToCustomerAccountValid && settleAccountsValid;
      this.m = m;
    });
  }
  getOtherLoanTypeDisplayName(loanType) {
    if (!loanType) {
      return '';
    }
    let t = this.initialData.otherLoanTypes.find(x => x.Code == loanType);
    if (t) {
      return t.DisplayName;
    } else {
      return loanType;
    }
  }
  beginEditNewLoan(evt) {
    let form = new src_app_common_services_ntech_forms_helper__WEBPACK_IMPORTED_MODULE_0__.FormsHelper(this.fb.group({}));
    let bankAccountValidator = src_app_common_services_ntech_forms_helper__WEBPACK_IMPORTED_MODULE_0__.FormsHelper.createValidatorAsync('bankAccountNr', x => {
      if (!x) {
        return (0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(true); //Handled by required
      }
      return (0,rxjs__WEBPACK_IMPORTED_MODULE_8__.from)(this.apiService.validateBankAccountNrsBatch({
        b: {
          bankAccountNr: x,
          bankAccountNrType: ''
        }
      }, true).then(y => {
        let result = y.ValidatedAccountsByKey['b'];
        return result?.IsValid === true;
      }));
    });
    form.addControlIfNotExists('bankAccountNr', this.m.view.paidToCustomer.account.bankAccountNr, [_angular_forms__WEBPACK_IMPORTED_MODULE_9__.Validators.required], [bankAccountValidator]);
    this.m.edit = {
      paidToCustomerForm: form,
      loansToSettleForm: null
    };
  }
  onCancelNewLoan(evt) {
    this.m.edit = null;
  }
  onSaveNewLoan(evt) {
    evt?.preventDefault();
    let applicationNr = this.initialData.applicationNr;
    this.apiService.editBankAccounts({
      applicationNr: applicationNr,
      paidToCustomer: {
        bankAccountNr: this.m.edit.paidToCustomerForm.getValue('bankAccountNr'),
        bankAccountNrType: null
      }
    }).then(_ => {
      this.eventService.signalReloadApplication(this.initialData.applicationNr);
    });
  }
  beginEditLoansToSettle(evt) {
    evt?.preventDefault();
    let form = new src_app_common_services_ntech_forms_helper__WEBPACK_IMPORTED_MODULE_0__.FormsHelper(this.fb.group({}));
    for (let account of this.m.view.loansToSettle) {
      let refType = this.currentSettlementPaymentReferenceType(account);
      form.addControlIfNotExists('bankAccountNr' + account.nr, account.account.bankAccountNr, [_angular_forms__WEBPACK_IMPORTED_MODULE_9__.Validators.required]);
      form.addControlIfNotExists('bankAccountNrType' + account.nr, account.account.bankAccountNrType, [_angular_forms__WEBPACK_IMPORTED_MODULE_9__.Validators.required]);
      form.addControlIfNotExists('settlementPaymentReference' + account.nr, refType == RefTypeReference ? account.settlementPaymentReference : account.settlementPaymentMessage, [_angular_forms__WEBPACK_IMPORTED_MODULE_9__.Validators.minLength(2)]);
      form.addControlIfNotExists('settlementPaymentReferenceType' + account.nr, refType, [_angular_forms__WEBPACK_IMPORTED_MODULE_9__.Validators.required]);
    }
    let countryValidator = (0,src_app_country_specific_country_specific_validator__WEBPACK_IMPORTED_MODULE_2__.createCountrySpecificValidatorUsingCountryIsoCode)(this.config.baseCountry());
    form.form.setAsyncValidators([x => {
      let request = {};
      for (let loan of this.m.view.loansToSettle) {
        let bankAccountNr = form.getValue('bankAccountNr' + loan.nr);
        let bankAccountNrType = form.getValue('bankAccountNrType' + loan.nr);
        if (bankAccountNr) {
          request['bankAccountInvalid' + loan.nr] = {
            bankAccountNr: bankAccountNr,
            bankAccountNrType: bankAccountNrType
          };
        }
      }
      let result = this.apiService.validateBankAccountNrsBatch(request, true).then(x => {
        let errors = {};
        for (let errorName of Object.keys(x.ValidatedAccountsByKey)) {
          if (!x.ValidatedAccountsByKey[errorName].IsValid) {
            errors[errorName] = true;
          }
        }
        return errors;
      });
      return (0,rxjs__WEBPACK_IMPORTED_MODULE_8__.from)(result);
    }, x => {
      let errors = {};
      for (let loan of this.m.view.loansToSettle) {
        let bankAccountNrType = form.getValue('bankAccountNrType' + loan.nr);
        let settlementPaymentReferenceType = this.currentSettlementPaymentReferenceType(loan.nr);
        let settlementPaymentReference = form.getValue('settlementPaymentReference' + loan.nr);
        if (settlementPaymentReferenceType === RefTypeReference && !countryValidator.isValidPaymentFileReferenceNr(bankAccountNrType, settlementPaymentReference)) {
          errors['settlementPaymentReferenceInvalid' + loan.nr] = true;
        }
      }
      return (0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(errors);
    }]);
    this.m.edit = {
      paidToCustomerForm: null,
      loansToSettleForm: form
    };
  }
  currentSettlementPaymentReferenceType(loanViewOrEditNr) {
    if (typeof loanViewOrEditNr === 'number') {
      return this.m.edit.loansToSettleForm.getValue('settlementPaymentReferenceType' + loanViewOrEditNr);
    } else {
      let hasRef = !!loanViewOrEditNr.settlementPaymentReference;
      let hasMsg = !!loanViewOrEditNr.settlementPaymentMessage;
      return hasRef || !hasRef && !hasMsg ? RefTypeReference : RefTypeMessage;
    }
  }
  onCancelLoansToSettle(evt) {
    this.m.edit = null;
  }
  onSaveLoansToSettle(evt) {
    evt?.preventDefault();
    let applicationNr = this.initialData.applicationNr;
    this.apiService.editBankAccounts({
      applicationNr: applicationNr,
      loansToSettle: {
        Accounts: this.m.view.loansToSettle.map(x => {
          let refType = this.currentSettlementPaymentReferenceType(x.nr);
          let f = this.m.edit.loansToSettleForm;
          return {
            nr: x.nr,
            bankAccountNr: f.getValue('bankAccountNr' + x.nr),
            bankAccountNrType: f.getValue('bankAccountNrType' + x.nr),
            settlementPaymentReference: refType === RefTypeReference ? f.getValue('settlementPaymentReference' + x.nr) : null,
            settlementPaymentMessage: refType === RefTypeMessage ? f.getValue('settlementPaymentReference' + x.nr) : null
          };
        })
      }
    }).then(_ => {
      this.eventService.signalReloadApplication(this.initialData.applicationNr);
    });
  }
  approveBankAccounts() {
    this.apiService.confirmBankAccounts(this.initialData.applicationNr).then(_ => {
      this.eventService.signalReloadApplicationAndClosePopup(this.initialData.applicationNr);
    });
  }
  getPossibleBankAccountNrTypes() {
    return (0,src_app_common_types__WEBPACK_IMPORTED_MODULE_1__.getBankAccountTypeDropdownOptions)(this.config.getClient().BaseCountry, true, this.config.uiLanguage(), true);
  }
  static #_ = this.ɵfac = function CustomerPagesBankaccountsComponent_Factory(t) {
    return new (t || CustomerPagesBankaccountsComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵdirectiveInject"](_services_customer_pages_applications_api_service__WEBPACK_IMPORTED_MODULE_3__.CustomerPagesApplicationsApiService), _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵdirectiveInject"](_angular_forms__WEBPACK_IMPORTED_MODULE_9__.UntypedFormBuilder), _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵdirectiveInject"](_common_services_customerpages_event_service__WEBPACK_IMPORTED_MODULE_4__.CustomerPagesEventService), _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵdirectiveInject"](_common_services_customer_pages_config_service__WEBPACK_IMPORTED_MODULE_5__.CustomerPagesConfigService));
  };
  static #_2 = this.ɵcmp = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵdefineComponent"]({
    type: CustomerPagesBankaccountsComponent,
    selectors: [["customer-pages-bankaccounts"]],
    inputs: {
      initialData: "initialData"
    },
    features: [_angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵNgOnChangesFeature"]],
    decls: 1,
    vars: 1,
    consts: [["class", "pt-2", 4, "ngIf"], [1, "pt-2"], [1, "pb-1"], [1, "hr-section"], [1, "row"], [1, "col-sm-10", "col-xs-12"], [1, "col-sm-2", "col-xs-12"], [1, "text-right"], [4, "ngIf"], [1, "pb-3"], [1, "row", "pb-2"], [3, "formGroup"], [1, "col-sm-8", "col-xs-12"], [1, "form-group"], [1, "control-label"], ["class", "form-group", 4, "ngIf"], ["class", "form-group", 3, "ngClass", 4, "ngIf"], ["class", "pb-1", 4, "ngIf"], ["class", "text-center pt-3", 4, "ngIf"], [1, "n-icon-btn", "n-blue-btn", 3, "disabled", "click"], [1, "glyphicon", "glyphicon-pencil"], [1, "n-icon-btn", "n-white-btn", 2, "margin-right", "5px", 3, "click"], [1, "glyphicon", "glyphicon-remove"], [1, "n-icon-btn", "n-green-btn", 3, "disabled", "click"], [1, "glyphicon", "glyphicon-ok"], [1, "form-control-static", "copyable", "bb-1"], [1, "form-group", 3, "ngClass"], ["formControlName", "bankAccountNr", "type", "text", 1, "form-control"], [4, "ngFor", "ngForOf"], [1, "col-xs-12", "col-sm-4", "pt-1"], [1, "form-control", 3, "formControlName"], [3, "ngValue", 4, "ngFor", "ngForOf"], [3, "ngValue"], ["type", "text", 1, "form-control", 3, "formControlName"], ["type", "radio", "value", "ref", 3, "formControlName"], [1, "pull-right"], ["type", "radio", "value", "msg", 3, "formControlName"], [1, "text-center", "pt-3"], ["type", "button", 1, "n-main-btn", "n-green-btn", 3, "disabled", "click"]],
    template: function CustomerPagesBankaccountsComponent_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtemplate"](0, CustomerPagesBankaccountsComponent_div_0_Template, 26, 8, "div", 0);
      }
      if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngIf", ctx.m);
      }
    },
    dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_10__.NgClass, _angular_common__WEBPACK_IMPORTED_MODULE_10__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_10__.NgIf, _angular_forms__WEBPACK_IMPORTED_MODULE_9__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_9__.NgSelectOption, _angular_forms__WEBPACK_IMPORTED_MODULE_9__["ɵNgSelectMultipleOption"], _angular_forms__WEBPACK_IMPORTED_MODULE_9__.DefaultValueAccessor, _angular_forms__WEBPACK_IMPORTED_MODULE_9__.SelectControlValueAccessor, _angular_forms__WEBPACK_IMPORTED_MODULE_9__.RadioControlValueAccessor, _angular_forms__WEBPACK_IMPORTED_MODULE_9__.NgControlStatus, _angular_forms__WEBPACK_IMPORTED_MODULE_9__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_9__.FormGroupDirective, _angular_forms__WEBPACK_IMPORTED_MODULE_9__.FormControlName, _angular_common__WEBPACK_IMPORTED_MODULE_10__.DecimalPipe],
    encapsulation: 2
  });
}
class Model {}
class ViewAccount {
  constructor(bankAccountNr, bankAccountNrType, parsedAccount) {
    this.bankAccountNr = bankAccountNr;
    this.bankAccountNrType = bankAccountNrType;
    this.parsedAccount = parsedAccount;
  }
  getAccountNrDisplay() {
    let v = this.parsedAccount?.ValidAccount;
    let result = v?.DisplayNr || this.bankAccountNr;
    if (v?.BankName) {
      result += ` (${v.BankName})`;
    }
    return result;
  }
  getAccountTypeDisplay() {
    let v = this.parsedAccount?.ValidAccount;
    //@ts-ignore TODO remove unused locals
    let result = v?.DisplayNr || this.bankAccountNr;
    if (v?.BankName) {
      result += ` (${v.BankName})`;
    }
    let accountNrType = v?.BankAccountNrType || this.bankAccountNrType;
    if (accountNrType == 'BankGiroSe') {
      return 'Bankgiro';
    } else if (accountNrType == 'PlusGiroSe') {
      return 'Plusgiro';
    }
    return '';
  }
}
class CustomerPagesBankAccountsInitialData {}

/***/ }),

/***/ 5491:
/*!****************************************************************************************************************************************************!*\
  !*** ./projects/customerpages/src/app/unsecured-loan-applications/components/customer-pages-direct-debit/customer-pages-direct-debit.component.ts ***!
  \****************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CustomerPagesDirectDebitComponent: () => (/* binding */ CustomerPagesDirectDebitComponent),
/* harmony export */   DirectDebitInitialData: () => (/* binding */ DirectDebitInitialData),
/* harmony export */   Model: () => (/* binding */ Model)
/* harmony export */ });
/* harmony import */ var C_Repository_BaCS_SelfContainedModules_ntech_backoffice_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 1670);
/* harmony import */ var src_app_common_services_ntech_forms_helper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/app/common-services/ntech-forms-helper */ 7093);
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/forms */ 8849);
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs */ 4980);
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! rxjs */ 6231);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/core */ 1699);
/* harmony import */ var _services_customer_pages_applications_api_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/customer-pages-applications-api.service */ 9024);
/* harmony import */ var _common_services_customerpages_event_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../common-services/customerpages-event.service */ 3211);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/common */ 6575);









function CustomerPagesDirectDebitComponent_div_0_div_11_Template(rf, ctx) {
  if (rf & 1) {
    const _r8 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](0, "div")(1, "button", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵlistener"]("click", function CustomerPagesDirectDebitComponent_div_0_div_11_Template_button_click_1_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵrestoreView"](_r8);
      const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"](2);
      return _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵresetView"](ctx_r7.beginEditAccount($event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelement"](2, "span", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()();
  }
}
function CustomerPagesDirectDebitComponent_div_0_div_12_Template(rf, ctx) {
  if (rf & 1) {
    const _r10 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](0, "div")(1, "button", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵlistener"]("click", function CustomerPagesDirectDebitComponent_div_0_div_12_Template_button_click_1_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵrestoreView"](_r10);
      const ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"](2);
      return _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵresetView"](ctx_r9.onCancelAccount($event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelement"](2, "span", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](3, "button", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵlistener"]("click", function CustomerPagesDirectDebitComponent_div_0_div_12_Template_button_click_3_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵrestoreView"](_r10);
      const ctx_r11 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"](2);
      return _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵresetView"](ctx_r11.onSaveAccount($event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelement"](4, "span", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("disabled", ctx_r3.model.editForm == null ? null : ctx_r3.model.editForm.invalid());
  }
}
function CustomerPagesDirectDebitComponent_div_0_div_13_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](0, "div", 17)(1, "div", 18)(2, "div", 19)(3, "div", 20)(4, "label", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](5, "Kontonummer inklusive clearingnummer");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](6, "div", 20)(7, "p", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](8);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](9, "div", 18)(10, "div", 19)(11, "div", 20)(12, "label", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](13, "Konto\u00E4gare");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](14, "div", 20)(15, "p", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](16);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()()()()();
  }
  if (rf & 2) {
    const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](8);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtextInterpolate1"](" ", ctx_r4.model.view.selectedAccountNrDisplay, " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](8);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtextInterpolate1"](" ", ctx_r4.model.view.selectedAccountOwnerDisplayName, " ");
  }
}
const _c0 = a0 => ({
  "has-error": a0
});
function CustomerPagesDirectDebitComponent_div_0_div_14_div_7_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](0, "div", 25);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelement"](1, "input", 26);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r12 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpureFunction1"](1, _c0, ctx_r12.model.editForm.hasError("bankAccountNr")));
  }
}
function CustomerPagesDirectDebitComponent_div_0_div_14_div_13_option_2_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](0, "option", 29);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const a_r15 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngValue", a_r15.Code);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtextInterpolate1"](" ", a_r15.DisplayName, " ");
  }
}
function CustomerPagesDirectDebitComponent_div_0_div_14_div_13_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](0, "div", 25)(1, "select", 27);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtemplate"](2, CustomerPagesDirectDebitComponent_div_0_div_14_div_13_option_2_Template, 2, 2, "option", 28);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const ctx_r13 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpureFunction1"](2, _c0, ctx_r13.model.editForm.hasError("accountOwner")));
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngForOf", ctx_r13.model.applicants);
  }
}
function CustomerPagesDirectDebitComponent_div_0_div_14_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](0, "div", 17)(1, "form", 23)(2, "div", 18)(3, "div", 19)(4, "div", 20)(5, "label", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](6, "Kontonummer inklusive clearingnummer");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtemplate"](7, CustomerPagesDirectDebitComponent_div_0_div_14_div_7_Template, 2, 3, "div", 24);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](8, "div", 18)(9, "div", 19)(10, "div", 20)(11, "label", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](12, "Konto\u00E4gare");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtemplate"](13, CustomerPagesDirectDebitComponent_div_0_div_14_div_13_Template, 3, 4, "div", 24);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()()()();
  }
  if (rf & 2) {
    const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("formGroup", ctx_r5.model.editForm.form);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngIf", ctx_r5.model.editForm);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngIf", ctx_r5.model.editForm);
  }
}
function CustomerPagesDirectDebitComponent_div_0_div_15_Template(rf, ctx) {
  if (rf & 1) {
    const _r17 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](0, "div", 30)(1, "button", 31);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵlistener"]("click", function CustomerPagesDirectDebitComponent_div_0_div_15_Template_button_click_1_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵrestoreView"](_r17);
      const ctx_r16 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"](2);
      return _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵresetView"](ctx_r16.confirmDirectDebitAccountAndOwner());
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](2, " Godk\u00E4nn ");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("disabled", !ctx_r6.model.isPossibleToConfirmAccount);
  }
}
function CustomerPagesDirectDebitComponent_div_0_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](0, "div", 1)(1, "div", 2)(2, "h2");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](3, "Ange konto f\u00F6r autogirodragning");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelement"](4, "hr", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](5, "div", 4)(6, "div", 5)(7, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](8, " Ange kontonummer f\u00F6r autogirodragning f\u00F6r betalning av l\u00E5net. L\u00E5ntagaren m\u00E5ste vara \u00E4gare av kontot. ");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](9, "div", 6)(10, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtemplate"](11, CustomerPagesDirectDebitComponent_div_0_div_11_Template, 3, 0, "div", 8)(12, CustomerPagesDirectDebitComponent_div_0_div_12_Template, 5, 1, "div", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtemplate"](13, CustomerPagesDirectDebitComponent_div_0_div_13_Template, 17, 2, "div", 9)(14, CustomerPagesDirectDebitComponent_div_0_div_14_Template, 14, 3, "div", 9)(15, CustomerPagesDirectDebitComponent_div_0_div_15_Template, 3, 1, "div", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](11);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngIf", !ctx_r0.model.editForm);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngIf", ctx_r0.model.editForm);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngIf", !ctx_r0.model.editForm);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngIf", ctx_r0.model.editForm);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngIf", !ctx_r0.model.isDirectDebitAccountConfirmed && !ctx_r0.model.editForm);
  }
}
function CustomerPagesDirectDebitComponent_div_1_div_11_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](0, "div", 41)(1, "div", 20)(2, "label", 42);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](3, "F\u00F6rhandsgranska autogiro-medgivande");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](4, "div", 20)(5, "p", 43)(6, "a", 44);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](7, "Ladda ned ");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelement"](8, "span", 45);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()()()();
  }
  if (rf & 2) {
    const ctx_r18 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("href", ctx_r18.getDocumentUrl(ctx_r18.model.unsignedDirectDebitConsentFileArchiveKey), _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵsanitizeUrl"]);
  }
}
function CustomerPagesDirectDebitComponent_div_1_div_12_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](0, "div", 41)(1, "div", 20)(2, "label", 42);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](3, "Signerat medgivande");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](4, "div", 20)(5, "p", 43)(6, "a", 44);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](7, "Ladda ned ");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelement"](8, "span", 45);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()()()();
  }
  if (rf & 2) {
    const ctx_r19 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("href", ctx_r19.getDocumentUrl(ctx_r19.model.signedDirectDebitConsentFileArchiveKey), _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵsanitizeUrl"]);
  }
}
function CustomerPagesDirectDebitComponent_div_1_a_29_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](0, "a", 46);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](1, "Signera");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r20 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("href", ctx_r20.model.signatureSessionUrl, _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵsanitizeUrl"]);
  }
}
function CustomerPagesDirectDebitComponent_div_1_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](0, "div", 1)(1, "div", 2)(2, "h2");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](3, "Medgivande av autogiro");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelement"](4, "hr", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](5, "div", 4)(6, "div", 5)(7, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](8, "L\u00E4s igenom medgivande av autogiro och signera dokumentet.");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](9, "div", 32)(10, "div", 33);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtemplate"](11, CustomerPagesDirectDebitComponent_div_1_div_11_Template, 9, 1, "div", 34)(12, CustomerPagesDirectDebitComponent_div_1_div_12_Template, 9, 1, "div", 34);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](13, "div", 33);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](14, "\u00A0");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelement"](15, "div", 35);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](16, "table", 36)(17, "thead")(18, "tr")(19, "th", 37);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](20, "S\u00F6kande");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelement"](21, "th", 33);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](22, "th", 38);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](23, "Status");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](24, "tbody")(25, "tr")(26, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](27);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](28, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtemplate"](29, CustomerPagesDirectDebitComponent_div_1_a_29_Template, 2, 1, "a", 39);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](30, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelement"](31, "span", 40);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()()()()();
  }
  if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](11);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngIf", ctx_r1.model.unsignedDirectDebitConsentFileArchiveKey && !ctx_r1.model.signedDirectDebitConsentFileArchiveKey);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngIf", ctx_r1.model.signedDirectDebitConsentFileArchiveKey);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](15);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtextInterpolate"](ctx_r1.model.accountOwner);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngIf", !ctx_r1.model.signedDirectDebitConsentFileArchiveKey);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngClass", ctx_r1.getIconClass(ctx_r1.model.signedDirectDebitConsentFileArchiveKey !== undefined, false));
  }
}
class CustomerPagesDirectDebitComponent {
  constructor(fb, apiService, eventService) {
    this.fb = fb;
    this.apiService = apiService;
    this.eventService = eventService;
  }
  ngOnInit() {}
  ngOnChanges(changes) {
    if (!this.initialData || !this.initialData.task) return;
    this.model = null;
    let task = this.initialData.task;
    let applicants = [];
    for (var applicantNr = 1; applicantNr <= Object.keys(task.CustomerInfoByApplicantNr).length; applicantNr++) {
      let app = task.CustomerInfoByApplicantNr[applicantNr];
      applicants.push({
        Code: applicantNr.toString(),
        DisplayName: `${app.FirstName}, ${app.BirthDate}`
      });
    }
    let initialAccount = this.getInitialDirectDebitBankAccountNr(task, applicants);
    let selectedAccountOwnerName = initialAccount.AccountOwnerApplicantNr ? applicants.find(a => a.Code === initialAccount.AccountOwnerApplicantNr.toString())?.DisplayName ?? '' : '';
    let model = {
      view: {
        selectedAccountNrDisplay: initialAccount.DirectDebitBankAccountNr,
        selectedAccountOwnerDisplayName: selectedAccountOwnerName,
        preSelected: initialAccount.AccountOwnerApplicantNr && initialAccount.DirectDebitBankAccountNr ? {
          bankAccountNr: initialAccount.DirectDebitBankAccountNr,
          accountOwnerNr: initialAccount.AccountOwnerApplicantNr
        } : null
      },
      isPossibleToConfirmAccount: !!initialAccount.DirectDebitBankAccountNr && !!initialAccount.AccountOwnerApplicantNr,
      isDirectDebitAccountConfirmed: task.HasConfirmedAccountInfo,
      unsignedDirectDebitConsentFileArchiveKey: task.UnsignedDirectDebitConsentFileArchiveKey,
      signedDirectDebitConsentFileArchiveKey: task.SignedDirectDebitConsentFileArchiveKey,
      applicants: applicants,
      accountOwner: selectedAccountOwnerName,
      signatureSessionUrl: task.SignatureSessionUrl
    };
    this.model = model;
  }
  getInitialDirectDebitBankAccountNr(task, applicants) {
    if (task.DirectDebitBankAccountNr) {
      return {
        AccountOwnerApplicantNr: task.AccountOwnerApplicantNr,
        DirectDebitBankAccountNr: task.DirectDebitBankAccountNr
      };
    } else if (task.PaidToCustomerBankAccountNr) {
      return {
        AccountOwnerApplicantNr: applicants.length === 1 ? 1 : null,
        DirectDebitBankAccountNr: task.PaidToCustomerBankAccountNr
      };
    } else {
      return {
        AccountOwnerApplicantNr: 1,
        DirectDebitBankAccountNr: null
      };
    }
  }
  setupAccountForm() {
    let initialAccount = this.getInitialDirectDebitBankAccountNr(this.initialData.task, this.model.applicants);
    let selectedBankAccount = initialAccount.DirectDebitBankAccountNr;
    let selectedAccountOwner = initialAccount.AccountOwnerApplicantNr;
    let form = new src_app_common_services_ntech_forms_helper__WEBPACK_IMPORTED_MODULE_1__.FormsHelper(this.fb.group({}));
    let bankAccountValidator = src_app_common_services_ntech_forms_helper__WEBPACK_IMPORTED_MODULE_1__.FormsHelper.createValidatorAsync('bankAccountNr', res => {
      if (!res) {
        return (0,rxjs__WEBPACK_IMPORTED_MODULE_5__.of)(true); //Handled by required
      }
      return (0,rxjs__WEBPACK_IMPORTED_MODULE_6__.from)(this.apiService.validateBankAccountNrsBatch({
        b: {
          bankAccountNr: res,
          bankAccountNrType: ''
        }
      }, true).then(y => {
        let result = y.ValidatedAccountsByKey['b'];
        return result?.IsValid === true;
      }));
    });
    form.addControlIfNotExists('bankAccountNr', selectedBankAccount, [_angular_forms__WEBPACK_IMPORTED_MODULE_7__.Validators.required], [bankAccountValidator]);
    form.addControlIfNotExists('accountOwner', selectedAccountOwner?.toString(), [_angular_forms__WEBPACK_IMPORTED_MODULE_7__.Validators.required]);
    return form;
  }
  beginEditAccount(evt) {
    this.model.editForm = this.setupAccountForm();
  }
  onCancelAccount(evt) {
    this.resetEditForm();
  }
  resetEditForm() {
    this.model.editForm = null;
  }
  onSaveAccount(evt) {
    let selectedAccountNr = this.model.editForm.getValue('bankAccountNr');
    let selectedAccountOwner = this.model.editForm.getValue('accountOwner');
    this.apiService.saveDirectDebitAccountInfo(this.initialData.applicationNr, selectedAccountNr, selectedAccountOwner).then(onSuccess => {
      this.eventService.signalReloadApplication(this.initialData.applicationNr);
      this.resetEditForm();
    });
  }
  confirmDirectDebitAccountAndOwner() {
    var _this = this;
    return (0,C_Repository_BaCS_SelfContainedModules_ntech_backoffice_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      let task = _this.initialData.task;
      if (!task.DirectDebitBankAccountNr && _this.model.view.preSelected) {
        //Meaning there is an autofilled suggestion but the user did not edit or save it so we simulate that.
        let p = _this.model.view.preSelected;
        yield _this.apiService.saveDirectDebitAccountInfo(_this.initialData.applicationNr, p.bankAccountNr, p.accountOwnerNr);
      }
      _this.apiService.confirmDirectDebitAccountInfo(_this.initialData.applicationNr).then(onSuccess => {
        _this.model.isDirectDebitAccountConfirmed = true;
        _this.eventService.signalReloadApplication(_this.initialData.applicationNr);
      });
    })();
  }
  getDocumentUrl(archiveKey) {
    return this.apiService.getArchiveDocumentUrl(archiveKey, true);
  }
  getIconClass(isAccepted, isRejected) {
    let isOther = !isAccepted && !isRejected;
    return {
      'glyphicon-ok': isAccepted,
      'glyphicon-remove': isRejected,
      'glyphicon-minus': isOther,
      'glyphicon': true,
      'text-success': isAccepted,
      'text-danger': isRejected
    };
  }
  static #_ = this.ɵfac = function CustomerPagesDirectDebitComponent_Factory(t) {
    return new (t || CustomerPagesDirectDebitComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵdirectiveInject"](_angular_forms__WEBPACK_IMPORTED_MODULE_7__.UntypedFormBuilder), _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵdirectiveInject"](_services_customer_pages_applications_api_service__WEBPACK_IMPORTED_MODULE_2__.CustomerPagesApplicationsApiService), _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵdirectiveInject"](_common_services_customerpages_event_service__WEBPACK_IMPORTED_MODULE_3__.CustomerPagesEventService));
  };
  static #_2 = this.ɵcmp = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵdefineComponent"]({
    type: CustomerPagesDirectDebitComponent,
    selectors: [["customer-pages-direct-debit"]],
    inputs: {
      initialData: "initialData"
    },
    features: [_angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵNgOnChangesFeature"]],
    decls: 2,
    vars: 2,
    consts: [["class", "pt-2", 4, "ngIf"], [1, "pt-2"], [1, "pb-1"], [1, "hr-section"], [1, "row"], [1, "col-sm-10", "col-xs-12"], [1, "col-sm-2", "col-xs-12"], [1, "text-right"], [4, "ngIf"], ["class", "pb-3", 4, "ngIf"], ["class", "text-center pt-3", 4, "ngIf"], [1, "n-icon-btn", "n-blue-btn", 3, "click"], [1, "glyphicon", "glyphicon-pencil"], [1, "n-icon-btn", "n-white-btn", 2, "margin-right", "5px", 3, "click"], [1, "glyphicon", "glyphicon-remove"], [1, "n-icon-btn", "n-green-btn", 3, "disabled", "click"], [1, "glyphicon", "glyphicon-ok"], [1, "pb-3"], [1, "row", "pb-2"], [1, "col-sm-8", "col-xs-12"], [1, "form-group"], [1, "control-label"], [1, "form-control-static", "copyable", "bb-1"], [3, "formGroup"], ["class", "form-group", 3, "ngClass", 4, "ngIf"], [1, "form-group", 3, "ngClass"], ["formControlName", "bankAccountNr", "type", "text", 1, "form-control"], ["formControlName", "accountOwner", 1, "form-control"], [3, "ngValue", 4, "ngFor", "ngForOf"], [3, "ngValue"], [1, "text-center", "pt-3"], ["type", "button", 1, "n-main-btn", "n-green-btn", 3, "disabled", "click"], [1, "pb-2"], [1, "col-xs-6"], ["class", "form-horizontal", 4, "ngIf"], [1, "clearfix"], [1, "table", "table-separate", "pt-2"], [1, "col-xs-4"], [1, "col-xs-2"], ["class", "n-direct-btn n-white-btn", 3, "href", 4, "ngIf"], [1, "form-control-static-icon", "custom-glyph", "ntech-status-icon", 3, "ngClass"], [1, "form-horizontal"], [1, "col-xs-12", "control-label", "text-left"], [1, "col-xs-12", "form-control-static"], ["target", "_blank", 1, "n-direct-btn", "n-purple-btn", 3, "href"], [1, "glyphicon", "glyphicon-save"], [1, "n-direct-btn", "n-white-btn", 3, "href"]],
    template: function CustomerPagesDirectDebitComponent_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtemplate"](0, CustomerPagesDirectDebitComponent_div_0_Template, 16, 5, "div", 0)(1, CustomerPagesDirectDebitComponent_div_1_Template, 32, 5, "div", 0);
      }
      if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngIf", ctx.model && !ctx.model.isDirectDebitAccountConfirmed);
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngIf", ctx.model && ctx.model.isDirectDebitAccountConfirmed);
      }
    },
    dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_8__.NgClass, _angular_common__WEBPACK_IMPORTED_MODULE_8__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_8__.NgIf, _angular_forms__WEBPACK_IMPORTED_MODULE_7__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_7__.NgSelectOption, _angular_forms__WEBPACK_IMPORTED_MODULE_7__["ɵNgSelectMultipleOption"], _angular_forms__WEBPACK_IMPORTED_MODULE_7__.DefaultValueAccessor, _angular_forms__WEBPACK_IMPORTED_MODULE_7__.SelectControlValueAccessor, _angular_forms__WEBPACK_IMPORTED_MODULE_7__.NgControlStatus, _angular_forms__WEBPACK_IMPORTED_MODULE_7__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_7__.FormGroupDirective, _angular_forms__WEBPACK_IMPORTED_MODULE_7__.FormControlName],
    encapsulation: 2
  });
}
class Model {}
class DirectDebitInitialData {}

/***/ }),

/***/ 1108:
/*!********************************************************************************************************!*\
  !*** ./projects/customerpages/src/app/unsecured-loan-applications/components/shell/shell.component.ts ***!
  \********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ShellComponent: () => (/* binding */ ShellComponent)
/* harmony export */ });
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs */ 8071);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ 1699);
/* harmony import */ var _common_services_customer_pages_config_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../common-services/customer-pages-config.service */ 5716);
/* harmony import */ var _common_services_customerpages_event_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../common-services/customerpages-event.service */ 3211);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common */ 6575);
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/router */ 7947);






function ShellComponent_img_5_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelement"](0, "img", 14);
  }
}
function ShellComponent_img_6_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelement"](0, "img", 15);
  }
  if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵnextContext"]();
    let tmp_0_0;
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("src", (tmp_0_0 = ctx_r1.config.config()) == null ? null : tmp_0_0.Skinning == null ? null : tmp_0_0.Skinning.LogoUrl, _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵsanitizeUrl"]);
  }
}
function ShellComponent_div_15_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](0, "div", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](1, "Loading\u2026");
    _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
  }
}
const _c0 = [[["", "shell-body", ""]]];
const _c1 = () => ["/unsecured-loan-applications/overview"];
const _c2 = ["[shell-body]"];
class ShellComponent {
  constructor(config, eventService) {
    this.config = config;
    this.eventService = eventService;
    this.isLoading = new rxjs__WEBPACK_IMPORTED_MODULE_3__.BehaviorSubject(false);
  }
  ngOnInit() {
    this.eventService.isLoading.subscribe(x => {
      //Good old ExpressionChangedAfterItHasBeenCheckedError: https://stackoverflow.com/questions/49914840/expressionchangedafterithasbeencheckederror-on-loadingindicator
      Promise.resolve(null).then(() => this.isLoading.next(x));
    });
  }
  logOut(evt) {
    evt?.preventDefault();
    document.location.href = this.config.config()?.LogoutUrl;
  }
  static #_ = this.ɵfac = function ShellComponent_Factory(t) {
    return new (t || ShellComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdirectiveInject"](_common_services_customer_pages_config_service__WEBPACK_IMPORTED_MODULE_0__.CustomerPagesConfigService), _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdirectiveInject"](_common_services_customerpages_event_service__WEBPACK_IMPORTED_MODULE_1__.CustomerPagesEventService));
  };
  static #_2 = this.ɵcmp = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineComponent"]({
    type: ShellComponent,
    selectors: [["np-shell"]],
    ngContentSelectors: _c2,
    decls: 19,
    vars: 5,
    consts: [[1, "wrapper"], [1, "navigation"], [1, "content-position"], [1, "branding"], [1, "navbar-brand", 3, "routerLink"], ["src", "assets/img/menu-header-logo.png", 4, "ngIf"], [3, "src", 4, "ngIf"], [1, "navigation-right"], [1, "navigation-list"], ["href", "#", 1, "n-direct-btn", "n-white-btn", 3, "click"], [1, "clearfix"], [1, "container-fluid", "body-content"], ["class", "loading", 4, "ngIf"], ["src", "assets/img/menu-header-logo.png", "alt", "N\u00E4ktergal AB"], ["src", "assets/img/menu-header-logo.png"], [3, "src"], [1, "loading"]],
    template: function ShellComponent_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵprojectionDef"](_c0);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](0, "div", 0)(1, "div", 1)(2, "div", 2)(3, "div", 3)(4, "a", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](5, ShellComponent_img_5_Template, 1, 0, "img", 5)(6, ShellComponent_img_6_Template, 1, 1, "img", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](7, "div", 7)(8, "ul", 8)(9, "li")(10, "a", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵlistener"]("click", function ShellComponent_Template_a_click_10_listener($event) {
          return ctx.logOut($event);
        });
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtext"](11, "Logga ut");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]()()()();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelement"](12, "div", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](13, "div", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵprojection"](14);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵtemplate"](15, ShellComponent_div_15_Template, 2, 0, "div", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementStart"](16, "footer")(17, "p");
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelement"](18, "img", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵelementEnd"]()()();
      }
      if (rf & 2) {
        let tmp_1_0;
        let tmp_2_0;
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("routerLink", _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵpureFunction0"](4, _c1));
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngIf", !((tmp_1_0 = ctx.config.config()) == null ? null : tmp_1_0.Skinning));
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngIf", !!((tmp_2_0 = ctx.config.config()) == null ? null : tmp_2_0.Skinning));
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵadvance"](9);
        _angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵproperty"]("ngIf", ctx.isLoading.value);
      }
    },
    dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_4__.NgIf, _angular_router__WEBPACK_IMPORTED_MODULE_5__.RouterLink],
    encapsulation: 2
  });
}

/***/ }),

/***/ 2844:
/*!********************************************************************************************************************************!*\
  !*** ./projects/customerpages/src/app/unsecured-loan-applications/components/task-toggle-block/task-toggle-block.component.ts ***!
  \********************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   TaskToggleBlockComponent: () => (/* binding */ TaskToggleBlockComponent),
/* harmony export */   TaskToggleBlockInitialData: () => (/* binding */ TaskToggleBlockInitialData)
/* harmony export */ });
/* harmony import */ var src_app_common_services_ntech_event_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! src/app/common-services/ntech-event.service */ 2224);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ 1699);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ 6575);




function TaskToggleBlockComponent_div_0_div_9_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵprojection"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
}
const _c0 = (a0, a1) => ({
  "task-toggle-expanded": a0,
  "task-toggle-contracted": a1
});
const _c1 = (a0, a1, a2) => ({
  "glyphicon-minus": a0,
  "glyphicon-remove": a1,
  "glyphicon-ok": a2
});
const _c2 = (a0, a1) => ({
  "glyphicon-triangle-bottom": a0,
  "glyphicon-plus": a1
});
function TaskToggleBlockComponent_div_0_Template(rf, ctx) {
  if (rf & 1) {
    const _r3 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 1)(1, "div", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function TaskToggleBlockComponent_div_0_Template_div_click_1_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r3);
      const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r2.toggleExpanded($event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](2, "div", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](3, "span", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](4, "div", 5)(5, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](7, "div", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](8, "span", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](9, TaskToggleBlockComponent_div_0_div_9_Template, 2, 0, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpureFunction2"](5, _c0, ctx_r0.m.isExpanded, !ctx_r0.m.isExpanded));
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpureFunction3"](8, _c1, ctx_r0.m.status === "initial", ctx_r0.m.status === "rejected", ctx_r0.m.status === "accepted"));
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](ctx_r0.m.headerText);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpureFunction2"](12, _c2, ctx_r0.m.isExpanded, !ctx_r0.m.isExpanded));
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx_r0.m.isExpanded);
  }
}
const _c3 = ["*"];
class TaskToggleBlockComponent {
  constructor(eventService) {
    eventService.applicationEvents.subscribe(x => {
      if (x.eventCode === src_app_common_services_ntech_event_service__WEBPACK_IMPORTED_MODULE_0__.UpdateToggleBlock && this.initialData?.toggleBlockId) {
        let eventData = x.customData;
        if (eventData?.toggleBlockId === this.initialData.toggleBlockId) {
          this.m.headerText = eventData.newTitle;
        }
      }
    });
  }
  ngOnInit() {}
  ngOnChanges(changes) {
    this.m = null;
    if (!this.initialData) {
      return;
    }
    this.m = {
      isExpanded: this.initialData.isInitiallyExpanded,
      headerText: this.initialData.headerText,
      status: this.initialData.isAccepted === true ? 'accepted' : this.initialData.isRejected === true ? 'rejected' : 'initial'
    };
  }
  toggleExpanded(evt) {
    if (evt) {
      evt.preventDefault();
    }
    this.m.isExpanded = !this.m.isExpanded;
    if (this.initialData && this.initialData.onExpandedToggled) {
      this.initialData.onExpandedToggled(this.m.isExpanded);
    }
  }
  static #_ = this.ɵfac = function TaskToggleBlockComponent_Factory(t) {
    return new (t || TaskToggleBlockComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](src_app_common_services_ntech_event_service__WEBPACK_IMPORTED_MODULE_0__.NtechEventService));
  };
  static #_2 = this.ɵcmp = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
    type: TaskToggleBlockComponent,
    selectors: [["task-toggle-block"]],
    inputs: {
      initialData: "initialData"
    },
    features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵNgOnChangesFeature"]],
    ngContentSelectors: _c3,
    decls: 1,
    vars: 1,
    consts: [["class", "task-toggle", 4, "ngIf"], [1, "task-toggle"], [1, "task-toggle-header-row", 3, "ngClass", "click"], [1, "task-toggle-icon"], [1, "glyphicon", 3, "ngClass"], [1, "task-toggle-header-text"], [1, "text-right", "task-toggle-openclose"], ["style", "padding-bottom: 20px; margin-top: 1px", 4, "ngIf"], [2, "padding-bottom", "20px", "margin-top", "1px"]],
    template: function TaskToggleBlockComponent_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵprojectionDef"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](0, TaskToggleBlockComponent_div_0_Template, 10, 15, "div", 0);
      }
      if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.m);
      }
    },
    dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_2__.NgClass, _angular_common__WEBPACK_IMPORTED_MODULE_2__.NgIf],
    styles: [".task-wide[_ngcontent-%COMP%] {\n  max-width: 1400px;\n  margin: auto;\n}\n\n.task-narrow[_ngcontent-%COMP%] {\n  max-width: 900px;\n  margin: auto;\n}\n\n.task-toggle-expanded[_ngcontent-%COMP%] {\n  background-color: #034480;\n  color: white;\n  padding-top: 10px;\n}\n\n.task-toggle-contracted[_ngcontent-%COMP%] {\n  background-color: transparent;\n  color: black;\n  border-bottom: solid 1px black;\n  border-top: solid 1px black;\n  padding-top: 10px;\n}\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3Byb2plY3RzL2N1c3RvbWVycGFnZXMvc3JjL2FwcC91bnNlY3VyZWQtbG9hbi1hcHBsaWNhdGlvbnMvY29tcG9uZW50cy90YXNrLXRvZ2dsZS1ibG9jay90YXNrLXRvZ2dsZS1ibG9jay5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBO0VBQ0UsaUJBQUE7RUFDQSxZQUFBO0FBREY7O0FBSUE7RUFDRSxnQkFBQTtFQUNBLFlBQUE7QUFERjs7QUFJQTtFQUNFLHlCQWJ3QjtFQWN4QixZQUFBO0VBQ0EsaUJBQUE7QUFERjs7QUFJQTtFQUNFLDZCQUFBO0VBQ0EsWUFBQTtFQUNBLDhCQUFBO0VBQ0EsMkJBQUE7RUFDQSxpQkFBQTtBQURGIiwic291cmNlc0NvbnRlbnQiOlsiJGhlYWRlci10ZXh0LWNvbG9yLWxpZ2h0OiAjMDM0NDgwO1xyXG5cclxuLnRhc2std2lkZSB7XHJcbiAgbWF4LXdpZHRoOiAxNDAwcHg7XHJcbiAgbWFyZ2luOiBhdXRvO1xyXG59XHJcblxyXG4udGFzay1uYXJyb3cge1xyXG4gIG1heC13aWR0aDogOTAwcHg7XHJcbiAgbWFyZ2luOiBhdXRvO1xyXG59XHJcblxyXG4udGFzay10b2dnbGUtZXhwYW5kZWQge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICRoZWFkZXItdGV4dC1jb2xvci1saWdodDtcclxuICBjb2xvcjogd2hpdGU7XHJcbiAgcGFkZGluZy10b3A6IDEwcHg7XHJcbn1cclxuXHJcbi50YXNrLXRvZ2dsZS1jb250cmFjdGVkIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcclxuICBjb2xvcjogYmxhY2s7XHJcbiAgYm9yZGVyLWJvdHRvbTogc29saWQgMXB4IGJsYWNrO1xyXG4gIGJvcmRlci10b3A6IHNvbGlkIDFweCBibGFjaztcclxuICBwYWRkaW5nLXRvcDogMTBweDtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9 */"]
  });
}
class Model {}
class TaskToggleBlockInitialData {}

/***/ }),

/***/ 8208:
/*!***************************************************************************************************************************************************!*\
  !*** ./projects/customerpages/src/app/unsecured-loan-applications/pages/customer-pages-application/customer-pages-application-tasks.component.ts ***!
  \***************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CustomerPagesApplicationTasksComponent: () => (/* binding */ CustomerPagesApplicationTasksComponent)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ 1699);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ 6575);


function CustomerPagesApplicationTasksComponent_div_0_table_6_tr_7_Template(rf, ctx) {
  if (rf & 1) {
    const _r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "tr", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function CustomerPagesApplicationTasksComponent_div_0_table_6_tr_7_Template_tr_click_0_listener($event) {
      const restoredCtx = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r5);
      const task_r3 = restoredCtx.$implicit;
      const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3);
      return _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵresetView"](ctx_r4.support.openTask(task_r3, $event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](2, "span", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "td", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](6, "span", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const task_r3 = ctx.$implicit;
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", ctx_r2.getTaskRowClass(task_r3));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", ctx_r2.getIconClass(task_r3.status.IsAccepted === true, task_r3.status.IsAccepted === false));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](task_r3.headerText);
  }
}
function CustomerPagesApplicationTasksComponent_div_0_table_6_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "table", 5)(1, "thead")(2, "tr");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](3, "th", 6)(4, "th", 7)(5, "th", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "tbody");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](7, CustomerPagesApplicationTasksComponent_div_0_table_6_tr_7_Template, 7, 3, "tr", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx_r1.tasks);
  }
}
const _c0 = a0 => ({
  "text-center": a0
});
function CustomerPagesApplicationTasksComponent_div_0_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div")(1, "div", 1)(2, "div", 2)(3, "h2", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵprojection"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](6, CustomerPagesApplicationTasksComponent_div_0_table_6_Template, 8, 1, "table", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]()()();
  }
  if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassProp"]("frame", ctx_r0.displayState === "focused");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](5, _c0, ctx_r0.displayState === "focused"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx_r0.title);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r0.tasks && ctx_r0.tasks.length > 0);
  }
}
const _c1 = [[["", "task-explanation", ""]]];
const _c2 = ["[task-explanation]"];
class CustomerPagesApplicationTasksComponent {
  constructor() {}
  ngOnInit() {}
  getIconClass(isAccepted, isRejected) {
    let isOther = !isAccepted && !isRejected;
    return {
      'glyphicon-ok': isAccepted,
      'glyphicon-remove': isRejected,
      'glyphicon-minus': isOther,
      'glyphicon': true,
      'text-success': isAccepted,
      'text-danger': isRejected
    };
  }
  getTaskRowClass(task) {
    return this.isTaskInactive(task) ? 'inactive-task-row' : 'active-task-row';
  }
  isTaskInactive(task) {
    let status = task.status;
    if (task.isKycTask) {
      return !status.IsActive;
    } else {
      return !status.IsActive && !(status.IsAccepted === true || status.IsAccepted === false);
    }
  }
  static #_ = this.ɵfac = function CustomerPagesApplicationTasksComponent_Factory(t) {
    return new (t || CustomerPagesApplicationTasksComponent)();
  };
  static #_2 = this.ɵcmp = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({
    type: CustomerPagesApplicationTasksComponent,
    selectors: [["customer-pages-application-tasks"]],
    inputs: {
      displayState: "displayState",
      tasks: "tasks",
      support: "support",
      title: "title"
    },
    ngContentSelectors: _c2,
    decls: 1,
    vars: 1,
    consts: [[3, "frame", 4, "ngIf"], [1, "task"], [1, "pt-2"], [1, "header-light", 3, "ngClass"], ["class", "table table-separate", 4, "ngIf"], [1, "table", "table-separate"], [1, "col-xs-1"], [1, "col-xs-10"], [3, "ngClass", "click", 4, "ngFor", "ngForOf"], [3, "ngClass", "click"], [1, "custom-glyph", "ntech-status-icon", 3, "ngClass"], [1, "text-right"], [1, "glyphicon-play", "glyphicon", "custom-glyph"]],
    template: function CustomerPagesApplicationTasksComponent_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵprojectionDef"](_c1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, CustomerPagesApplicationTasksComponent_div_0_Template, 7, 7, "div", 0);
      }
      if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.support && ctx.displayState !== "hidden");
      }
    },
    dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_1__.NgClass, _angular_common__WEBPACK_IMPORTED_MODULE_1__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_1__.NgIf],
    styles: [".task-toggle-expanded[_ngcontent-%COMP%] {\n  background-color: #034480;\n  color: white;\n  padding-top: 10px;\n}\n\n.task-toggle-contracted[_ngcontent-%COMP%] {\n  background-color: transparent;\n  color: black;\n  border-bottom: solid 1px black;\n  border-top: solid 1px black;\n  padding-top: 10px;\n}\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3Byb2plY3RzL2N1c3RvbWVycGFnZXMvc3JjL2FwcC91bnNlY3VyZWQtbG9hbi1hcHBsaWNhdGlvbnMvcGFnZXMvY3VzdG9tZXItcGFnZXMtYXBwbGljYXRpb24vY3VzdG9tZXItcGFnZXMtYXBwbGljYXRpb24tdGFza3Muc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQTtFQUNFLHlCQUh3QjtFQUl4QixZQUFBO0VBQ0EsaUJBQUE7QUFERjs7QUFJQTtFQUNFLDZCQUFBO0VBQ0EsWUFBQTtFQUNBLDhCQUFBO0VBQ0EsMkJBQUE7RUFDQSxpQkFBQTtBQURGIiwic291cmNlc0NvbnRlbnQiOlsiJGhlYWRlci10ZXh0LWNvbG9yLWxpZ2h0OiAjMDM0NDgwO1xyXG5cclxuLnRhc2stdG9nZ2xlLWV4cGFuZGVkIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAkaGVhZGVyLXRleHQtY29sb3ItbGlnaHQ7XHJcbiAgY29sb3I6IHdoaXRlO1xyXG4gIHBhZGRpbmctdG9wOiAxMHB4O1xyXG59XHJcblxyXG4udGFzay10b2dnbGUtY29udHJhY3RlZCB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XHJcbiAgY29sb3I6IGJsYWNrO1xyXG4gIGJvcmRlci1ib3R0b206IHNvbGlkIDFweCBibGFjaztcclxuICBib3JkZXItdG9wOiBzb2xpZCAxcHggYmxhY2s7XHJcbiAgcGFkZGluZy10b3A6IDEwcHg7XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */"]
  });
}

/***/ }),

/***/ 3552:
/*!*********************************************************************************************************************************************!*\
  !*** ./projects/customerpages/src/app/unsecured-loan-applications/pages/customer-pages-application/customer-pages-application.component.ts ***!
  \*********************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CustomerPagesApplicationComponent: () => (/* binding */ CustomerPagesApplicationComponent),
/* harmony export */   CustomerPagesApplicationReloadEvent: () => (/* binding */ CustomerPagesApplicationReloadEvent),
/* harmony export */   TaskModel: () => (/* binding */ TaskModel)
/* harmony export */ });
/* harmony import */ var C_Repository_BaCS_SelfContainedModules_ntech_backoffice_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 1670);
/* harmony import */ var src_app_common_services_complex_application_list__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/app/common-services/complex-application-list */ 1838);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/core */ 1699);
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/router */ 7947);
/* harmony import */ var _services_customer_pages_applications_api_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/customer-pages-applications-api.service */ 9024);
/* harmony import */ var _common_services_customerpages_event_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../common-services/customerpages-event.service */ 3211);
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/platform-browser */ 6480);







const _c0 = a0 => ({
  "text-center": a0
});
function CustomerPagesApplicationComponent_div_2_div_3_customer_pages_application_offer_1_div_3_p_2_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](0, "p", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const text_r11 = ctx.$implicit;
    const taskGroup_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpureFunction1"](2, _c0, taskGroup_r9.displayState === "focused"));
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtextInterpolate1"](" ", text_r11, " ");
  }
}
function CustomerPagesApplicationComponent_div_2_div_3_customer_pages_application_offer_1_div_3_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](0, "div", 11)(1, "customer-pages-application-tasks", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtemplate"](2, CustomerPagesApplicationComponent_div_2_div_3_customer_pages_application_offer_1_div_3_p_2_Template, 2, 4, "p", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const taskGroup_r9 = ctx.$implicit;
    const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("displayState", taskGroup_r9.displayState)("title", taskGroup_r9.title)("tasks", taskGroup_r9.tasks)("support", ctx_r8);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngForOf", taskGroup_r9.texts);
  }
}
function CustomerPagesApplicationComponent_div_2_div_3_customer_pages_application_offer_1_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](0, "customer-pages-application-offer", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementContainerStart"](1, 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](2, "div", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtemplate"](3, CustomerPagesApplicationComponent_div_2_div_3_customer_pages_application_offer_1_div_3_Template, 3, 5, "div", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementContainerEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("initialData", ctx_r6.m.offerInitialData);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngForOf", ctx_r6.getFilteredTaskGroups(ctx_r6.focusedState));
  }
}
function CustomerPagesApplicationComponent_div_2_div_3_p_2_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](0, "p")(1, "b");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](2, "Din ans\u00F6kan behandlas, vi \u00E5terkopplar till dig n\u00E4r n\u00E5got f\u00F6r\u00E4ndras i ditt \u00E4rende.");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()();
  }
}
function CustomerPagesApplicationComponent_div_2_div_3_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](0, "div");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtemplate"](1, CustomerPagesApplicationComponent_div_2_div_3_customer_pages_application_offer_1_Template, 4, 2, "customer-pages-application-offer", 6)(2, CustomerPagesApplicationComponent_div_2_div_3_p_2_Template, 3, 0, "p", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelement"](3, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngIf", ctx_r3.m.offerInitialData);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngIf", ctx_r3.m.isWaitingForOffer);
  }
}
function CustomerPagesApplicationComponent_div_2_div_4_p_2_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](0, "p", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const text_r15 = ctx.$implicit;
    const taskGroup_r13 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpureFunction1"](2, _c0, taskGroup_r13.displayState === "focused"));
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtextInterpolate1"](" ", text_r15, " ");
  }
}
function CustomerPagesApplicationComponent_div_2_div_4_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](0, "div", 11)(1, "customer-pages-application-tasks", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtemplate"](2, CustomerPagesApplicationComponent_div_2_div_4_p_2_Template, 2, 4, "p", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const taskGroup_r13 = ctx.$implicit;
    const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("displayState", taskGroup_r13.displayState)("title", taskGroup_r13.title)("tasks", taskGroup_r13.tasks)("support", ctx_r4);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngForOf", taskGroup_r13.texts);
  }
}
function CustomerPagesApplicationComponent_div_2_div_5_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](0, "div")(1, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtext"](2, "\u00C4rendet \u00E4r avslutat.");
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()();
  }
}
const _c1 = a0 => ({
  small: a0
});
function CustomerPagesApplicationComponent_div_2_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](0, "div")(1, "div", 3)(2, "div", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtemplate"](3, CustomerPagesApplicationComponent_div_2_div_3_Template, 4, 2, "div", 1)(4, CustomerPagesApplicationComponent_div_2_div_4_Template, 3, 5, "div", 5)(5, CustomerPagesApplicationComponent_div_2_div_5_Template, 3, 0, "div", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()()();
  }
  if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpureFunction1"](4, _c1, !ctx_r0.m.isActive));
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngIf", ctx_r0.m.isActive);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngForOf", ctx_r0.getFilteredTaskGroups(ctx_r0.normalState));
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngIf", !ctx_r0.m.isActive);
  }
}
function CustomerPagesApplicationComponent_div_3_customer_pages_agreement_2_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelement"](0, "customer-pages-agreement", 8);
  }
  if (rf & 2) {
    const ctx_r17 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("initialData", ctx_r17.m.openTask.model.agreementInitialData);
  }
}
function CustomerPagesApplicationComponent_div_3_customer_pages_bankaccounts_3_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelement"](0, "customer-pages-bankaccounts", 8);
  }
  if (rf & 2) {
    const ctx_r18 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("initialData", ctx_r18.m.openTask.model.bankAccountsInitialData);
  }
}
function CustomerPagesApplicationComponent_div_3_customer_pages_direct_debit_4_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelement"](0, "customer-pages-direct-debit", 8);
  }
  if (rf & 2) {
    const ctx_r19 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("initialData", ctx_r19.m.openTask.model.directDebitInitialData);
  }
}
function CustomerPagesApplicationComponent_div_3_Template(rf, ctx) {
  if (rf & 1) {
    const _r21 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](0, "div")(1, "task-page", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵlistener"]("onClose", function CustomerPagesApplicationComponent_div_3_Template_task_page_onClose_1_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵrestoreView"](_r21);
      const ctx_r20 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵresetView"](ctx_r20.closeTask());
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtemplate"](2, CustomerPagesApplicationComponent_div_3_customer_pages_agreement_2_Template, 1, 1, "customer-pages-agreement", 6)(3, CustomerPagesApplicationComponent_div_3_customer_pages_bankaccounts_3_Template, 1, 1, "customer-pages-bankaccounts", 6)(4, CustomerPagesApplicationComponent_div_3_customer_pages_direct_debit_4_Template, 1, 1, "customer-pages-direct-debit", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("headerText", ctx_r1.m.openTask.model.headerText);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngIf", ctx_r1.m.openTask.model.agreementInitialData);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngIf", ctx_r1.m.openTask.model.bankAccountsInitialData);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngIf", ctx_r1.m.openTask.model.directDebitInitialData);
  }
}
const _c2 = (a0, a1) => ({
  "mt-8": a0,
  "mt-2": a1
});
function CustomerPagesApplicationComponent_div_4_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](0, "div", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelement"](1, "customer-pages-application-messages", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵpureFunction2"](2, _c2, ctx_r2.m.isActive, ctx_r2.m.isActive));
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("initialData", ctx_r2.m.messagesInitialData);
  }
}
class CustomerPagesApplicationComponent {
  constructor(route, apiService, eventService, titleService, router) {
    this.route = route;
    this.apiService = apiService;
    this.eventService = eventService;
    this.titleService = titleService;
    this.router = router;
    this.focusedState = 'focused';
    this.normalState = 'normal';
  }
  ngOnInit() {
    this.reload(this.route.snapshot.params['applicationNr'], null);
  }
  reload(applicationNr, currentlyOpenTask) {
    if (this.m?.subs) {
      for (let sub of this.m.subs) {
        sub.unsubscribe();
      }
    }
    this.apiService.fetchApplication(applicationNr).then(x => {
      let hasRejectedOffer = false;
      let hasAcceptedOffer = false;
      if (x.Application?.CurrentOffer?.OfferItems) {
        let offerItems = src_app_common_services_complex_application_list__WEBPACK_IMPORTED_MODULE_1__.ComplexApplicationListRow.fromDictionary('temp', 1, x.Application?.CurrentOffer?.OfferItems);
        hasRejectedOffer = offerItems.getUniqueItem('customerDecisionCode') == 'rejected';
        hasAcceptedOffer = offerItems.getUniqueItem('customerDecisionCode') == 'accepted';
      }
      let isWaitingForOffer = !x.Application?.CurrentOffer && x.Application?.IsFutureOfferPossible;
      let isPossibleToDecideOffer = x.Application?.CurrentOffer?.IsPossibleToDecide;
      //Put new tasks above this line
      let betweenOfferAndSignatureTaskGroup = new TaskGroup('Villkoren för erbjudandet');
      let signatureTaskGroup = new TaskGroup('Signering av avtal');
      let paymentTaskGroup = new TaskGroup('Väntar på utbetalning');
      let m = {
        applicationNr: applicationNr,
        offerInitialData: x.Application.CurrentOffer ? {
          applicationNr: applicationNr,
          offerItems: x.Application.CurrentOffer.OfferItems,
          isPossibleToDecide: isPossibleToDecideOffer
        } : null,
        hasRejectedOffer: hasRejectedOffer,
        isWaitingForOffer: isWaitingForOffer,
        isActive: x.Application.IsActive,
        subs: [],
        tasks: [],
        taskGroups: [betweenOfferAndSignatureTaskGroup, signatureTaskGroup, paymentTaskGroup],
        messagesInitialData: {
          isInitiallyExpanded: false,
          applicationNr: applicationNr,
          isApplicationActive: x.Application.IsActive,
          isMortgagaeLoan: false,
          isInactiveMessagingAllowed: x.Application.IsInactiveMessagingAllowed
        }
      };
      let addTask = task => {
        m.tasks.push(task);
        //headertext used as a poor mans taskId here. if headers become dynamic in the future, change this for some sort of task code
        if (currentlyOpenTask && task.headerText === currentlyOpenTask.headerText && this.isTaskOpenable(task)) {
          m.openTask = {
            model: task.createOpenTask(),
            parentTask: task
          };
        }
        return task;
      };
      if (x.Application.KycTask) {
        let task = addTask({
          headerText: 'Kundkännedom',
          status: x.Application.KycTask,
          isKycTask: true,
          createOpenTask: () => {
            throw 'Not openable';
          }
        });
        betweenOfferAndSignatureTaskGroup.tasks.push(task);
      }
      if (x.Application.BankAccountsTask) {
        if (x.Application.KycTask?.IsActive === true) {
          //We ensure kyc questions are answered before account. This is safe to remove if needed. It just helps a bit with the automation step order.
          x.Application.BankAccountsTask.IsActive = false;
        }
        let task = addTask({
          headerText: 'Mottagarkonton för utbetalning',
          status: x.Application.BankAccountsTask,
          createOpenTask: () => {
            return {
              headerText: 'Utbetalningar',
              bankAccountsInitialData: {
                applicationNr: applicationNr,
                task: x.Application.BankAccountsTask,
                otherLoanTypes: x.Application.Enums.OtherLoanTypes
              }
            };
          }
        });
        betweenOfferAndSignatureTaskGroup.tasks.push(task);
      }
      if (x.Application.AgreementTask) {
        let task = addTask({
          headerText: 'Signering av avtal',
          status: x.Application.AgreementTask,
          createOpenTask: () => {
            return {
              headerText: 'Signering av avtal',
              agreementInitialData: {
                applicationNr: applicationNr,
                task: x.Application.AgreementTask
              }
            };
          }
        });
        signatureTaskGroup.tasks.push(task);
      }
      if (x.Application.DirectDebitTask) {
        if (x.Application.KycTask?.IsActive === true) {
          //We ensure kyc questions are answered before account. This is safe to remove if needed. It just helps a bit with the automation step order.
          x.Application.DirectDebitTask.IsActive = false;
        }
        let task = addTask(this.getDirectDebitTask(applicationNr, x.Application.DirectDebitTask));
        betweenOfferAndSignatureTaskGroup.tasks.push(task);
      }
      if (x.Application.IsActive) {
        let betweenOfferAndSignatureDisplayState = 'hidden';
        let hasBetweenOfferAndSignatureReachedVisible = hasAcceptedOffer;
        let hasBetweenOfferAndSignatureReachedActive = hasAcceptedOffer;
        let hasBetweenOfferAndSignatureBeenCompleted = betweenOfferAndSignatureTaskGroup.areAllTasksAccepted();
        betweenOfferAndSignatureDisplayState = !hasBetweenOfferAndSignatureReachedVisible ? 'hidden' : !hasBetweenOfferAndSignatureBeenCompleted ? 'focused' : 'normal';
        if (betweenOfferAndSignatureDisplayState === 'focused') {
          betweenOfferAndSignatureTaskGroup.displayState = 'focused';
          if (hasBetweenOfferAndSignatureReachedActive) {
            betweenOfferAndSignatureTaskGroup.texts = ['För att kunna gå vidare med din ansökan behöver du gå igenom nedanstående uppgifter.'];
          }
        } else if (betweenOfferAndSignatureDisplayState === 'normal') {
          betweenOfferAndSignatureTaskGroup.displayState = 'normal';
        }
        TaskGroup.setupBetweenOfferAndSignatureGroup(hasAcceptedOffer, betweenOfferAndSignatureTaskGroup);
        TaskGroup.setupSignatureGroup(hasBetweenOfferAndSignatureBeenCompleted, x.Application, signatureTaskGroup);
        if (betweenOfferAndSignatureTaskGroup.isDisplayNormalAndHasAllTasksAccepted() && signatureTaskGroup.isDisplayNormalAndHasAllTasksAccepted()) {
          paymentTaskGroup.displayState = 'focused';
          paymentTaskGroup.texts = ['Din ansökan behandlas där de sista kontrollerna genomförs.', 'Utbetalning sker normalt inom ett par arbetsdagar.'];
        }
      }
      m.subs.push(this.eventService.applicationEvents.subscribe(x => {
        if (x?.isReloadApplicationEvent() && this.m?.applicationNr === x.customData) {
          //note: if we ever want to preseve popups sometimes but not always, replace reload application event with a custom event that has a preservePopup boolean
          this.reload(x.customData, this.m?.openTask?.parentTask);
        } else if (x?.isReloadApplicationAndClosePopupEvent() && this.m?.applicationNr === x.customData) {
          this.reload(x.customData);
        }
      }));
      this.m = m;
      this.titleService.setTitle('Ansökan ' + applicationNr);
    });
  }
  getDirectDebitTask(applicationNr, task) {
    return {
      headerText: 'Autogiro',
      status: task,
      createOpenTask: () => {
        return {
          headerText: 'Autogiro',
          directDebitInitialData: {
            applicationNr: applicationNr,
            task: task
          }
        };
      }
    };
  }
  getFilteredTaskGroups(displayState) {
    if (!this.m.taskGroups) {
      return [];
    }
    return this.m.taskGroups.filter(x => x.displayState === displayState);
  }
  openTask(task, evt) {
    var _this = this;
    return (0,C_Repository_BaCS_SelfContainedModules_ntech_backoffice_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      evt?.preventDefault();
      if (!_this.isTaskOpenable(task)) {
        return;
      }
      if (task.isKycTask) {
        let {
          sessionId
        } = yield _this.apiService.createKycQuestionSession(_this.m.applicationNr);
        _this.eventService.isLoading.next(true);
        _this.router.navigate(['public-kyc/questions-session/' + sessionId]);
      } else {
        _this.m.openTask = {
          parentTask: task,
          model: task.createOpenTask()
        };
      }
    })();
  }
  closeTask(evt) {
    evt?.preventDefault();
    this.m.openTask = null;
  }
  isTaskOpenable(task) {
    return task.status.IsActive || task.status.IsAccepted && !task.isKycTask;
  }
  static #_ = this.ɵfac = function CustomerPagesApplicationComponent_Factory(t) {
    return new (t || CustomerPagesApplicationComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_5__.ActivatedRoute), _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵdirectiveInject"](_services_customer_pages_applications_api_service__WEBPACK_IMPORTED_MODULE_2__.CustomerPagesApplicationsApiService), _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵdirectiveInject"](_common_services_customerpages_event_service__WEBPACK_IMPORTED_MODULE_3__.CustomerPagesEventService), _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵdirectiveInject"](_angular_platform_browser__WEBPACK_IMPORTED_MODULE_6__.Title), _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_5__.Router));
  };
  static #_2 = this.ɵcmp = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵdefineComponent"]({
    type: CustomerPagesApplicationComponent,
    selectors: [["np-customer-pages-application"]],
    decls: 5,
    vars: 3,
    consts: [["shell-body", ""], [4, "ngIf"], [3, "ngClass", 4, "ngIf"], [1, "flex-container", 3, "ngClass"], [1, "align-center"], ["style", "margin-top: 30px", 4, "ngFor", "ngForOf"], [3, "initialData", 4, "ngIf"], [1, "clearfix"], [3, "initialData"], ["focus-block", ""], [1, "pb-5"], [2, "margin-top", "30px"], [3, "displayState", "title", "tasks", "support"], ["task-explanation", "", 3, "ngClass", 4, "ngFor", "ngForOf"], ["task-explanation", "", 3, "ngClass"], [3, "headerText", "onClose"], [3, "ngClass"]],
    template: function CustomerPagesApplicationComponent_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementStart"](0, "np-shell")(1, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵtemplate"](2, CustomerPagesApplicationComponent_div_2_Template, 6, 6, "div", 1)(3, CustomerPagesApplicationComponent_div_3_Template, 5, 4, "div", 1)(4, CustomerPagesApplicationComponent_div_4_Template, 2, 5, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵelementEnd"]()();
      }
      if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngIf", ctx.m && !ctx.m.openTask);
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngIf", ctx.m && ctx.m.openTask);
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵproperty"]("ngIf", ctx.m);
      }
    },
    styles: [".task-toggle-expanded[_ngcontent-%COMP%] {\n  background-color: #034480;\n  color: white;\n  padding-top: 10px;\n}\n\n.task-toggle-contracted[_ngcontent-%COMP%] {\n  background-color: transparent;\n  color: black;\n  border-bottom: solid 1px black;\n  border-top: solid 1px black;\n  padding-top: 10px;\n}\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3Byb2plY3RzL2N1c3RvbWVycGFnZXMvc3JjL2FwcC91bnNlY3VyZWQtbG9hbi1hcHBsaWNhdGlvbnMvcGFnZXMvY3VzdG9tZXItcGFnZXMtYXBwbGljYXRpb24vY3VzdG9tZXItcGFnZXMtYXBwbGljYXRpb24tdGFza3Muc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQTtFQUNFLHlCQUh3QjtFQUl4QixZQUFBO0VBQ0EsaUJBQUE7QUFERjs7QUFJQTtFQUNFLDZCQUFBO0VBQ0EsWUFBQTtFQUNBLDhCQUFBO0VBQ0EsMkJBQUE7RUFDQSxpQkFBQTtBQURGIiwic291cmNlc0NvbnRlbnQiOlsiJGhlYWRlci10ZXh0LWNvbG9yLWxpZ2h0OiAjMDM0NDgwO1xyXG5cclxuLnRhc2stdG9nZ2xlLWV4cGFuZGVkIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAkaGVhZGVyLXRleHQtY29sb3ItbGlnaHQ7XHJcbiAgY29sb3I6IHdoaXRlO1xyXG4gIHBhZGRpbmctdG9wOiAxMHB4O1xyXG59XHJcblxyXG4udGFzay10b2dnbGUtY29udHJhY3RlZCB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XHJcbiAgY29sb3I6IGJsYWNrO1xyXG4gIGJvcmRlci1ib3R0b206IHNvbGlkIDFweCBibGFjaztcclxuICBib3JkZXItdG9wOiBzb2xpZCAxcHggYmxhY2s7XHJcbiAgcGFkZGluZy10b3A6IDEwcHg7XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */"]
  });
}
class CustomerPagesApplicationReloadEvent {
  static #_ = this.EventName = 'CustomerPagesApplicationReloadEvent';
  constructor(applicationNr, initiallyOpenTaskCode) {
    this.applicationNr = applicationNr;
    this.initiallyOpenTaskCode = initiallyOpenTaskCode;
  }
}
class Model {}
class TaskGroup {
  constructor(title) {
    this.title = title;
    this.texts = [];
    this.displayState = 'hidden';
    this.tasks = [];
  }
  areAllTasksAccepted() {
    return this.tasks.findIndex(x => x?.status?.IsAccepted !== true) < 0;
  }
  isDisplayNormalAndHasAllTasksAccepted() {
    return this.displayState === 'normal' && this.areAllTasksAccepted();
  }
  static setupBetweenOfferAndSignatureGroup(hasAcceptedOffer, betweenOfferAndSignatureTaskGroup) {
    let betweenOfferAndSignatureDisplayState = 'hidden';
    let hasBetweenOfferAndSignatureReachedVisible = hasAcceptedOffer;
    let hasBetweenOfferAndSignatureReachedActive = hasAcceptedOffer;
    let hasBetweenOfferAndSignatureBeenCompleted = betweenOfferAndSignatureTaskGroup.areAllTasksAccepted();
    betweenOfferAndSignatureDisplayState = !hasBetweenOfferAndSignatureReachedVisible ? 'hidden' : !hasBetweenOfferAndSignatureBeenCompleted ? 'focused' : 'normal';
    if (betweenOfferAndSignatureDisplayState === 'focused') {
      betweenOfferAndSignatureTaskGroup.displayState = 'focused';
      if (!hasBetweenOfferAndSignatureReachedActive) {
        betweenOfferAndSignatureTaskGroup.texts = ['För att kunna gå vidare med ansökan behöver du gå igenom nedanstående uppgifter.'];
      }
    } else if (betweenOfferAndSignatureDisplayState === 'normal') {
      betweenOfferAndSignatureTaskGroup.displayState = 'normal';
    }
  }
  static setupSignatureGroup(hasBetweenOfferAndSignatureBeenCompleted, application, signatureTaskGroup) {
    let signatureDisplayState = 'hidden';
    let hasSignatureReachedVisible = hasBetweenOfferAndSignatureBeenCompleted;
    let hasSignatureReachedActive = application?.AgreementTask?.IsActive || application?.AgreementTask?.IsAccepted;
    let hasSignatureBeenCompleted = signatureTaskGroup.areAllTasksAccepted();
    signatureDisplayState = !hasSignatureReachedVisible ? 'hidden' : !hasSignatureBeenCompleted ? 'focused' : 'normal';
    if (signatureDisplayState === 'focused') {
      if (!hasSignatureReachedActive) {
        signatureTaskGroup.texts = ['Din ansökan är under behandling, vi återkopplar till dig när någonting förändras i ditt ärende.'];
      }
      signatureTaskGroup.displayState = 'focused';
    } else if (signatureDisplayState === 'normal') {
      signatureTaskGroup.displayState = 'normal';
    }
  }
}
class TaskModel {}
class OpenTaskModel {}

/***/ }),

/***/ 1996:
/*!*********************************************************************************************************!*\
  !*** ./projects/customerpages/src/app/unsecured-loan-applications/pages/overview/overview.component.ts ***!
  \*********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   OverviewComponent: () => (/* binding */ OverviewComponent)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/core */ 1699);
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/platform-browser */ 6480);
/* harmony import */ var _services_customer_pages_applications_api_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../services/customer-pages-applications-api.service */ 9024);
/* harmony import */ var _common_services_customer_pages_config_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../common-services/customer-pages-config.service */ 5716);
/* harmony import */ var _common_services_customer_pages_api_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../common-services/customer-pages-api.service */ 7991);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/common */ 6575);
/* harmony import */ var _shared_components_applications_list_applications_list_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../shared-components/applications-list/applications-list.component */ 8752);
/* harmony import */ var _components_shell_shell_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../components/shell/shell.component */ 1108);








function OverviewComponent_ng_container_2_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelement"](1, "applications-list", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("initialData", ctx_r0.m.applicationsListData);
  }
}
class OverviewComponent {
  constructor(titleService, apiService, config, sharedApiService) {
    this.titleService = titleService;
    this.apiService = apiService;
    this.config = config;
    this.sharedApiService = sharedApiService;
  }
  ngOnInit() {
    this.titleService.setTitle('Ansökningar');
    this.reload();
  }
  reload() {
    this.apiService.fetchApplications().then(x => {
      let m = {
        applicationsListData: {
          isMortgageLoan: false,
          applications: x.Applications,
          sharedApiService: this.sharedApiService
        },
        userDisplayName: this.config.userDisplayName(),
        currentDateAndTime: this.config.getCurrentDateAndTime()
      };
      this.m = m;
    });
  }
  static #_ = this.ɵfac = function OverviewComponent_Factory(t) {
    return new (t || OverviewComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵdirectiveInject"](_angular_platform_browser__WEBPACK_IMPORTED_MODULE_6__.Title), _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵdirectiveInject"](_services_customer_pages_applications_api_service__WEBPACK_IMPORTED_MODULE_0__.CustomerPagesApplicationsApiService), _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵdirectiveInject"](_common_services_customer_pages_config_service__WEBPACK_IMPORTED_MODULE_1__.CustomerPagesConfigService), _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵdirectiveInject"](_common_services_customer_pages_api_service__WEBPACK_IMPORTED_MODULE_2__.CustomerPagesApiService));
  };
  static #_2 = this.ɵcmp = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵdefineComponent"]({
    type: OverviewComponent,
    selectors: [["np-overview"]],
    decls: 3,
    vars: 1,
    consts: [["shell-body", ""], [4, "ngIf"], [3, "initialData"]],
    template: function OverviewComponent_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementStart"](0, "np-shell")(1, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵtemplate"](2, OverviewComponent_ng_container_2_Template, 2, 1, "ng-container", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵelementEnd"]()();
      }
      if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_5__["ɵɵproperty"]("ngIf", ctx.m);
      }
    },
    dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_7__.NgIf, _shared_components_applications_list_applications_list_component__WEBPACK_IMPORTED_MODULE_3__.ApplicationsListComponent, _components_shell_shell_component__WEBPACK_IMPORTED_MODULE_4__.ShellComponent],
    encapsulation: 2
  });
}
class Model {}

/***/ }),

/***/ 891:
/*!*********************************************************************************************************************************************!*\
  !*** ./projects/customerpages/src/app/unsecured-loan-applications/pages/pre-application-applicants/pre-application-applicants.component.ts ***!
  \*********************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PreApplicationApplicantsComponent: () => (/* binding */ PreApplicationApplicantsComponent)
/* harmony export */ });
/* harmony import */ var C_Repository_BaCS_SelfContainedModules_ntech_backoffice_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 1670);
/* harmony import */ var src_app_common_services_ntech_forms_helper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/app/common-services/ntech-forms-helper */ 7093);
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/forms */ 8849);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/core */ 1699);
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/router */ 7947);
/* harmony import */ var _services_pre_application_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/pre-application.service */ 2903);
/* harmony import */ var _common_services_customer_pages_config_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../common-services/customer-pages-config.service */ 5716);
/* harmony import */ var _common_services_customer_pages_validation_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../common-services/customer-pages-validation.service */ 423);
/* harmony import */ var _shared_components_services_employment_form_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../shared-components/services/employment-form.service */ 2168);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/common */ 6575);
/* harmony import */ var _shared_components_customerpages_shell_customerpages_shell_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../shared-components/customerpages-shell/customerpages-shell.component */ 4277);












function PreApplicationApplicantsComponent_div_2_ng_container_9_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementContainer"](0);
  }
}
function PreApplicationApplicantsComponent_div_2_ng_container_10_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementContainer"](0);
  }
}
function PreApplicationApplicantsComponent_div_2_ng_container_11_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementContainer"](0);
  }
}
function PreApplicationApplicantsComponent_div_2_ng_container_12_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementContainer"](0);
  }
}
function PreApplicationApplicantsComponent_div_2_div_13_option_5_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](0, "option", 24);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const objective_r17 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("value", objective_r17);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtextInterpolate"](objective_r17);
  }
}
const _c0 = a0 => ({
  "has-error": a0
});
function PreApplicationApplicantsComponent_div_2_div_13_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](0, "div", 12)(1, "label");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtext"](2, "Vad \u00E4r syftet med l\u00E5net?");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](3, "select", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](4, "option", 23);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](5, PreApplicationApplicantsComponent_div_2_div_13_option_5_Template, 2, 2, "option", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpureFunction1"](2, _c0, ctx_r7.m.form.hasError("loanObjective")));
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngForOf", ctx_r7.m.loanObjectives);
  }
}
function PreApplicationApplicantsComponent_div_2_option_18_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](0, "option", 23);
  }
}
function PreApplicationApplicantsComponent_div_2_option_19_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](0, "option", 24);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const opt_r18 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("value", opt_r18.Code);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtextInterpolate"](opt_r18.DisplayName);
  }
}
function PreApplicationApplicantsComponent_div_2_ng_container_20_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementContainer"](0);
  }
}
function PreApplicationApplicantsComponent_div_2_ng_container_21_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementContainer"](0);
  }
}
function PreApplicationApplicantsComponent_div_2_ng_container_22_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementContainer"](0);
  }
}
function PreApplicationApplicantsComponent_div_2_ng_container_23_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementContainer"](0);
  }
}
function PreApplicationApplicantsComponent_div_2_option_28_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](0, "option", 23);
  }
}
function PreApplicationApplicantsComponent_div_2_option_37_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](0, "option", 23);
  }
}
const _c1 = () => ({
  placeholder: "\u00C5\u00C5\u00C5\u00C5MMDDXXXX"
});
const _c2 = a2 => ({
  formControlName: "mainApplicantCivicRegNr",
  displayText: "Vad \u00E4r ditt personnummer?",
  $implicit: a2
});
const _c3 = () => ({
  formControlName: "mainApplicantEmail",
  displayText: "Vilken epostadress n\u00E5r vi dig p\u00E5?"
});
const _c4 = () => ({
  formControlName: "mainApplicantPhone",
  displayText: "Vilket telefonnummer n\u00E5r vi dig enklast p\u00E5?"
});
const _c5 = () => ({
  formControlName: "mainApplicantIncomePerMonthAmount",
  displayText: "Vad \u00E4r din m\u00E5nadsinkomst innan skatt?"
});
const _c6 = () => ({
  placeholder: "\u00C5\u00C5\u00C5\u00C5-MM"
});
const _c7 = a2 => ({
  formControlName: "mainApplicantEmployedSince",
  displayText: "Fr\u00E5n n\u00E4r har du haft din syssels\u00E4ttning?",
  $implicit: a2
});
const _c8 = a2 => ({
  formControlName: "mainApplicantEmployedTo",
  displayText: "Till n\u00E4r har du din syssels\u00E4ttning?",
  $implicit: a2
});
const _c9 = () => ({
  formControlName: "mainApplicantEmployer",
  displayText: "Vem \u00E4r din arbetsgivare?"
});
const _c10 = () => ({
  formControlName: "mainApplicantEmployerPhone",
  displayText: "Vad \u00E4r din arbetsgivares telefonnummer?"
});
function PreApplicationApplicantsComponent_div_2_Template(rf, ctx) {
  if (rf & 1) {
    const _r20 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](0, "div", 4)(1, "div", 5)(2, "div", 6)(3, "div", 7)(4, "h1", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtext"](5, "Privatl\u00E5n - ans\u00F6kan");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](6, "form", 9)(7, "div", 4)(8, "div", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](9, PreApplicationApplicantsComponent_div_2_ng_container_9_Template, 1, 0, "ng-container", 10)(10, PreApplicationApplicantsComponent_div_2_ng_container_10_Template, 1, 0, "ng-container", 10)(11, PreApplicationApplicantsComponent_div_2_ng_container_11_Template, 1, 0, "ng-container", 10)(12, PreApplicationApplicantsComponent_div_2_ng_container_12_Template, 1, 0, "ng-container", 10)(13, PreApplicationApplicantsComponent_div_2_div_13_Template, 6, 4, "div", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](14, "div", 12)(15, "label");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtext"](16, "Vad har du f\u00F6r syssels\u00E4ttning");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](17, "select", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](18, PreApplicationApplicantsComponent_div_2_option_18_Template, 1, 0, "option", 14)(19, PreApplicationApplicantsComponent_div_2_option_19_Template, 2, 2, "option", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](20, PreApplicationApplicantsComponent_div_2_ng_container_20_Template, 1, 0, "ng-container", 10)(21, PreApplicationApplicantsComponent_div_2_ng_container_21_Template, 1, 0, "ng-container", 10)(22, PreApplicationApplicantsComponent_div_2_ng_container_22_Template, 1, 0, "ng-container", 10)(23, PreApplicationApplicantsComponent_div_2_ng_container_23_Template, 1, 0, "ng-container", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](24, "div", 12)(25, "label");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtext"](26, "Har du god man, f\u00F6rvaltare eller verklig huvudman?");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](27, "select", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](28, PreApplicationApplicantsComponent_div_2_option_28_Template, 1, 0, "option", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](29, "option", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtext"](30, "Ja");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](31, "option", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtext"](32, "Nej");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](33, "div", 12)(34, "label");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtext"](35, "Har du n\u00E5gra borgens\u00E5taganden?");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](36, "select", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](37, PreApplicationApplicantsComponent_div_2_option_37_Template, 1, 0, "option", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](38, "option", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtext"](39, "Ja");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](40, "option", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtext"](41, "Nej");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]()()()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](42, "div", 20)(43, "button", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵlistener"]("click", function PreApplicationApplicantsComponent_div_2_Template_button_click_43_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r20);
      const ctx_r19 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r19.apply($event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtext"](44, "G\u00E5 vidare");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]()()()()()()();
  }
  if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"]();
    const _r2 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵreference"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("formGroup", ctx_r0.m.form.form);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngTemplateOutlet", _r2)("ngTemplateOutletContext", _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpureFunction1"](27, _c2, _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpureFunction0"](26, _c1)));
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngTemplateOutlet", _r2)("ngTemplateOutletContext", _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpureFunction0"](29, _c3));
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngTemplateOutlet", _r2)("ngTemplateOutletContext", _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpureFunction0"](30, _c4));
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngTemplateOutlet", _r2)("ngTemplateOutletContext", _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpureFunction0"](31, _c5));
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngIf", ctx_r0.m.form.hasFormControl(null, "loanObjective"));
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpureFunction1"](32, _c0, ctx_r0.m.form.hasError("mainApplicantEmployment")));
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngIf", !ctx_r0.m.form.getValue("mainApplicantEmployment"));
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngForOf", ctx_r0.m.employmentCodes);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngTemplateOutlet", _r2)("ngTemplateOutletContext", _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpureFunction1"](35, _c7, _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpureFunction0"](34, _c6)));
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngTemplateOutlet", _r2)("ngTemplateOutletContext", _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpureFunction1"](38, _c8, _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpureFunction0"](37, _c6)));
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngTemplateOutlet", _r2)("ngTemplateOutletContext", _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpureFunction0"](40, _c9));
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngTemplateOutlet", _r2)("ngTemplateOutletContext", _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpureFunction0"](41, _c10));
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpureFunction1"](42, _c0, ctx_r0.m.form.hasError("mainApplicantEmployment")));
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngIf", !ctx_r0.m.form.getValue("mainApplicantHasLegalOrFinancialGuardian"));
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpureFunction1"](44, _c0, ctx_r0.m.form.hasError("mainApplicantClaimsToBeGuarantor")));
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngIf", !ctx_r0.m.form.getValue("mainApplicantClaimsToBeGuarantor"));
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("disabled", ctx_r0.m.form.invalid());
  }
}
function PreApplicationApplicantsComponent_ng_template_3_div_0_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](0, "div", 26)(1, "label");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](3, "input", 27);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r25 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"]();
    const formControlName_r23 = ctx_r25.formControlName;
    const displayText_r22 = ctx_r25.displayText;
    const options_r21 = ctx_r25.$implicit;
    const ctx_r24 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpureFunction1"](5, _c0, ctx_r24.m.form.hasError(formControlName_r23)))("formGroup", ctx_r24.m.form.form);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtextInterpolate"](displayText_r22);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpropertyInterpolate"]("placeholder", options_r21 == null ? null : options_r21.placeholder);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("formControlName", formControlName_r23);
  }
}
function PreApplicationApplicantsComponent_ng_template_3_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](0, PreApplicationApplicantsComponent_ng_template_3_div_0_Template, 4, 7, "div", 25);
  }
  if (rf & 2) {
    const formControlName_r23 = ctx.formControlName;
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngIf", ctx_r1.m.form.hasFormControl(null, formControlName_r23));
  }
}
class PreApplicationApplicantsComponent {
  constructor(route, storageService, config, router, formBuilder, validationService, employmentFormService) {
    this.route = route;
    this.storageService = storageService;
    this.config = config;
    this.router = router;
    this.formBuilder = formBuilder;
    this.validationService = validationService;
    this.employmentFormService = employmentFormService;
    this.shellData = {
      logoRouterLink: null,
      skipBodyLayout: false,
      wideNavigation: false
    };
  }
  ngOnInit() {
    var _this = this;
    return (0,C_Repository_BaCS_SelfContainedModules_ntech_backoffice_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      _this.setupTestFunctions();
      yield _this.reload(_this.route.snapshot.params['preApplicationId']);
    })();
  }
  reload(preApplicationId) {
    var _this2 = this;
    return (0,C_Repository_BaCS_SelfContainedModules_ntech_backoffice_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      _this2.errorMessage = null;
      _this2.m = null;
      let {
        isEnabled,
        settings
      } = yield _this2.storageService.getUlStandardWebApplicationSettings();
      if (!isEnabled) {
        _this2.errorMessage = _this2.config.baseCountry() === 'SE' ? 'Ansökan inaktiv' : 'Application not active';
        return;
      }
      let loanObjectives = settings?.loanObjectives ?? [];
      let application = _this2.storageService.load(preApplicationId);
      if (!application) {
        _this2.errorMessage = _this2.config.baseCountry() === 'SE' ? 'Ansökan finns inte' : 'No such application exists';
      }
      let formFields = {
        'mainApplicantCivicRegNr': ['', [_this2.validationService.getCivicRegNrValidator({
          require12DigitCivicRegNrSe: true
        }), _angular_forms__WEBPACK_IMPORTED_MODULE_8__.Validators.required]],
        'mainApplicantEmail': ['', [_this2.validationService.getEmailValidator(), _angular_forms__WEBPACK_IMPORTED_MODULE_8__.Validators.required]],
        'mainApplicantPhone': ['', [_this2.validationService.getPhoneValidator(), _angular_forms__WEBPACK_IMPORTED_MODULE_8__.Validators.required]],
        'mainApplicantIncomePerMonthAmount': ['', [_this2.validationService.getPositiveIntegerValidator(), _angular_forms__WEBPACK_IMPORTED_MODULE_8__.Validators.required]],
        'mainApplicantEmployment': ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_8__.Validators.required]],
        'mainApplicantHasLegalOrFinancialGuardian': ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_8__.Validators.required]],
        'mainApplicantClaimsToBeGuarantor': ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_8__.Validators.required]]
      };
      if (loanObjectives?.length > 0) {
        formFields['loanObjective'] = ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_8__.Validators.required]];
      }
      let form = new src_app_common_services_ntech_forms_helper__WEBPACK_IMPORTED_MODULE_1__.FormsHelper(_this2.formBuilder.group(formFields));
      form.form.valueChanges.subscribe(x => {
        form.ensureControlOnConditionOnly(_this2.employmentFormService.isEmployedSinceEmploymentCode(form.getValue('mainApplicantEmployment')), 'mainApplicantEmployedSince', () => '', () => [_this2.validationService.getDateOnlyValidator(), _angular_forms__WEBPACK_IMPORTED_MODULE_8__.Validators.required]);
        form.ensureControlOnConditionOnly(_this2.employmentFormService.isEmployedToEmploymentCode(form.getValue('mainApplicantEmployment')), 'mainApplicantEmployedTo', () => '', () => [_this2.validationService.getDateOnlyValidator(), _angular_forms__WEBPACK_IMPORTED_MODULE_8__.Validators.required]);
        form.ensureControlOnConditionOnly(_this2.employmentFormService.isEmployerEmploymentCode(form.getValue('mainApplicantEmployment')), 'mainApplicantEmployer', () => '', () => [_angular_forms__WEBPACK_IMPORTED_MODULE_8__.Validators.required]);
        form.ensureControlOnConditionOnly(_this2.employmentFormService.isEmployerEmploymentCode(form.getValue('mainApplicantEmployment')), 'mainApplicantEmployerPhone', () => '', () => [_this2.validationService.getPhoneValidator(), _angular_forms__WEBPACK_IMPORTED_MODULE_8__.Validators.required]);
      });
      _this2.m = {
        form: form,
        preApplicationId: preApplicationId,
        application: application,
        loanObjectives: loanObjectives,
        employmentCodes: _this2.employmentFormService.getEmploymentStatuses()
      };
    })();
  }
  apply(evt) {
    var _this3 = this;
    return (0,C_Repository_BaCS_SelfContainedModules_ntech_backoffice_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      evt?.preventDefault();
      let application = _this3.m.application;
      let vs = _this3.validationService;
      let f = _this3.m.form;
      application.loanObjective = f.getValue('loanObjective');
      application.applicants = [{
        civicRegNr: f.getValue('mainApplicantCivicRegNr'),
        phone: f.getValue('mainApplicantPhone'),
        email: f.getValue('mainApplicantEmail'),
        incomePerMonthAmount: vs.parseIntegerOrNull(f.getValue('mainApplicantIncomePerMonthAmount')),
        employment: vs.normalizeString(f.getValue('mainApplicantEmployment')),
        employer: vs.normalizeString(f.getValue('mainApplicantEmployer')),
        employerPhone: vs.normalizeString(f.getValue('mainApplicantEmployerPhone')),
        employedSince: vs.parseDateOnlyOrNull(f.getValue('mainApplicantEmployedSince')),
        employedTo: vs.parseDateOnlyOrNull(f.getValue('mainApplicantEmployedTo')),
        hasLegalOrFinancialGuardian: f.getValue('mainApplicantHasLegalOrFinancialGuardian') === 'yes',
        claimsToBeGuarantor: f.getValue('mainApplicantClaimsToBeGuarantor') === 'yes'
      }];
      yield _this3.storageService.save(_this3.m.preApplicationId, application);
      _this3.router.navigate(['ul-webapplications/application-economy/' + _this3.m.preApplicationId]);
    })();
  }
  setupTestFunctions() {
    var _this4 = this;
    this.shellData.test = {
      functionCalls: [{
        displayText: 'Autofill',
        execute: function () {
          var _ref = (0,C_Repository_BaCS_SelfContainedModules_ntech_backoffice_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
            let testPersons = yield _this4.storageService.generateTestPersons(1, true, true);
            let a1 = testPersons.Persons[0].Properties;
            let f = _this4.m.form;
            f.setValue('mainApplicantCivicRegNr', a1.civicRegNr);
            f.setValue('mainApplicantEmail', a1.email);
            f.setValue('mainApplicantPhone', a1.phone);
            f.setValue('mainApplicantIncomePerMonthAmount', '37500');
            if (_this4.m.loanObjectives.length > 0) {
              f.setValue('loanObjective', _this4.m.loanObjectives[0]);
            }
            f.setValue('mainApplicantEmployment', 'full_time');
            f.setValue('mainApplicantEmployedSince', '2017-03-15');
            f.setValue('mainApplicantEmployedTo', '2021-09-12');
            f.setValue('mainApplicantEmployer', 'Employer AB');
            f.setValue('mainApplicantEmployerPhone', '08 - 123 654');
            f.setValue('mainApplicantHasLegalOrFinancialGuardian', 'no');
            f.setValue('mainApplicantClaimsToBeGuarantor', 'no');
          });
          return function execute() {
            return _ref.apply(this, arguments);
          };
        }()
      }]
    };
  }
  static #_ = this.ɵfac = function PreApplicationApplicantsComponent_Factory(t) {
    return new (t || PreApplicationApplicantsComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_9__.ActivatedRoute), _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdirectiveInject"](_services_pre_application_service__WEBPACK_IMPORTED_MODULE_2__.UlStandardPreApplicationService), _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdirectiveInject"](_common_services_customer_pages_config_service__WEBPACK_IMPORTED_MODULE_3__.CustomerPagesConfigService), _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_9__.Router), _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdirectiveInject"](_angular_forms__WEBPACK_IMPORTED_MODULE_8__.UntypedFormBuilder), _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdirectiveInject"](_common_services_customer_pages_validation_service__WEBPACK_IMPORTED_MODULE_4__.CustomerPagesValidationService), _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdirectiveInject"](_shared_components_services_employment_form_service__WEBPACK_IMPORTED_MODULE_5__.EmploymentFormService));
  };
  static #_2 = this.ɵcmp = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdefineComponent"]({
    type: PreApplicationApplicantsComponent,
    selectors: [["np-pre-application-applicants"]],
    decls: 5,
    vars: 2,
    consts: [[3, "initialData"], ["shell-body", ""], ["class", "row", 4, "ngIf"], ["textGroup", ""], [1, "row"], [1, "col-xs-12"], [1, "flex-container"], [1, "align-center", "frame"], [1, "header-light", "text-center", "pb-3"], [3, "formGroup"], [4, "ngTemplateOutlet", "ngTemplateOutletContext"], ["class", "form-group pb-1", 3, "ngClass", 4, "ngIf"], [1, "form-group", "pb-1", 3, "ngClass"], ["formControlName", "mainApplicantEmployment", 1, "form-control"], ["value", "", 4, "ngIf"], [3, "value", 4, "ngFor", "ngForOf"], ["formControlName", "mainApplicantHasLegalOrFinancialGuardian", 1, "form-control"], ["value", "yes"], ["value", "no"], ["formControlName", "mainApplicantClaimsToBeGuarantor", 1, "form-control"], [1, "text-right", "pt-2"], [1, "n-main-btn", "n-green-btn", 3, "disabled", "click"], ["formControlName", "loanObjective", 1, "form-control"], ["value", ""], [3, "value"], ["class", "form-group pb-1", 3, "ngClass", "formGroup", 4, "ngIf"], [1, "form-group", "pb-1", 3, "ngClass", "formGroup"], ["type", "text", 1, "form-control", 3, "formControlName", "placeholder"]],
    template: function PreApplicationApplicantsComponent_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](0, "customerpages-shell", 0)(1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](2, PreApplicationApplicantsComponent_div_2_Template, 45, 46, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](3, PreApplicationApplicantsComponent_ng_template_3_Template, 1, 1, "ng-template", null, 3, _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplateRefExtractor"]);
      }
      if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("initialData", ctx.shellData);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngIf", ctx.m);
      }
    },
    dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_10__.NgClass, _angular_common__WEBPACK_IMPORTED_MODULE_10__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_10__.NgIf, _angular_common__WEBPACK_IMPORTED_MODULE_10__.NgTemplateOutlet, _angular_forms__WEBPACK_IMPORTED_MODULE_8__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_8__.NgSelectOption, _angular_forms__WEBPACK_IMPORTED_MODULE_8__["ɵNgSelectMultipleOption"], _angular_forms__WEBPACK_IMPORTED_MODULE_8__.DefaultValueAccessor, _angular_forms__WEBPACK_IMPORTED_MODULE_8__.SelectControlValueAccessor, _angular_forms__WEBPACK_IMPORTED_MODULE_8__.NgControlStatus, _angular_forms__WEBPACK_IMPORTED_MODULE_8__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_8__.FormGroupDirective, _angular_forms__WEBPACK_IMPORTED_MODULE_8__.FormControlName, _shared_components_customerpages_shell_customerpages_shell_component__WEBPACK_IMPORTED_MODULE_6__.CustomerpagesShellComponent],
    encapsulation: 2
  });
}

/***/ }),

/***/ 2330:
/*!*********************************************************************************************************************************************!*\
  !*** ./projects/customerpages/src/app/unsecured-loan-applications/pages/pre-application-calculator/pre-application-calculator.component.ts ***!
  \*********************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PreApplicationCalculatorComponent: () => (/* binding */ PreApplicationCalculatorComponent)
/* harmony export */ });
/* harmony import */ var C_Repository_BaCS_SelfContainedModules_ntech_backoffice_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 1670);
/* harmony import */ var src_app_common_services_ntech_forms_helper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/app/common-services/ntech-forms-helper */ 7093);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/core */ 1699);
/* harmony import */ var _services_pre_application_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../services/pre-application.service */ 2903);
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/router */ 7947);
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/forms */ 8849);
/* harmony import */ var _common_services_customer_pages_validation_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../common-services/customer-pages-validation.service */ 423);
/* harmony import */ var src_app_common_services_ntech_paymentplan_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! src/app/common-services/ntech-paymentplan.service */ 5378);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/common */ 6575);
/* harmony import */ var _shared_components_customerpages_shell_customerpages_shell_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../shared-components/customerpages-shell/customerpages-shell.component */ 4277);
/* harmony import */ var _shared_components_calculator_slider_calculator_slider_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../shared-components/calculator-slider/calculator-slider.component */ 738);











function PreApplicationCalculatorComponent_div_2_div_44_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](0, "div", 16)(1, "div", 3)(2, "div", 17)(3, "div", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](4, "img", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](5, "div", 20)(6, "h2");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtext"](7, "Det h\u00E4r \u00E4r en h\u00F6gkostnadskredit");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](8, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtext"](9, "Om du inte kan betala tillbaka hela skulden riskerar du en betalningsanm\u00E4rkning. F\u00F6r st\u00F6d, v\u00E4nd dig till budget- och skuldr\u00E5dgivning i din kommun. Kontaktuppgifter finns p\u00E5 ");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](10, "a", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtext"](11, "hall\u00E5 konsument");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]()()()()();
  }
}
function PreApplicationCalculatorComponent_div_2_Template(rf, ctx) {
  if (rf & 1) {
    const _r4 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](0, "div", 3)(1, "div", 4)(2, "div", 5)(3, "div", 6)(4, "h1", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtext"](5, "Privatl\u00E5n");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](6, "form", 8)(7, "div", 9)(8, "div", 10)(9, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtext"](10, "Hur mycket kan du l\u00E5na?");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](11, "h2");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtext"](12);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpipe"](13, "number");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](14, "calculator-slider", 0);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](15, "div", 9)(16, "div", 10)(17, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtext"](18, "Hur l\u00E5ng \u00E5terbetalningstid vill du ha?");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](19, "h2");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtext"](20);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](21, "calculator-slider", 0);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](22, "div", 9)(23, "div", 10)(24, "h2");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtext"](25, "Total att \u00E5terbetala:");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](26, "div", 10)(27, "h2");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtext"](28);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpipe"](29, "number");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]()()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](30, "div", 11)(31, "div", 3)(32, "div", 4)(33, "div", 12)(34, "p", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtext"](35);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpipe"](36, "number");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpipe"](37, "number");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpipe"](38, "number");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpipe"](39, "number");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpipe"](40, "number");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpipe"](41, "number");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpipe"](42, "number");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](43, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](44, PreApplicationCalculatorComponent_div_2_div_44_Template, 12, 0, "div", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](45, "div", 14)(46, "button", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵlistener"]("click", function PreApplicationCalculatorComponent_div_2_Template_button_click_46_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r4);
      const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r3.apply($event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtext"](47, "Ans\u00F6k");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]()()()()()();
  }
  if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("formGroup", ctx_r0.m.form.form);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtextInterpolate1"]("", _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpipeBind2"](13, 15, ctx_r0.getLoanAmount(ctx_r0.m), "1.0-2"), " kr");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("initialData", ctx_r0.m.loanAmountSliderData);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtextInterpolate"](ctx_r0.formatRepaymentTimeForDisplay(ctx_r0.getRepaymentTime(ctx_r0.m)));
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("initialData", ctx_r0.m.repaymentTimeSliderData);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](7);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtextInterpolate1"]("", _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpipeBind2"](29, 18, ctx_r0.m.calculatedPaymentPlan.TotalPaidAmount, "1.0-0"), " kr");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](7);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtextInterpolate8"]("R\u00E4kneexemplet baseras p\u00E5 beviljat belopp ", _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpipeBind2"](36, 21, ctx_r0.m.calculatedPaymentPlan.LoanAmount, "1.0-0"), " kr, \u00E5terbetalningstid ", ctx_r0.formatRepaymentTimeForDisplay(ctx_r0.getRepaymentTime(ctx_r0.m)), ", r\u00E4nta ", _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpipeBind2"](37, 24, ctx_r0.m.calculatedPaymentPlan.MarginInterestRatePercent, "1.0-2"), "%, uppl\u00E4ggningsavgift ", _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpipeBind2"](38, 27, ctx_r0.getTermsBoxPaymentPlanInitialFee(), "1.0-0"), " kr, aviavgift ", _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpipeBind2"](39, 30, ctx_r0.getTermsBoxNotificationFee(), "1.0-0"), " kr, effektiv r\u00E4nta ", _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpipeBind2"](40, 33, ctx_r0.m.calculatedPaymentPlan.EffectiveInterstRatePercent == null ? null : ctx_r0.m.calculatedPaymentPlan.EffectiveInterstRatePercent.value, "1.0-4"), "%, m\u00E5nadskostnad ", _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpipeBind2"](41, 36, ctx_r0.m.calculatedPaymentPlan.MonthlyCostIncludingFeesAmount, "1.0-0"), " kr, totalt att \u00E5terbetala inklusive alla avgifter: ", _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpipeBind2"](42, 39, ctx_r0.m.calculatedPaymentPlan.TotalPaidAmount, "1.0-0"), " kr.");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](9);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngIf", (ctx_r0.m.calculatedPaymentPlan.EffectiveInterstRatePercent == null ? null : ctx_r0.m.calculatedPaymentPlan.EffectiveInterstRatePercent.value) > 30);
  }
}
function PreApplicationCalculatorComponent_div_3_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](0, "div", 3)(1, "div", 4)(2, "div", 5)(3, "div", 6)(4, "h1", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtext"](5, "Privatl\u00E5n");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](6, "p", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtext"](7, "F\u00F6r tillf\u00E4lligt har vi inga aktiva produkter.");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]()()()()();
  }
}
class PreApplicationCalculatorComponent {
  constructor(storageService, router, formBuilder, validationService, paymentPlanService) {
    this.storageService = storageService;
    this.router = router;
    this.formBuilder = formBuilder;
    this.validationService = validationService;
    this.paymentPlanService = paymentPlanService;
    this.shellData = {
      logoRouterLink: null,
      skipBodyLayout: false,
      wideNavigation: false
    };
  }
  ngOnInit() {
    var _this = this;
    return (0,C_Repository_BaCS_SelfContainedModules_ntech_backoffice_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      _this.m = null;
      let {
        isEnabled,
        settings
      } = yield _this.storageService.getUlStandardWebApplicationSettings();
      if (!isEnabled) {
        _this.hasNoActiveProducts = true;
        return;
      }
      if ((settings.loanAmounts ?? []).length === 0 || (settings.repaymentTimes ?? []).length === 0) {
        _this.hasNoActiveProducts = true;
        return;
      } else {
        _this.hasNoActiveProducts = false;
      }
      let form = new src_app_common_services_ntech_forms_helper__WEBPACK_IMPORTED_MODULE_1__.FormsHelper(_this.formBuilder.group({
        'loanAmountIndex': [0, []],
        'repaymentTimeIndex': [0, []]
      }));
      let m = {
        settings: settings,
        loanAmountSliderData: {
          minValue: 0,
          maxValue: settings.loanAmounts.length - 1,
          stepSize: 1,
          tickButtonStepSize: null,
          formControlName: 'loanAmountIndex',
          form: form
        },
        repaymentTimeSliderData: {
          minValue: 0,
          maxValue: settings.repaymentTimes.length - 1,
          stepSize: 1,
          tickButtonStepSize: null,
          formControlName: 'repaymentTimeIndex',
          form: form
        },
        form: form
      };
      _this.recalculatePaymentPlan(m);
      m.form.form.valueChanges.subscribe(_ => {
        _this.recalculatePaymentPlan(m);
      });
      _this.m = m;
    })();
  }
  recalculatePaymentPlan(m) {
    let repaymentTime = this.getRepaymentTime(m);
    let loanAmount = this.getLoanAmount(m);
    let basicRequest = {
      loansToSettleAmount: 0,
      paidToCustomerAmount: loanAmount,
      marginInterestRatePercent: m.settings.exampleMarginInterestRatePercent,
      referenceInterestRatePercent: 0,
      initialFeeWithheldAmount: m.settings.exampleInitialFeeWithheldAmount,
      initialFeeCapitalizedAmount: m.settings.exampleInitialFeeCapitalizedAmount,
      initialFeeOnFirstNotificationAmount: m.settings.exampleInitialFeeOnFirstNotificationAmount,
      notificationFee: m.settings.exampleNotificationFee
    };
    if (repaymentTime.isDays) {
      m.calculatedPaymentPlan = this.paymentPlanService.caclculatePlanWithSinglePaymentWithRepaymentTimeInDays(basicRequest, repaymentTime.repaymentTime);
    } else {
      m.calculatedPaymentPlan = this.paymentPlanService.calculatePlanWithAnnuitiesFromRepaymentTime({
        ...basicRequest,
        repaymentTimeInMonths: repaymentTime.repaymentTime
      });
    }
  }
  getItemByIndex(items, index) {
    if (index < 0) {
      return items[0];
    } else if (index >= items.length) {
      return items[items.length - 1];
    } else {
      return items[index];
    }
  }
  formatRepaymentTimeForDisplay(value) {
    return `${value.repaymentTime} ${value.isDays ? ' dagar' : ' månader'}`;
  }
  getRepaymentTime(m) {
    let index = m.form.getValue('repaymentTimeIndex');
    let rawValue = this.getItemByIndex(m.settings.repaymentTimes, index);
    return this.validationService.parseRepaymentTimeWithPeriodMarker(rawValue, false);
  }
  getLoanAmount(m) {
    let index = m.form.getValue('loanAmountIndex');
    return this.getItemByIndex(m.settings.loanAmounts, index);
  }
  getTermsBoxPaymentPlanInitialFee() {
    let p = this.m.calculatedPaymentPlan;
    if (!p) {
      return 0;
    }
    let amount = p.InitialFeeCapitalizedAmount ?? 0 + p.InitialFeeWithheldAmount ?? 0;
    if (p.Payments.length > 0) {
      amount += +p.Payments[0].initialFee ?? 0;
    }
    return amount;
  }
  getTermsBoxNotificationFee() {
    let p = this.m.calculatedPaymentPlan;
    if (!p) {
      return 0;
    }
    if (p.Payments.length > 0) {
      return p.Payments[0].monthlyFee;
    } else {
      return 0;
    }
  }
  apply(evt) {
    var _this2 = this;
    return (0,C_Repository_BaCS_SelfContainedModules_ntech_backoffice_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      evt?.preventDefault();
      let repaymentTime = _this2.getRepaymentTime(_this2.m);
      let preApplicationId = yield _this2.storageService.beginPreApplication({
        requestedLoanAmount: _this2.getLoanAmount(_this2.m),
        requestedRepaymentTime: _this2.validationService.formatRepaymentTimeWithPeriodMarkerForStorage(repaymentTime.repaymentTime, repaymentTime.isDays)
      });
      _this2.router.navigate(['ul-webapplications/application-applicants/' + preApplicationId]);
    })();
  }
  static #_ = this.ɵfac = function PreApplicationCalculatorComponent_Factory(t) {
    return new (t || PreApplicationCalculatorComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdirectiveInject"](_services_pre_application_service__WEBPACK_IMPORTED_MODULE_2__.UlStandardPreApplicationService), _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_8__.Router), _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdirectiveInject"](_angular_forms__WEBPACK_IMPORTED_MODULE_9__.UntypedFormBuilder), _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdirectiveInject"](_common_services_customer_pages_validation_service__WEBPACK_IMPORTED_MODULE_3__.CustomerPagesValidationService), _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdirectiveInject"](src_app_common_services_ntech_paymentplan_service__WEBPACK_IMPORTED_MODULE_4__.NTechPaymentPlanService));
  };
  static #_2 = this.ɵcmp = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdefineComponent"]({
    type: PreApplicationCalculatorComponent,
    selectors: [["np-pre-application-calculator"]],
    decls: 4,
    vars: 3,
    consts: [[3, "initialData"], ["shell-body", ""], ["class", "row", 4, "ngIf"], [1, "row"], [1, "col-xs-12"], [1, "flex-container"], [1, "align-center", "frame"], [1, "header-light", "text-center", "pb-3"], [3, "formGroup"], [1, "row", "text-center", "pt-3"], [1, "col-sm-12"], [1, "pt-5", "terms-box"], [1, "form-group", "pb-1"], ["class", "pt-5", 4, "ngIf"], [1, "text-right", "pt-2"], [1, "n-main-btn", "n-green-btn", 3, "click"], [1, "pt-5"], [1, "col-xs-2"], [1, "highcost-image-container"], ["src", "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMQAAAC+CAYAAABqH6DMAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAFiUAABYlAUlSJPAAAABhaVRYdFNuaXBNZXRhZGF0YQAAAAAAeyJjbGlwUG9pbnRzIjpbeyJ4IjowLCJ5IjowfSx7IngiOjE5NywieSI6MH0seyJ4IjoxOTcsInkiOjE5MX0seyJ4IjowLCJ5IjoxOTF9XX2mn+1UAAAMp0lEQVR4Xu2dTYheRRaG7wzCCA5GcFDwJwEHMtAhgoKDQdwa3CvZG+LaoGslWRvM2pDsg+6buB0kMsIMGNIwgoEYDQgTcEQhAwMz9+3cnq7Er/u759yqe+vneTbp2+nu7/7Ue6vqrVPn/Oa/PR0AbPPb4V8A6EEQAAEIAiAAQQAEIAiAAAQBEIAgAAIQBEAAggAIQBAAAQgCIABBAAQgCIAABAEQgCAAAhAEQACCAAhAEAABCAIgAEEABJBkYCF+3trqfrl+vbv73XfDd3Z5+JlnukeOHOl+v7ExfAfmAkHMiBr/7YsXu39+9ln37xVCeJDf9cL4w2uvdU+dPLktEkgPgpgBCeHbjz7qfvj00+E7dp58443u4OnTCCMxCCIxN3shfHv+/HA0nYPvvNMd6oUBaUAQifjPTz91X7/7bnenHx7F5vF+GHX43LnuoUcfHb4DsUAQCZAYvjpxovulnzin4pF+wv385cuIIjLYrgnYOnUqqRiE/r4+B+KCICLzzZkz3b+++GI4Sos+R58H8WDIFBE1UA2V5kZDpwMvvzwcwRToISKy1NuaXiIeCCISP3zySfJ5w17oc/X5MB2GTBGQq/TlK69s/2tFLpEcIw15NORS4/b+nZc+/xzXaSIIIgKexTc13Ofef7978s03h+/sorf9jbNnzcJg0W46CGIiCstQ72BBYjjaT4T3C95T8N+1foJuFYV6CcI7/DCHmIhWo61sXLiwNpJV/6+fs+I5H9gFQUxAY37rmoPmCmMtUv2cwjQseM4JdmHINIG/9kOlMWHcIdYhjWdIprDxP/efA3boIZx8f/GiWQxPvfWWeXyvn9dk2YLOS+cHdughHHhs1im26Nyf1zL0EA5ks1rdH73lvY1TvyeL1oLOT+cJNughjHjG9Fp4e3Fzczjy87fXXzevhmPD2qCHMOKxNf/4wQfDV9Pw/B1sWBsIwoB2v1ktTdmmsSJR9Xe0t9qCzjfFrr1aYchkYA6bdR0asv29HzpZ5jDYsOOhhxiJJqhWMWgiHXv8rr8n+9aCzpsJ9jjoIUaQm+2p89AE2yLQlOdTE/QQI7hx5oxJDEI2aarGp797yLhYp/PXdcD+IIg1KOrUmmBMNuuqsO6Y6O9bJ+u6Dl0P7A2CWIPnrRrLZl2HZ+8DvcT+IIh98NisskVj2azrwIaND5PqPfBOXF/Y3Jx1ZVjnaZ3wy4bVyjkT7F9DD7EHc0WzTkWN2mPDEg27GnqIFXgXv5Z861oXDZfozUqAHmIFSl1vEYOQDbrkEMQ6kdf16TrhfhDEA2jSabVZtye3iW3WdXhipnSdVtOgdhDEA3hCHJ6byWZdh+c8COm4HwQRoHxIHps1l1pwOg+PDUvWv12YVA9oTF1DfJCuAxvWDz3EgNdmza0R6XxISuCHHqKnxlQvOezdKBF6iJ6c45W8/OncueGr8RDnhCBcsT2yN60Z9eZG52i1YT2xW7XR/JDJk8lCK7y5OEv7sWSGkFJpuofwFDnRRLoEMQjPdtPWi68020N47MkcbdZ1tHKdsWi2h5DNaGkkYkr2vaXQ+VptWN2XVm3YJnuIGm3WdZD1bxxN9hCebHYeGzMnyPo3juYEIVvRai16LMzc8FjFnntVOs0NmVpewW1xqGilqR7CG69Uyzha10Gc0/4000PkaD/qja1da1oh1nnpczSsOXj6dDIR5ngfcqKZHkIbYSyNQKTMvqfdamqY+nfnvPSvjrWf27prbyy6Hoqv7E0TPURuIQzKnqdGv46UISLYsKtpoodYssjJKsZu7k+ZBAAbdjXVC8ITwRmzyMkqxkbXWqNwLej6yPr3a6oXxDeOGP+USQM0fMsFTd6tcyTP/SyJqgWhiaDVZk1R5CTk7q1bw1fLo+v0ZP2reYJdrSDkjNy+dGk4Gofelk+fPDkctYGuV4tvFnRfrY5dKVQrCG2HtD60lDZrruh6Kb6yS5WC8BQ52Z5kLpx9bykovrJLlYLwvL08xUdqguIr96hOEB6bdc4iJ7mCDXuPqgShsa3VFtQYWvYj3LObPTZsTRPsqgTRejTrVCQGjw1bUzRsNYLQgpfVZpXd2JrNug7NJTw2bE4LjlOoRhAlFjnJlZaLr1QhCE3usFnj0XLxlSoE4QklyKXISa60WnyleEGUXuQkV1otvlK0IDR2vXn+/HA0Ds0Z6B3G4bFh9TxKtmGLFoTXZmUiPQ7dp9aSEhQriO0N+sbeQXZi6yEaVjzRsHoupdqwxQrCE0eTe5GTXGmp+EqRgvDE0MhGzL3ISa7o3lltWE9MWQ4UKYjctoW2wGFHL1HidtPiBFF7kZNc8Ww3LbH4SlGCkJ134+zZ4WgcckqYSMdB99Hq0Ol5lWTDFiUI2XnWm1tikZNc8diwel4l2bDFCMJrsxLNGhfdT2U1tFCSDVuMIFoscpIrNWf9K0IQsu+sFp7HKoRxeCxszzNcgiIE8Q/H28VjE8J4PDa25znOTfaC8MYrsS00Lbq/NcY5ZS0IORTWiXTuNutDBw4MX5WPJthWB0/PM2cbNmtBaMOJ9eblnn2vpgVC3efaiq9kKwjZdNakAbIDS9gWOjZ61BplugSerH85JyXIVhC5FTmJydhcqtacq0vhGaLmasNmKQhPpGTqIicx0Vt13fZM/X8pSRB032vJ+pdljblWaklrLP1ganmNy+WSlRZ/pSGQ6uZZ5nwaEuZWAzs7QaiRWJ0l2X+lBvCpAf18/fpw1E+6jxzJ2hTYjxqeXVaCUOOghnK56Lmpuqmld8/t+WU1h9C2Q4sYRItFTnJFz6H04ivZCIIiJ3XgsWFzKr6SjSA8b4lS5w2144lzyqWXyEIQHptVNl8pNmtreLP+5WDDLj6p9k7EXtjcJIAvY/RcrQaJbNgX++e65Jxw8R6CaNY6UaO2JiXIIRp20R7Cu5iz9FsExmNdZF2691+0h6DISf2UVnxlMUFoEoXNWj+lFV9ZbMj01YkT5otWV1pbwjENG+/eujUcdd3Dzz5b3fxIawwaGluQiJ6/fHk4mo9FBKFsbl+/995wNA7ZeDXtk9Y9+P7SpZVZCLWv4+l+QlpTb6i0ltb9LYc//HD2ezC7IDRGLD3eZQq6/q1Tp0b1jnpLbly4UM11l2DDzj6H8NqstTQKy1BRP6eftzSiXNHzKyEpwayC0HjZGh6st0QtIRoKj7YmatbP57wH2UIJxVdmFYQnXqWWIid6qNYx9A4570G2knvxldkEoe7fGquiMXQtRU5uT+z6p/5+LuiZWm1YT6ybl9kE0XqRk6nhzbmER8cg5+IrswiCIif3esgpzPWGnAOts1jjnOYqvpLcdvXYbXIkatsW+pdDh4av/Lx68+bwVfnk2i6S9xCyzay2oey5msQgrOPmB5n6+7mh5+vJ+pfahk0qCK/NWmORk6nDv9pCVoRWoXMrvpJUEBQ52eWJiSEIU38/V3IrvpJMEJoEWieCHkuuFPSG91rI+r0aewih5229L562NZZkk+pWsu9Z0BhYoRgWx01DCkV91janCtEQSBNsCxpap8j6l6SHkD3miVeqfVuoGrUa99hxcwtiEHrunjinFDZskh7Cs22wNpt1Havyuu6g+6AXREtpdnQfPNGwsXuJ6IK4c+VKt/X228PROJaIe8+FH69evW88rDH1Y8eODUdtoTe+dZ/Mxscfd48fPz4cTSe6IOQAWLaGaligmHcAYd1JGXvjWPQ5xI/G2X8t0awQB+sw0dre1hFdEJa5g2cDOtSN2oMl65/VvFlHVEFoPGzBmu4Q2uAJY7uwtrv9SLYwN4aYkyGohyVNhUUFAZAbiwqipk0vEI8l20VUQag+moVatkVCXKztIuYQK6ogtMJqWW1eMmUh5Inag2Udy5rFYx3Rh0zWyEUl7cqxXjHMj9qB2oOFxyLb9tFXqj3L72InDNi6YQTKR9G/3swascN+kgT3XT161BSkBeBBw/Nj164NR3FI4jJZMyoAeEjRzpL0EJ5QXgALmkynSIScpIfQSdaUuh7yQ0GhscUgkghCaIJMrBKkQEMlq5s5liRDphBsVYhJ6sI5yXqIHXTy9BQQg9RiEMl7iB20h9iatAxgByUhmGOP+WyCEFp4URZna+JjaBct1GoCPddGslkFsYNWs/cqOAggJIQlCk8uIogdlKDqzpUr2z2HvkYg7SIBKD/TdgjP8eOL5ehaVBAAuZHcZQIoCQQBEIAgAAIQBEAAggAIQBAAAQgCIABBAAQgCIAABAEQgCAAAhAEQACCAAhAEAABCAIgAEEABCAIgAAEARCAIAACEARAAIIACEAQAAEIAiAAQQAEIAiAAAQBEIAgAP5P1/0PgJZa6mr1Hg0AAAAASUVORK5CYII=", "alt", ""], [1, "col-xs-9"], ["href", "https://www.hallakonsument.se/", "target", "_blank", "rel", "nofollow"], [1, "text-center"]],
    template: function PreApplicationCalculatorComponent_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](0, "customerpages-shell", 0)(1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](2, PreApplicationCalculatorComponent_div_2_Template, 48, 42, "div", 2)(3, PreApplicationCalculatorComponent_div_3_Template, 8, 0, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]()();
      }
      if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("initialData", ctx.shellData);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngIf", ctx.m);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngIf", ctx.hasNoActiveProducts);
      }
    },
    dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_10__.NgIf, _angular_forms__WEBPACK_IMPORTED_MODULE_9__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_9__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_9__.FormGroupDirective, _shared_components_customerpages_shell_customerpages_shell_component__WEBPACK_IMPORTED_MODULE_5__.CustomerpagesShellComponent, _shared_components_calculator_slider_calculator_slider_component__WEBPACK_IMPORTED_MODULE_6__.CalculatorSliderComponent, _angular_common__WEBPACK_IMPORTED_MODULE_10__.DecimalPipe],
    styles: [".terms-box[_ngcontent-%COMP%] {\n  background-color: #023365;\n  color: white;\n  border-radius: 6px;\n  padding: 12px;\n  margin-top: 30px;\n}\n\n.highcost-image-container[_ngcontent-%COMP%] {\n  max-width: 100px;\n  max-height: 100px;\n}\n.highcost-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\n  height: auto;\n  width: 100%;\n}\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3Byb2plY3RzL2N1c3RvbWVycGFnZXMvc3JjL2FwcC91bnNlY3VyZWQtbG9hbi1hcHBsaWNhdGlvbnMvcGFnZXMvcHJlLWFwcGxpY2F0aW9uLWNhbGN1bGF0b3IvcHJlLWFwcGxpY2F0aW9uLWNhbGN1bGF0b3IuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSx5QkFBQTtFQUNBLFlBQUE7RUFDQSxrQkFBQTtFQUNBLGFBQUE7RUFDQSxnQkFBQTtBQUNKOztBQUVBO0VBQ0ksZ0JBQUE7RUFDQSxpQkFBQTtBQUNKO0FBQUk7RUFDSSxZQUFBO0VBQ0EsV0FBQTtBQUVSIiwic291cmNlc0NvbnRlbnQiOlsiLnRlcm1zLWJveCB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDIzMzY1O1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG4gICAgYm9yZGVyLXJhZGl1czogNnB4O1xyXG4gICAgcGFkZGluZzogMTJweDtcclxuICAgIG1hcmdpbi10b3A6IDMwcHg7XHJcbn1cclxuXHJcbi5oaWdoY29zdC1pbWFnZS1jb250YWluZXIge1xyXG4gICAgbWF4LXdpZHRoOiAxMDBweDtcclxuICAgIG1heC1oZWlnaHQ6IDEwMHB4O1xyXG4gICAgaW1nIHtcclxuICAgICAgICBoZWlnaHQ6YXV0bztcclxuICAgICAgICB3aWR0aDoxMDAlO1xyXG4gICAgfVxyXG59Il0sInNvdXJjZVJvb3QiOiIifQ== */"]
  });
}

/***/ }),

/***/ 8627:
/*!*******************************************************************************************************************************************!*\
  !*** ./projects/customerpages/src/app/unsecured-loan-applications/pages/pre-application-datashare/pre-application-datashare.component.ts ***!
  \*******************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PreApplicationDatashareComponent: () => (/* binding */ PreApplicationDatashareComponent)
/* harmony export */ });
/* harmony import */ var C_Repository_BaCS_SelfContainedModules_ntech_backoffice_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 1670);
/* harmony import */ var src_app_common_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/app/common.types */ 198);
/* harmony import */ var projects_ntech_components_src_lib_kreditz_datashare_iframe_kreditz_datashare_iframe_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../ntech-components/src/lib/kreditz-datashare-iframe/kreditz-datashare-iframe.component */ 3818);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/core */ 1699);
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/router */ 7947);
/* harmony import */ var _services_pre_application_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../services/pre-application.service */ 2903);
/* harmony import */ var _common_services_customer_pages_config_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../common-services/customer-pages-config.service */ 5716);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/common */ 6575);
/* harmony import */ var _shared_components_customerpages_shell_customerpages_shell_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../shared-components/customerpages-shell/customerpages-shell.component */ 4277);










function PreApplicationDatashareComponent_p_2_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtextInterpolate"](ctx_r0.errorMessage);
  }
}
function PreApplicationDatashareComponent_div_3_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "div");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelement"](1, "kreditz-datashare-iframe", 0);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("initialData", ctx_r1.m.kzData);
  }
}
function PreApplicationDatashareComponent_div_4_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "div", 5)(1, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](3, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](4, "Det brukar kunna ta upp till en minut.");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtextInterpolate1"]("V\u00E4ntar p\u00E5 information fr\u00E5n din bank: ", ctx_r2.m.waiting.waitSeconds, " s");
  }
}
function PreApplicationDatashareComponent_div_5_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "div", 6)(1, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](2, "Vi har nu f\u00E5tt data fr\u00E5n din bank...");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()();
  }
}
function PreApplicationDatashareComponent_div_6_Template(rf, ctx) {
  if (rf & 1) {
    const _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "div")(1, "div", 7)(2, "h2");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](3, "Datadelningssimulator");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](4, "button", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵlistener"]("click", function PreApplicationDatashareComponent_div_6_Template_button_click_4_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵrestoreView"](_r6);
      const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵresetView"](ctx_r5.simulateShareSucess($event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](5, "Simulera lyckad datadelning");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](6, "button", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵlistener"]("click", function PreApplicationDatashareComponent_div_6_Template_button_click_6_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵrestoreView"](_r6);
      const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵresetView"](ctx_r7.simulateShareFailed($event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtext"](7, "Simulera misslyckad datadelning");
    _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()()();
  }
}
class PreApplicationDatashareComponent {
  constructor(route, storageService, config, router) {
    this.route = route;
    this.storageService = storageService;
    this.config = config;
    this.router = router;
    this.shellData = {
      logoRouterLink: null,
      skipBodyLayout: false,
      wideNavigation: false
    };
  }
  ngOnInit() {
    var _this = this;
    return (0,C_Repository_BaCS_SelfContainedModules_ntech_backoffice_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      yield _this.reload(_this.route.snapshot.params['preApplicationId']);
    })();
  }
  reload(preApplicationId) {
    var _this2 = this;
    return (0,C_Repository_BaCS_SelfContainedModules_ntech_backoffice_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      _this2.m = null;
      _this2.errorMessage = null;
      let {
        isEnabled,
        settings
      } = yield _this2.storageService.getUlStandardWebApplicationSettings();
      if (!isEnabled) {
        _this2.errorMessage = _this2.config.baseCountry() === 'SE' ? 'Ansökan inaktiv' : 'Application not active';
        return;
      }
      let application = _this2.storageService.load(preApplicationId);
      if (!application) {
        _this2.errorMessage = _this2.config.baseCountry() === 'SE' ? 'Ansökan finns inte' : 'No such application exists';
        return;
      }
      let dataSharingSettings = settings?.dataSharing;
      if (dataSharingSettings?.providerName !== 'kreditz') {
        _this2.errorMessage = _this2.config.baseCountry() === 'SE' ? 'Delning ej aktivt' : 'Sharing disabled';
        return;
      }
      let applicant1 = application?.applicants?.length > 0 ? application.applicants[0] : null;
      if (!applicant1 || !applicant1.civicRegNr) {
        _this2.errorMessage = _this2.config.baseCountry() === 'SE' ? 'Delning ej möjligt' : 'Sharing not possible';
        return;
      }
      let useMock = settings.dataSharing.useMock;
      if (!_this2.config.isNTechTest() && useMock) {
        _this2.errorMessage = _this2.config.baseCountry() === 'SE' ? 'Delning ej möjligt' : 'Sharing not possible';
        return;
      }
      let caseId = (useMock ? 'kzm_' : 'kzp_') + (0,src_app_common_types__WEBPACK_IMPORTED_MODULE_1__.generateUniqueId)(25);
      applicant1.kreditzCaseId = caseId;
      _this2.storageService.save(preApplicationId, application);
      _this2.m = {
        preApplicationId: preApplicationId,
        kzData: useMock ? null : {
          baseCountry: _this2.config.baseCountry(),
          isNTechTest: _this2.config.isNTechTest(),
          clientId: settings.dataSharing.iFrameClientId,
          civicRegNr: _this2.config.isNTechTest() && dataSharingSettings.testCivicRegNr ? dataSharingSettings.testCivicRegNr : applicant1.civicRegNr,
          caseId: caseId,
          fetchDataForMonths: settings.dataSharing.fetchMonthCount,
          onMessage: (code, hideUi) => {
            if (code === projects_ntech_components_src_lib_kreditz_datashare_iframe_kreditz_datashare_iframe_component__WEBPACK_IMPORTED_MODULE_2__.BankSharingMessageCode.authenticationCancelled) {
              hideUi();
              _this2.m = null;
              _this2.errorMessage = _this2.config.baseCountry() === 'SE' ? 'Delning avbruten' : 'Sharing cancelled';
            } else if (code === projects_ntech_components_src_lib_kreditz_datashare_iframe_kreditz_datashare_iframe_component__WEBPACK_IMPORTED_MODULE_2__.BankSharingMessageCode.userFlowCompleted) {
              hideUi();
              _this2.m.kzData = null;
              let now = Date.now();
              _this2.m.waiting = {
                startTime: now,
                lastPollTime: now,
                waitSeconds: 0
              };
              _this2.reScheduleWait(caseId);
            }
          }
        },
        kzMockData: !useMock ? null : {}
      };
    })();
  }
  onShareFailed() {
    this.m = null;
    this.errorMessage = this.errorMessage = this.config.baseCountry() === 'SE' ? 'Din bank har inte delat något efter fem minuter. Något har gått fel.' : 'Your bank did not share any data within five minutes. Something went wrong.';
    return;
  }
  onBankDataShared() {
    let preApplicationId = this.m.preApplicationId;
    this.m = {
      preApplicationId: this.m.preApplicationId,
      hasAccountData: true
    };
    let application = this.storageService.load(preApplicationId);
    setTimeout(() => {
      if (!this.storageService.exists(preApplicationId)) {
        return; //Guard against backclicks, double clicks or other unforseen interactions
      }
      this.storageService.createApplication(application).then(x => {
        this.storageService.delete(preApplicationId);
        this.router.navigate(['ul-webapplications/application-received/' + x.ApplicationNr]);
      });
    }, 0);
  }
  reScheduleWait(caseId) {
    if (this.m.waiting.waitSeconds > 5 * 60) {
      this.onShareFailed();
    }
    setTimeout(() => {
      let now = Date.now();
      this.m.waiting.waitSeconds = Math.ceil((now - this.m.waiting.startTime) / 1000);
      if (now - this.m.waiting.lastPollTime >= 5000) {
        this.m.waiting.lastPollTime = now;
        this.storageService.hasAccountSharingDataArrived(caseId, true).then(x => {
          if (x.hasAccountData) {
            this.onBankDataShared();
          } else {
            this.reScheduleWait(caseId);
          }
        });
      } else {
        this.reScheduleWait(caseId);
      }
    }, 500);
  }
  simulateShareSucess(evt) {
    evt?.preventDefault();
    this.onBankDataShared();
  }
  simulateShareFailed(evt) {
    evt?.preventDefault();
    this.onShareFailed();
  }
  static #_ = this.ɵfac = function PreApplicationDatashareComponent_Factory(t) {
    return new (t || PreApplicationDatashareComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_7__.ActivatedRoute), _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵdirectiveInject"](_services_pre_application_service__WEBPACK_IMPORTED_MODULE_3__.UlStandardPreApplicationService), _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵdirectiveInject"](_common_services_customer_pages_config_service__WEBPACK_IMPORTED_MODULE_4__.CustomerPagesConfigService), _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_7__.Router));
  };
  static #_2 = this.ɵcmp = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵdefineComponent"]({
    type: PreApplicationDatashareComponent,
    selectors: [["np-pre-application-datashare"]],
    decls: 7,
    vars: 6,
    consts: [[3, "initialData"], ["shell-body", ""], [4, "ngIf"], ["class", "center-waiting-message", 4, "ngIf"], ["class", "center-data-message", 4, "ngIf"], [1, "center-waiting-message"], [1, "center-data-message"], [1, "frame"], [1, "n-main-btn", "n-green-btn", 3, "click"], [1, "n-main-btn", "n-green-btn", "pull-right", 3, "click"]],
    template: function PreApplicationDatashareComponent_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementStart"](0, "customerpages-shell", 0)(1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵtemplate"](2, PreApplicationDatashareComponent_p_2_Template, 2, 1, "p", 2)(3, PreApplicationDatashareComponent_div_3_Template, 2, 1, "div", 2)(4, PreApplicationDatashareComponent_div_4_Template, 5, 1, "div", 3)(5, PreApplicationDatashareComponent_div_5_Template, 3, 0, "div", 4)(6, PreApplicationDatashareComponent_div_6_Template, 8, 0, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵelementEnd"]()();
      }
      if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("initialData", ctx.shellData);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngIf", ctx.errorMessage);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngIf", ctx.m == null ? null : ctx.m.kzData);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngIf", ctx.m == null ? null : ctx.m.waiting);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngIf", ctx.m == null ? null : ctx.m.hasAccountData);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_6__["ɵɵproperty"]("ngIf", ctx.m == null ? null : ctx.m.kzMockData);
      }
    },
    dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_8__.NgIf, _shared_components_customerpages_shell_customerpages_shell_component__WEBPACK_IMPORTED_MODULE_5__.CustomerpagesShellComponent, projects_ntech_components_src_lib_kreditz_datashare_iframe_kreditz_datashare_iframe_component__WEBPACK_IMPORTED_MODULE_2__.KreditzDatashareIframeComponent],
    styles: [".center-waiting-message[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  min-height: 70vh;\n  margin: 0;\n}\n\n.center-data-message[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  min-height: 70vh;\n  margin: 0;\n}\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3Byb2plY3RzL2N1c3RvbWVycGFnZXMvc3JjL2FwcC91bnNlY3VyZWQtbG9hbi1hcHBsaWNhdGlvbnMvcGFnZXMvcHJlLWFwcGxpY2F0aW9uLWRhdGFzaGFyZS9wcmUtYXBwbGljYXRpb24tZGF0YXNoYXJlLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksYUFBQTtFQUNBLHNCQUFBO0VBQ0EsdUJBQUE7RUFDQSxtQkFBQTtFQUNBLGdCQUFBO0VBQ0EsU0FBQTtBQUNKOztBQUVBO0VBQ0ksYUFBQTtFQUNBLHNCQUFBO0VBQ0EsdUJBQUE7RUFDQSxtQkFBQTtFQUNBLGdCQUFBO0VBQ0EsU0FBQTtBQUNKIiwic291cmNlc0NvbnRlbnQiOlsiLmNlbnRlci13YWl0aW5nLW1lc3NhZ2Uge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBtaW4taGVpZ2h0OiA3MHZoO1xyXG4gICAgbWFyZ2luOiAwO1xyXG59XHJcblxyXG4uY2VudGVyLWRhdGEtbWVzc2FnZSB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIG1pbi1oZWlnaHQ6IDcwdmg7XHJcbiAgICBtYXJnaW46IDA7XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9 */"]
  });
}

/***/ }),

/***/ 666:
/*!***************************************************************************************************************************************!*\
  !*** ./projects/customerpages/src/app/unsecured-loan-applications/pages/pre-application-economy/pre-application-economy.component.ts ***!
  \***************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PreApplicationEconomyComponent: () => (/* binding */ PreApplicationEconomyComponent)
/* harmony export */ });
/* harmony import */ var C_Repository_BaCS_SelfContainedModules_ntech_backoffice_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 1670);
/* harmony import */ var src_app_common_services_ntech_forms_helper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/app/common-services/ntech-forms-helper */ 7093);
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/forms */ 8849);
/* harmony import */ var src_app_common_services_randomizer__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! src/app/common-services/randomizer */ 7790);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/core */ 1699);
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/router */ 7947);
/* harmony import */ var _services_pre_application_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../services/pre-application.service */ 2903);
/* harmony import */ var _common_services_customer_pages_config_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../common-services/customer-pages-config.service */ 5716);
/* harmony import */ var _common_services_customer_pages_validation_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../common-services/customer-pages-validation.service */ 423);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/common */ 6575);
/* harmony import */ var _shared_components_customerpages_shell_customerpages_shell_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../shared-components/customerpages-shell/customerpages-shell.component */ 4277);












function PreApplicationEconomyComponent_div_2_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](0, "div", 4)(1, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtextInterpolate"](ctx_r0.errorMessage);
  }
}
function PreApplicationEconomyComponent_div_3_option_13_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](0, "option", 35);
  }
}
function PreApplicationEconomyComponent_div_3_option_14_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](0, "option", 36);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const opt_r16 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("value", opt_r16.Code);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtextInterpolate"](opt_r16.DisplayName);
  }
}
function PreApplicationEconomyComponent_div_3_ng_container_15_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementContainer"](0);
  }
}
function PreApplicationEconomyComponent_div_3_ng_container_16_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementContainer"](0);
  }
}
const _c0 = a0 => ({
  "has-error": a0
});
function PreApplicationEconomyComponent_div_3_ng_container_31_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](1, "div", 37)(2, "div", 38)(3, "label");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtext"](4, "\u00C5lder");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](5, "input", 39);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](6, "div", 40)(7, "label");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtext"](8, "Delad v\u00E5rdnad?");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](9, "select", 41);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](10, "option", 42);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](11, "option", 42);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtext"](12, "Ja");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](13, "option", 42);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtext"](14, "Nej");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]()()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const groupName_r17 = ctx.$implicit;
    const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpropertyInterpolate"]("formGroupName", groupName_r17);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpureFunction1"](5, _c0, ctx_r8.m.form.form.hasError("ageInYears", groupName_r17)));
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](8);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngValue", "");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngValue", "true");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngValue", "false");
  }
}
function PreApplicationEconomyComponent_div_3_ng_container_32_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementContainer"](0);
  }
}
function PreApplicationEconomyComponent_div_3_label_37_Template(rf, ctx) {
  if (rf & 1) {
    const _r19 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](0, "label")(1, "input", 43);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵlistener"]("click", function PreApplicationEconomyComponent_div_3_label_37_Template_input_click_1_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r19);
      const ctx_r18 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](2);
      return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r18.setHasOtherLoans(true, $event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtext"](2, " Ja");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
  }
}
function PreApplicationEconomyComponent_div_3_label_38_Template(rf, ctx) {
  if (rf & 1) {
    const _r21 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](0, "label")(1, "input", 44);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵlistener"]("click", function PreApplicationEconomyComponent_div_3_label_38_Template_input_click_1_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r21);
      const ctx_r20 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](2);
      return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r20.setHasOtherLoans(true, $event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtext"](2, " Ja");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
  }
}
function PreApplicationEconomyComponent_div_3_label_40_Template(rf, ctx) {
  if (rf & 1) {
    const _r23 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](0, "label")(1, "input", 43);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵlistener"]("click", function PreApplicationEconomyComponent_div_3_label_40_Template_input_click_1_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r23);
      const ctx_r22 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](2);
      return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r22.setHasOtherLoans(false, $event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtext"](2, " Nej");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
  }
}
function PreApplicationEconomyComponent_div_3_label_41_Template(rf, ctx) {
  if (rf & 1) {
    const _r25 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](0, "label")(1, "input", 44);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵlistener"]("click", function PreApplicationEconomyComponent_div_3_label_41_Template_input_click_1_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r25);
      const ctx_r24 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](2);
      return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r24.setHasOtherLoans(false, $event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtext"](2, " Nej");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
  }
}
function PreApplicationEconomyComponent_div_3_ng_container_42_option_9_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](0, "option", 36);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const opt_r29 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("value", opt_r29.Code);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtextInterpolate"](opt_r29.DisplayName);
  }
}
function PreApplicationEconomyComponent_div_3_ng_container_42_div_18_Template(rf, ctx) {
  if (rf & 1) {
    const _r32 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](0, "div", 17)(1, "div", 53)(2, "button", 54);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵlistener"]("click", function PreApplicationEconomyComponent_div_3_ng_container_42_div_18_Template_button_click_2_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r32);
      const groupName_r26 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"]().$implicit;
      const ctx_r30 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](2);
      return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r30.removeOtherLoan(false, groupName_r26));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](3, "span", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]()()();
  }
}
function PreApplicationEconomyComponent_div_3_ng_container_42_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](1, "div", 45)(2, "div", 46)(3, "div", 4)(4, "div", 47)(5, "label");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtext"](6, "Typ av l\u00E5n");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](7, "select", 48);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](8, "option", 35);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](9, PreApplicationEconomyComponent_div_3_ng_container_42_option_9_Template, 2, 2, "option", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](10, "div", 49)(11, "label");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtext"](12, "M\u00E5nadskostnad");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](13, "input", 50);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](14, "div", 49)(15, "label");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtext"](16, "Nuvarande skuld");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](17, "input", 51);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](18, PreApplicationEconomyComponent_div_3_ng_container_42_div_18_Template, 4, 0, "div", 52);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const groupName_r26 = ctx.$implicit;
    const ctx_r14 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpropertyInterpolate"]("formGroupName", groupName_r26);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngForOf", ctx_r14.m.otherLoanTypes);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpropertyInterpolate"]("formGroupName", groupName_r26);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpureFunction1"](7, _c0, ctx_r14.m.form.hasError("monthlyCostAmount", groupName_r26)));
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpropertyInterpolate"]("formGroupName", groupName_r26);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpureFunction1"](9, _c0, ctx_r14.m.form.hasError("currentDebtAmount", groupName_r26)));
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngIf", ctx_r14.m.otherLoanGroupNames.length > 1);
  }
}
function PreApplicationEconomyComponent_div_3_div_43_Template(rf, ctx) {
  if (rf & 1) {
    const _r34 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](0, "div", 55)(1, "button", 54);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵlistener"]("click", function PreApplicationEconomyComponent_div_3_div_43_Template_button_click_1_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r34);
      const ctx_r33 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"](2);
      return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r33.addOtherLoan());
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](2, "span", 24);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]()();
  }
}
const _c1 = "Hur mycket betalar du i hyra och eventuellt r\u00E4nta och amortering f\u00F6r ditt boende?";
const _c2 = () => ({
  formControlName: "housingCostPerMonthAmount",
  displayText: _c1
});
const _c3 = "Vad har du f\u00F6r andra fasta m\u00E5nadskostnader f\u00F6r ditt boende, ex. el eller soph\u00E4mtning?";
const _c4 = () => ({
  formControlName: "otherHouseholdFixedCostsAmount",
  displayText: _c3
});
const _c5 = () => ({
  formControlName: "childBenefitAmount",
  displayText: "Hur mycket f\u00E5r du i barnbidrag?"
});
function PreApplicationEconomyComponent_div_3_Template(rf, ctx) {
  if (rf & 1) {
    const _r36 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](0, "div", 4)(1, "div", 5)(2, "div", 6)(3, "div", 7)(4, "h1", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtext"](5, "Privatl\u00E5n - ans\u00F6kan");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](6, "form", 9)(7, "div", 10)(8, "div", 5)(9, "div", 11)(10, "label");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtext"](11, "Hur bor du idag?");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](12, "select", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](13, PreApplicationEconomyComponent_div_3_option_13_Template, 1, 0, "option", 13)(14, PreApplicationEconomyComponent_div_3_option_14_Template, 2, 2, "option", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](15, PreApplicationEconomyComponent_div_3_ng_container_15_Template, 1, 0, "ng-container", 15)(16, PreApplicationEconomyComponent_div_3_ng_container_16_Template, 1, 0, "ng-container", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](17, "div")(18, "div", 16)(19, "label");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtext"](20, "Hur m\u00E5nga barn bor i hush\u00E5llet?");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](21, "div", 4)(22, "div", 17)(23, "button", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵlistener"]("click", function PreApplicationEconomyComponent_div_3_Template_button_click_23_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r36);
      const ctx_r35 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r35.removeChild());
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](24, "span", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](25, "div", 20)(26, "p", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtext"](27);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](28, "div", 22)(29, "button", 23);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵlistener"]("click", function PreApplicationEconomyComponent_div_3_Template_button_click_29_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r36);
      const ctx_r37 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r37.addChild());
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](30, "span", 24);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]()()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](31, PreApplicationEconomyComponent_div_3_ng_container_31_Template, 15, 7, "ng-container", 25);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](32, PreApplicationEconomyComponent_div_3_ng_container_32_Template, 1, 0, "ng-container", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](33, "div", 26)(34, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtext"](35, "Har du andra l\u00E5n?");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](36, "div", 27);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](37, PreApplicationEconomyComponent_div_3_label_37_Template, 3, 0, "label", 28)(38, PreApplicationEconomyComponent_div_3_label_38_Template, 3, 0, "label", 28);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](39, "div", 27);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](40, PreApplicationEconomyComponent_div_3_label_40_Template, 3, 0, "label", 28)(41, PreApplicationEconomyComponent_div_3_label_41_Template, 3, 0, "label", 28);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](42, PreApplicationEconomyComponent_div_3_ng_container_42_Template, 19, 11, "ng-container", 25)(43, PreApplicationEconomyComponent_div_3_div_43_Template, 3, 0, "div", 29);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](44, "div", 30)(45, "label");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](46, "input", 31);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtext"](47, " Jag intygar att uppgifterna i ans\u00F6kan \u00E4r korrekta och godk\u00E4nner att en kreditupplysning inh\u00E4mtas samt att personuppgifter behandlas i enlighet med ");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](48, "a", 32);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtext"](49, "personuppgiftspolicyn");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtext"](50, ".");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]()()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](51, "div", 33)(52, "button", 34);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵlistener"]("click", function PreApplicationEconomyComponent_div_3_Template_button_click_52_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵrestoreView"](_r36);
      const ctx_r38 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"]();
      return _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵresetView"](ctx_r38.apply($event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtext"](53, "G\u00E5 vidare");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]()()()()()()();
  }
  if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"]();
    const _r3 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵreference"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("formGroup", ctx_r1.m.form.form);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpureFunction1"](21, _c0, ctx_r1.m.form.hasError("housing")));
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngIf", !ctx_r1.m.form.getValue("housing"));
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngForOf", ctx_r1.m.housingTypes);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngTemplateOutlet", _r3)("ngTemplateOutletContext", _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpureFunction0"](23, _c2));
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngTemplateOutlet", _r3)("ngTemplateOutletContext", _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpureFunction0"](24, _c4));
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](7);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("disabled", !ctx_r1.m.form || ctx_r1.m.childrenGroupNames.length === 0);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtextInterpolate"](ctx_r1.m.childrenGroupNames.length);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngForOf", ctx_r1.m.childrenGroupNames);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngTemplateOutlet", _r3)("ngTemplateOutletContext", _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpureFunction0"](25, _c5));
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngIf", ctx_r1.getHasOtherLoans() === true);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngIf", ctx_r1.getHasOtherLoans() === null || ctx_r1.getHasOtherLoans() === false);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngIf", ctx_r1.getHasOtherLoans() === false);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngIf", ctx_r1.getHasOtherLoans() === null || ctx_r1.getHasOtherLoans() === true);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngForOf", ctx_r1.m.otherLoanGroupNames);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngIf", ctx_r1.getHasOtherLoans() === true);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("href", ctx_r1.m.personalDataPolicyUrl, _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵsanitizeUrl"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("disabled", ctx_r1.m.form.invalid() || ctx_r1.m.form.getValue("hasConsented") !== true);
  }
}
function PreApplicationEconomyComponent_ng_template_4_div_0_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](0, "div", 57)(1, "label");
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelement"](3, "input", 58);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r42 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"]();
    const formControlName_r40 = ctx_r42.formControlName;
    const displayText_r39 = ctx_r42.displayText;
    const ctx_r41 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵpureFunction1"](4, _c0, ctx_r41.m.form.hasError(formControlName_r40)))("formGroup", ctx_r41.m.form.form);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtextInterpolate"](displayText_r39);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("formControlName", formControlName_r40);
  }
}
function PreApplicationEconomyComponent_ng_template_4_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](0, PreApplicationEconomyComponent_ng_template_4_div_0_Template, 4, 6, "div", 56);
  }
  if (rf & 2) {
    const formControlName_r40 = ctx.formControlName;
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngIf", ctx_r2.m.form.hasFormControl(null, formControlName_r40));
  }
}
class PreApplicationEconomyComponent {
  constructor(route, storageService, config, router, formBuilder, validationService) {
    this.route = route;
    this.storageService = storageService;
    this.config = config;
    this.router = router;
    this.formBuilder = formBuilder;
    this.validationService = validationService;
    this.shellData = {
      logoRouterLink: null,
      skipBodyLayout: false,
      wideNavigation: false
    };
  }
  ngOnInit() {
    var _this = this;
    return (0,C_Repository_BaCS_SelfContainedModules_ntech_backoffice_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      _this.setupTestFunctions();
      yield _this.reload(_this.route.snapshot.params['preApplicationId']);
    })();
  }
  reload(preApplicationId) {
    var _this2 = this;
    return (0,C_Repository_BaCS_SelfContainedModules_ntech_backoffice_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      _this2.m = null;
      _this2.errorMessage = null;
      let {
        isEnabled,
        settings
      } = yield _this2.storageService.getUlStandardWebApplicationSettings();
      if (!isEnabled) {
        _this2.errorMessage = _this2.config.baseCountry() === 'SE' ? 'Ansökan inaktiv' : 'Application not active';
        return;
      }
      let initialApplication = _this2.storageService.load(preApplicationId);
      if (!initialApplication) {
        _this2.errorMessage = _this2.config.baseCountry() === 'SE' ? 'Ansökan finns inte' : 'No such application exists';
      }
      let formFields = {
        'housing': ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_8__.Validators.required]],
        'housingCostPerMonthAmount': ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_8__.Validators.required, _this2.validationService.getPositiveIntegerValidator()]],
        'otherHouseholdFixedCostsAmount': ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_8__.Validators.required, _this2.validationService.getPositiveIntegerValidator()]],
        'internalChildCount': [0, []],
        'hasConsented': [false, []]
      };
      let f = new src_app_common_services_ntech_forms_helper__WEBPACK_IMPORTED_MODULE_1__.FormsHelper(_this2.formBuilder.group(formFields));
      let enums = _this2.config.getEnums();
      _this2.m = {
        form: f,
        childrenGroupNames: [],
        nextOtherLoanSuffix: 1,
        otherLoanGroupNames: [],
        isOtherLoansTouched: false,
        housingTypes: enums.HousingTypes,
        otherLoanTypes: enums.OtherLoanTypes,
        initialApplication: initialApplication,
        preApplicationId: preApplicationId,
        personalDataPolicyUrl: settings.personalDataPolicyUrl,
        isDataSharingEnabled: !!settings.dataSharing
      };
      f.form.valueChanges.subscribe(_ => {
        f.ensureControlOnConditionOnly(f.getValue('internalChildCount') > 0, 'childBenefitAmount', () => '', () => [_angular_forms__WEBPACK_IMPORTED_MODULE_8__.Validators.required, _this2.validationService.getPositiveIntegerValidator()]);
      });
    })();
  }
  getHasOtherLoans() {
    if (this.m.otherLoanGroupNames.length === 0 && !this.m.isOtherLoansTouched) {
      return null;
    }
    return this.m.otherLoanGroupNames.length > 0;
  }
  addChildFormGroup(form, index) {
    let formGroupName = 'childGroup' + (index + 1).toString();
    form.setValue('internalChildCount', form.getValue('internalChildCount') + 1);
    form.addGroupIfNotExists(formGroupName, [{
      controlName: 'ageInYears',
      initialValue: null,
      validators: [this.validationService.getPositiveIntegerWithBoundsValidator(0, 200)]
    }, {
      controlName: 'sharedCustody',
      initialValue: null,
      validators: []
    }]);
    return formGroupName;
  }
  addChild() {
    let currentCount = this.m.childrenGroupNames?.length ?? 0;
    let newGroupName = this.addChildFormGroup(this.m.form, currentCount);
    this.m.childrenGroupNames.push(newGroupName);
  }
  removeChild() {
    let indexToRemove = this.m.childrenGroupNames.length - 1;
    this.m.form.setValue('internalChildCount', indexToRemove.toString());
    let groupNameToRemove = this.m.childrenGroupNames[indexToRemove];
    this.m.childrenGroupNames.splice(indexToRemove, 1);
    this.m.form.form.removeControl(groupNameToRemove);
  }
  apply(evt) {
    var _this3 = this;
    return (0,C_Repository_BaCS_SelfContainedModules_ntech_backoffice_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      evt?.preventDefault();
      let f = _this3.m.form;
      let vs = _this3.validationService;
      let finalApplication = JSON.parse(JSON.stringify(_this3.m.initialApplication));
      finalApplication.childBenefitAmount = vs.parseIntegerOrNull(f.getValue('childBenefitAmount'));
      finalApplication.housingCostPerMonthAmount = vs.parseIntegerOrNull(f.getValue('housingCostPerMonthAmount'));
      finalApplication.otherHouseholdFixedCostsAmount = vs.parseIntegerOrNull(f.getValue('otherHouseholdFixedCostsAmount'));
      finalApplication.housing = f.getValue('housing');
      finalApplication.householdChildren = _this3.m.childrenGroupNames.map(groupName => ({
        ageInYears: vs.parseIntegerOrNull(f.getFormGroupValue(groupName, 'ageInYears')),
        sharedCustody: f.getFormGroupValue(groupName, 'sharedCustody') === 'true'
      }));
      finalApplication.loansToSettle = _this3.m.otherLoanGroupNames.map(groupName => ({
        loanType: f.getFormGroupValue(groupName, 'loanType'),
        monthlyCostAmount: vs.parseIntegerOrNull(f.getFormGroupValue(groupName, 'monthlyCostAmount')),
        currentDebtAmount: vs.parseIntegerOrNull(f.getFormGroupValue(groupName, 'currentDebtAmount'))
      }));
      for (let a of finalApplication.applicants ?? []) {
        a.hasConsentedToCreditReport = true;
      }
      _this3.storageService.save(_this3.m.preApplicationId, finalApplication);
      let shouldSendToDataShare = false;
      if (_this3.m.isDataSharingEnabled) {
        let scoringResult = yield _this3.storageService.preScoreApplication(finalApplication);
        if (scoringResult.preScoreResultId) {
          finalApplication.preScoreResultId = scoringResult.preScoreResultId;
          _this3.storageService.save(_this3.m.preApplicationId, finalApplication);
        }
        shouldSendToDataShare = scoringResult.isAcceptRecommended;
      }
      if (shouldSendToDataShare) {
        _this3.router.navigate(['ul-webapplications/application-datashare/' + _this3.m.preApplicationId]);
      } else {
        let preApplicationId = _this3.m.preApplicationId;
        _this3.m = null;
        setTimeout( /*#__PURE__*/(0,C_Repository_BaCS_SelfContainedModules_ntech_backoffice_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
          if (!_this3.storageService.exists(preApplicationId)) {
            return; //Guard against backclicks, double clicks or other unforseen interactions
          }
          let createResult = yield _this3.storageService.createApplication(finalApplication);
          _this3.storageService.delete(preApplicationId);
          _this3.router.navigate(['ul-webapplications/application-received/' + createResult.ApplicationNr]);
        }), 0);
      }
    })();
  }
  addOtherLoanFormGroup(form, suffix) {
    let formGroupName = 'otherLoanGroup' + suffix.toString();
    let addedOrNull = form.addGroupIfNotExists(formGroupName, [{
      controlName: 'loanType',
      initialValue: null,
      validators: []
    }, {
      controlName: 'monthlyCostAmount',
      initialValue: null,
      validators: [this.validationService.getPositiveIntegerValidator()]
    }, {
      controlName: 'currentDebtAmount',
      initialValue: null,
      validators: [_angular_forms__WEBPACK_IMPORTED_MODULE_8__.Validators.required, this.validationService.getPositiveIntegerValidator()]
    }]);
    return addedOrNull ? formGroupName : null;
  }
  takeOtherLoanSuffix() {
    let toReturn = this.m.nextOtherLoanSuffix;
    this.m.nextOtherLoanSuffix += 1;
    return toReturn;
  }
  addOtherLoan() {
    this.m.isOtherLoansTouched = true;
    let newGroupName = this.addOtherLoanFormGroup(this.m.form, this.takeOtherLoanSuffix());
    // To protect against label/input triggering change twice from radiobuttons.
    if (newGroupName !== null) this.m.otherLoanGroupNames.push(newGroupName);
  }
  removeOtherLoan(removeAll, groupName) {
    this.m.isOtherLoansTouched = true;
    if (removeAll) {
      for (let groupName of this.m.otherLoanGroupNames) {
        this.m.form.form.removeControl(groupName);
        this.m.otherLoanGroupNames = [];
      }
    } else if (groupName !== null) {
      this.m.otherLoanGroupNames.splice(this.m.otherLoanGroupNames.indexOf(groupName), 1);
      this.m.form.form.removeControl(groupName);
    }
  }
  setHasOtherLoans(hasOtherLoans, evt) {
    evt.preventDefault();
    this.m.isOtherLoansTouched = true;
    if (hasOtherLoans && this.m.otherLoanGroupNames.length === 0) {
      this.addOtherLoan();
    } else if (!hasOtherLoans && this.m.otherLoanGroupNames.length > 0) {
      this.removeOtherLoan(true, null);
    }
  }
  setupTestFunctions() {
    var _this4 = this;
    this.shellData.test = {
      functionCalls: [{
        displayText: 'Autofill',
        execute: function () {
          var _ref2 = (0,C_Repository_BaCS_SelfContainedModules_ntech_backoffice_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
            let f = _this4.m.form;
            f.setValue('housing', _this4.m.housingTypes[0].Code);
            f.setValue('housingCostPerMonthAmount', '5000');
            f.setValue('otherHouseholdFixedCostsAmount', '700');
            if (_this4.m.childrenGroupNames.length > 0) {
              while (_this4.m.childrenGroupNames.length > 0) {
                _this4.removeChild();
              }
            }
            let nrOfChildren = src_app_common_services_randomizer__WEBPACK_IMPORTED_MODULE_2__.Randomizer.anyOf([0, 0, 0, 1, 2]);
            [...Array(nrOfChildren)].forEach(_ => _this4.addChild());
            _this4.m.childrenGroupNames.forEach(groupName => {
              f.setValue2(groupName, 'ageInYears', src_app_common_services_randomizer__WEBPACK_IMPORTED_MODULE_2__.Randomizer.anyOf(['1', '3', '5', '7', '9']));
              f.setValue2(groupName, 'sharedCustody', src_app_common_services_randomizer__WEBPACK_IMPORTED_MODULE_2__.Randomizer.anyOf(['true', 'false']));
            });
            f.setValue('childBenefitAmount', (_this4.m.childrenGroupNames.length * 100).toString());
            if (_this4.m.otherLoanGroupNames.length > 0) {
              _this4.removeOtherLoan(true, null);
            }
            let nrOfOtherLoans = src_app_common_services_randomizer__WEBPACK_IMPORTED_MODULE_2__.Randomizer.anyOf([0, 1, 2]);
            [...Array(nrOfOtherLoans)].forEach(_ => _this4.addOtherLoan());
            _this4.m.otherLoanGroupNames.map((groupName, _) => {
              f.setValue2(groupName, 'currentDebtAmount', src_app_common_services_randomizer__WEBPACK_IMPORTED_MODULE_2__.Randomizer.anyEvenNumberBetween(15000, 200000, 1000).toString());
              f.setValue2(groupName, 'monthlyCostAmount', src_app_common_services_randomizer__WEBPACK_IMPORTED_MODULE_2__.Randomizer.anyEvenNumberBetween(500, 4500, 100).toString());
              f.setValue2(groupName, 'loanType', src_app_common_services_randomizer__WEBPACK_IMPORTED_MODULE_2__.Randomizer.anyOf(_this4.m.otherLoanTypes.map(x => x.Code)));
            });
            f.setValue('hasConsented', true);
          });
          return function execute() {
            return _ref2.apply(this, arguments);
          };
        }()
      }]
    };
  }
  static #_ = this.ɵfac = function PreApplicationEconomyComponent_Factory(t) {
    return new (t || PreApplicationEconomyComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_9__.ActivatedRoute), _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdirectiveInject"](_services_pre_application_service__WEBPACK_IMPORTED_MODULE_3__.UlStandardPreApplicationService), _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdirectiveInject"](_common_services_customer_pages_config_service__WEBPACK_IMPORTED_MODULE_4__.CustomerPagesConfigService), _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_9__.Router), _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdirectiveInject"](_angular_forms__WEBPACK_IMPORTED_MODULE_8__.UntypedFormBuilder), _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdirectiveInject"](_common_services_customer_pages_validation_service__WEBPACK_IMPORTED_MODULE_5__.CustomerPagesValidationService));
  };
  static #_2 = this.ɵcmp = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵdefineComponent"]({
    type: PreApplicationEconomyComponent,
    selectors: [["np-pre-application-economy"]],
    decls: 6,
    vars: 3,
    consts: [[3, "initialData"], ["shell-body", ""], ["class", "row", 4, "ngIf"], ["textGroup", ""], [1, "row"], [1, "col-xs-12"], [1, "flex-container"], [1, "align-center", "frame"], [1, "header-light", "text-center", "pb-3"], [3, "formGroup"], [1, "row", "pb-2"], [1, "form-group", "pb-1", 3, "ngClass"], ["formControlName", "housing", 1, "form-control"], ["value", "", 4, "ngIf"], [3, "value", 4, "ngFor", "ngForOf"], [4, "ngTemplateOutlet", "ngTemplateOutletContext"], [1, "pb-1"], [1, "col-sm-1", "col-xs-3"], ["title", "Remove a child", 1, "n-icon-btn", "n-blue-btn", 3, "disabled", "click"], [1, "glyphicon", "glyphicon-minus", "glyphicon-centered"], [1, "col-sm-2", "col-xs-6"], [1, "form-control", "copyable", "bb-1", "text-center"], [1, "col-sm-1", "col-xs-3", "text-right"], ["title", "Add a child", 1, "n-icon-btn", "n-blue-btn", 3, "click"], [1, "glyphicon", "glyphicon-plus", "glyphicon-centered"], [4, "ngFor", "ngForOf"], [1, "form-group", "pb-1"], [1, "radio-inline"], [4, "ngIf"], ["class", "pb-2", 4, "ngIf"], [1, "checkbox"], ["type", "checkbox", "formControlName", "hasConsented"], ["target", "_blank", 1, "n-anchor", 3, "href"], [1, "text-right", "pt-2"], [1, "n-main-btn", "n-green-btn", 3, "disabled", "click"], ["value", ""], [3, "value"], [1, "row", "pb-1", 3, "formGroupName"], [1, "col-sm-8", "col-xs-6", 3, "ngClass"], ["type", "text", "formControlName", "ageInYears", 1, "form-control"], [1, "col-sm-4", "col-xs-6"], ["formControlName", "sharedCustody", 1, "form-control"], [3, "ngValue"], ["type", "radio", "checked", "", 3, "click"], ["type", "radio", 3, "click"], [1, "row", "pb-1"], [1, "col-sm-11", "col-xs-9"], [1, "form-group", "col-sm-4", "col-xs-12", "pb-1", 3, "formGroupName"], ["formControlName", "loanType", 1, "form-control"], [1, "form-group", "col-sm-4", "col-xs-12", "pb-1", 3, "formGroupName", "ngClass"], ["type", "text", "formControlName", "monthlyCostAmount", 1, "form-control"], ["type", "text", "formControlName", "currentDebtAmount", 1, "form-control"], ["class", "col-sm-1 col-xs-3", 4, "ngIf"], [1, "pt-3"], [1, "n-icon-btn", "n-blue-btn", 3, "click"], [1, "pb-2"], ["class", "form-group pb-1", 3, "ngClass", "formGroup", 4, "ngIf"], [1, "form-group", "pb-1", 3, "ngClass", "formGroup"], ["type", "text", 1, "form-control", 3, "formControlName"]],
    template: function PreApplicationEconomyComponent_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementStart"](0, "customerpages-shell", 0)(1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](2, PreApplicationEconomyComponent_div_2_Template, 3, 1, "div", 2)(3, PreApplicationEconomyComponent_div_3_Template, 54, 26, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵelementEnd"]()();
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplate"](4, PreApplicationEconomyComponent_ng_template_4_Template, 1, 1, "ng-template", null, 3, _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵtemplateRefExtractor"]);
      }
      if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("initialData", ctx.shellData);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngIf", ctx.errorMessage);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_7__["ɵɵproperty"]("ngIf", ctx.m);
      }
    },
    dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_10__.NgClass, _angular_common__WEBPACK_IMPORTED_MODULE_10__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_10__.NgIf, _angular_common__WEBPACK_IMPORTED_MODULE_10__.NgTemplateOutlet, _angular_forms__WEBPACK_IMPORTED_MODULE_8__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_8__.NgSelectOption, _angular_forms__WEBPACK_IMPORTED_MODULE_8__["ɵNgSelectMultipleOption"], _angular_forms__WEBPACK_IMPORTED_MODULE_8__.DefaultValueAccessor, _angular_forms__WEBPACK_IMPORTED_MODULE_8__.CheckboxControlValueAccessor, _angular_forms__WEBPACK_IMPORTED_MODULE_8__.SelectControlValueAccessor, _angular_forms__WEBPACK_IMPORTED_MODULE_8__.NgControlStatus, _angular_forms__WEBPACK_IMPORTED_MODULE_8__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_8__.FormGroupDirective, _angular_forms__WEBPACK_IMPORTED_MODULE_8__.FormControlName, _angular_forms__WEBPACK_IMPORTED_MODULE_8__.FormGroupName, _shared_components_customerpages_shell_customerpages_shell_component__WEBPACK_IMPORTED_MODULE_6__.CustomerpagesShellComponent],
    encapsulation: 2
  });
}

/***/ }),

/***/ 8420:
/*!*****************************************************************************************************************************************!*\
  !*** ./projects/customerpages/src/app/unsecured-loan-applications/pages/pre-application-received/pre-application-received.component.ts ***!
  \*****************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   PreApplicationReceivedComponent: () => (/* binding */ PreApplicationReceivedComponent)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ 1699);
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ 7947);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common */ 6575);
/* harmony import */ var _shared_components_customerpages_shell_customerpages_shell_component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../shared-components/customerpages-shell/customerpages-shell.component */ 4277);




function PreApplicationReceivedComponent_div_2_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 3)(1, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"]("Vi har mottagit din ans\u00F6kan ", ctx_r0.m.applicationNr, " och \u00E5terkommer med besked.");
  }
}
class PreApplicationReceivedComponent {
  constructor(route) {
    this.route = route;
    this.shellData = {
      logoRouterLink: null,
      skipBodyLayout: false,
      wideNavigation: false
    };
  }
  ngOnInit() {
    let applicationNr = this.route.snapshot.params['applicationNr'];
    if (applicationNr) {
      this.m = {
        applicationNr: applicationNr
      };
    }
  }
  static #_ = this.ɵfac = function PreApplicationReceivedComponent_Factory(t) {
    return new (t || PreApplicationReceivedComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_2__.ActivatedRoute));
  };
  static #_2 = this.ɵcmp = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
    type: PreApplicationReceivedComponent,
    selectors: [["np-pre-application-received"]],
    decls: 3,
    vars: 2,
    consts: [[3, "initialData"], ["shell-body", ""], ["class", "center-message", 4, "ngIf"], [1, "center-message"]],
    template: function PreApplicationReceivedComponent_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "customerpages-shell", 0)(1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](2, PreApplicationReceivedComponent_div_2_Template, 3, 1, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
      }
      if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("initialData", ctx.shellData);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.m);
      }
    },
    dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_3__.NgIf, _shared_components_customerpages_shell_customerpages_shell_component__WEBPACK_IMPORTED_MODULE_0__.CustomerpagesShellComponent],
    styles: [".center-message[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  min-height: 70vh;\n  margin: 0;\n}\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3Byb2plY3RzL2N1c3RvbWVycGFnZXMvc3JjL2FwcC91bnNlY3VyZWQtbG9hbi1hcHBsaWNhdGlvbnMvcGFnZXMvcHJlLWFwcGxpY2F0aW9uLXJlY2VpdmVkL3ByZS1hcHBsaWNhdGlvbi1yZWNlaXZlZC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGFBQUE7RUFDQSxzQkFBQTtFQUNBLHVCQUFBO0VBQ0EsbUJBQUE7RUFDQSxnQkFBQTtFQUNBLFNBQUE7QUFDSiIsInNvdXJjZXNDb250ZW50IjpbIi5jZW50ZXItbWVzc2FnZSB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIG1pbi1oZWlnaHQ6IDcwdmg7XHJcbiAgICBtYXJnaW46IDA7XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9 */"]
  });
}

/***/ }),

/***/ 9024:
/*!************************************************************************************************************************!*\
  !*** ./projects/customerpages/src/app/unsecured-loan-applications/services/customer-pages-applications-api.service.ts ***!
  \************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   CustomerPagesApplicationsApiService: () => (/* binding */ CustomerPagesApplicationsApiService)
/* harmony export */ });
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ 4980);
/* harmony import */ var src_app_common_services_size_and_time_limited_cache__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! src/app/common-services/size-and-time-limited-cache */ 2830);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ 1699);
/* harmony import */ var _common_services_customer_pages_api_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../common-services/customer-pages-api.service */ 7991);




class CustomerPagesApplicationsApiService {
  constructor(apiService) {
    this.apiService = apiService;
    this.nPreCredit = 'nPreCredit';
    this.validateBankAccountNrsCache = new src_app_common_services_size_and_time_limited_cache__WEBPACK_IMPORTED_MODULE_0__.SizeAndTimeLimitedCache(200, 30);
  }
  fetchApplications() {
    return this.apiService.post(this.nPreCredit, 'api/UnsecuredLoanStandard/CustomerPages/Fetch-Applications', {});
  }
  fetchApplication(applicationNr) {
    return this.apiService.post(this.nPreCredit, 'api/UnsecuredLoanStandard/CustomerPages/Fetch-Application', {
      applicationNr
    });
  }
  createKycQuestionSession(applicationNr) {
    return this.apiService.post('NTechHost', 'Api/PreCredit/UnsecuredLoanStandard/Create-Application-KycQuestionSession', {
      applicationNr
    });
  }
  setCustomerCreditDecisionCode(applicationNr, customerDecisionCode) {
    return this.apiService.post(this.nPreCredit, 'api/UnsecuredLoanStandard/Set-Customer-CreditDecisionCode', {
      applicationNr,
      customerDecisionCode
    });
  }
  answerKycQuestions(applicationNr, answersByApplicantNr, isConfirmedKycQuestionAnswers) {
    return this.apiService.post(this.nPreCredit, 'api/UnsecuredLoanStandard/CustomerPages/Answer-Kyc-Questions', {
      applicationNr,
      answersByApplicantNr,
      isConfirmedKycQuestionAnswers
    });
  }
  confirmBankAccounts(applicationNr) {
    return this.apiService.post(this.nPreCredit, 'api/UnsecuredLoanStandard/CustomerPages/Confirm-Bank-Accounts', {
      applicationNr
    });
  }
  getArchiveDocumentUrl(archiveKey, skipFilename) {
    return this.apiService.getArchiveDocumentUrl(archiveKey, skipFilename);
  }
  saveDirectDebitAccountInfo(applicationNr, bankAccountNr, applicantNr) {
    return this.apiService.post(this.nPreCredit, 'api/UnsecuredLoanStandard/CustomerPages/Save-DirectDebit-Account', {
      ApplicationNr: applicationNr,
      DirectDebitBankAccountNr: bankAccountNr,
      DirectDebitAccountOwnerApplicantNr: applicantNr
    });
  }
  confirmDirectDebitAccountInfo(applicationNr) {
    return this.apiService.post(this.nPreCredit, 'api/UnsecuredLoanStandard/CustomerPages/Confirm-DirectDebit-Account', {
      applicationNr
    });
  }
  getValidateBankAccountNrCacheKey(request) {
    return `${request.bankAccountNr}#${request.bankAccountNrType}`;
  }
  validateBankAccountNrsBatchRaw(request, skipLoadingIndicator) {
    let accounts = Object.keys(request).map(x => {
      return {
        requestKey: x,
        bankAccountNr: request[x].bankAccountNr,
        bankAccountNrType: request[x].bankAccountNrType
      };
    });
    return this.apiService.post(this.nPreCredit, 'api/bankaccount/validate-nr-batch', {
      accounts
    }, {
      skipLoadingIndicator: skipLoadingIndicator
    });
  }
  validateBankAccountNrsBatch(request, skipLoadingIndicator) {
    let fromCacheResult = {
      ValidatedAccountsByKey: {}
    };
    if (!request || Object.keys(request).length === 0) {
      return (0,rxjs__WEBPACK_IMPORTED_MODULE_2__.of)({
        ValidatedAccountsByKey: {}
      }).toPromise();
    }
    let anyNotInCache = false;
    for (let key of Object.keys(request)) {
      let account = request[key];
      let cacheHit = this.validateBankAccountNrsCache.get(this.getValidateBankAccountNrCacheKey(account));
      if (!cacheHit) {
        anyNotInCache = true;
        break;
      }
      fromCacheResult.ValidatedAccountsByKey[key] = cacheHit;
    }
    if (anyNotInCache) {
      return this.validateBankAccountNrsBatchRaw(request, skipLoadingIndicator).then(x => {
        for (let key of Object.keys(x.ValidatedAccountsByKey)) {
          this.validateBankAccountNrsCache.set(this.getValidateBankAccountNrCacheKey(request[key]), x.ValidatedAccountsByKey[key]);
        }
        return x;
      });
    } else {
      return (0,rxjs__WEBPACK_IMPORTED_MODULE_2__.of)(fromCacheResult).toPromise();
    }
  }
  editBankAccounts(request) {
    return this.apiService.post(this.nPreCredit, 'api/UnsecuredLoanStandard/CustomerPages/Edit-BankAccounts', request);
  }
  static #_ = this.ɵfac = function CustomerPagesApplicationsApiService_Factory(t) {
    return new (t || CustomerPagesApplicationsApiService)(_angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵinject"](_common_services_customer_pages_api_service__WEBPACK_IMPORTED_MODULE_1__.CustomerPagesApiService));
  };
  static #_2 = this.ɵprov = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵdefineInjectable"]({
    token: CustomerPagesApplicationsApiService,
    factory: CustomerPagesApplicationsApiService.ɵfac,
    providedIn: 'root'
  });
}

/***/ }),

/***/ 2903:
/*!********************************************************************************************************!*\
  !*** ./projects/customerpages/src/app/unsecured-loan-applications/services/pre-application.service.ts ***!
  \********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   UlStandardPreApplicationService: () => (/* binding */ UlStandardPreApplicationService)
/* harmony export */ });
/* harmony import */ var C_Repository_BaCS_SelfContainedModules_ntech_backoffice_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 1670);
/* harmony import */ var src_app_common_types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! src/app/common.types */ 198);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ 1699);
/* harmony import */ var _common_services_customer_pages_api_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../common-services/customer-pages-api.service */ 7991);




function storageKey(preApplicationId) {
  return `UlStandardPreApplicationV1_${preApplicationId}`;
}
class UlStandardPreApplicationService {
  constructor(apiService) {
    this.apiService = apiService;
  }
  beginPreApplication(initialModel) {
    var _this = this;
    return (0,C_Repository_BaCS_SelfContainedModules_ntech_backoffice_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      let preApplicationId = `p${(0,src_app_common_types__WEBPACK_IMPORTED_MODULE_1__.generateUniqueId)(25)}`;
      _this.save(preApplicationId, initialModel);
      return preApplicationId;
    })();
  }
  save(preApplicationId, model) {
    localStorage.setItem(storageKey(preApplicationId), JSON.stringify(model));
  }
  load(preApplicationId) {
    let value = localStorage.getItem(storageKey(preApplicationId));
    if (!value) {
      return null;
    }
    return JSON.parse(value);
  }
  exists(preApplicationId) {
    return !!localStorage.getItem(storageKey(preApplicationId));
  }
  delete(preApplicationId) {
    localStorage.removeItem(storageKey(preApplicationId));
  }
  createApplication(model) {
    //BEWARE: Do not add bank account sharing here. Instead pass a onetime use id to an already stored result and exapnd it serverside so the user cant manipulate the data.
    let applicationRequest = {
      requestedAmount: model.requestedLoanAmount,
      loanObjective: model.loanObjective,
      housingType: model.housing,
      housingCostPerMonthAmount: model.housingCostPerMonthAmount,
      otherHouseholdFixedCostsAmount: model.otherHouseholdFixedCostsAmount,
      childBenefitAmount: model.childBenefitAmount,
      preScoreResultId: model.preScoreResultId
    };
    if (model.requestedRepaymentTime.endsWith('d')) {
      applicationRequest.requestedRepaymentTimeInDays = parseInt(model.requestedRepaymentTime.replace('d', ''));
    } else if (model.requestedRepaymentTime.endsWith('m')) {
      applicationRequest.requestedRepaymentTimeInMonths = parseInt(model.requestedRepaymentTime.replace('m', ''));
    }
    applicationRequest.applicants = [];
    for (let applicant of model.applicants ?? []) {
      applicationRequest.applicants.push({
        civicRegNr: applicant.civicRegNr,
        email: applicant.email,
        phone: applicant.phone,
        monthlyIncomeAmount: applicant.incomePerMonthAmount,
        employmentStatus: applicant.employment,
        employerName: applicant.employer,
        employerPhone: applicant.employerPhone,
        employedSince: applicant.employedSince,
        employedTo: applicant.employedTo,
        hasConsentedToShareBankAccountData: applicant.hasConsentedToCreditReport,
        hasConsentedToCreditReport: applicant.hasConsentedToCreditReport,
        hasLegalOrFinancialGuardian: applicant.hasLegalOrFinancialGuardian,
        claimsToBeGuarantor: applicant.claimsToBeGuarantor,
        dataShareProviderName: applicant.kreditzCaseId ? 'kreditz' : undefined,
        dataShareSessionId: applicant.kreditzCaseId ?? undefined
      });
    }
    applicationRequest.householdOtherLoans = [];
    for (let otherLoan of model.loansToSettle ?? []) {
      applicationRequest.householdOtherLoans.push({
        loanType: otherLoan.loanType,
        currentDebtAmount: otherLoan.currentDebtAmount,
        monthlyCostAmount: otherLoan.monthlyCostAmount,
        shouldBeSettled: false
      });
    }
    applicationRequest.householdChildren = [];
    for (let child of model.householdChildren) {
      applicationRequest.householdChildren.push({
        exists: true,
        ageInYears: child.ageInYears,
        sharedCustody: child.sharedCustody
      });
    }
    return this.apiService.postLocal('api/embedded-customerpages/create-ul-standard-application', applicationRequest);
  }
  getUlStandardWebApplicationSettings() {
    return this.apiService.postLocal('api/embedded-customerpages/ul-web-application-settings', {});
  }
  hasAccountSharingDataArrived(caseId, skipLoadingIndicator) {
    return this.apiService.postLocal('api/kz/poll', {
      caseId
    }, {
      skipLoadingIndicator: skipLoadingIndicator
    });
  }
  /*
  A person has properties like: civicRegNr, email, phone
   */
  generateTestPersons(nrOfApplicants, isAccepted, useCommonAddress) {
    return this.apiService.post('nTest', 'Api/TestPerson/GetOrGenerate', {
      persons: nrOfApplicants === 1 ? [{
        isAccepted
      }] : [{
        isAccepted
      }, {
        isAccepted
      }],
      useCommonAddress: useCommonAddress
    }, {
      isAnonymous: true
    });
  }
  preScoreApplication(application) {
    var _this2 = this;
    return (0,C_Repository_BaCS_SelfContainedModules_ntech_backoffice_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      let request = {
        scoringVariables: [],
        nrOfApplicants: 1,
        persistResult: true
      };
      if (application?.applicants) {
        request.nrOfApplicants = application.applicants.length;
        let applicantNr = 1;
        for (let applicant of application.applicants) {
          if (applicant.civicRegNr) {
            let civicRegNrResult = yield _this2.apiService.parseCivicRegNr(applicant.civicRegNr);
            if (civicRegNrResult.isValid && civicRegNrResult.ageInYears) {
              request.scoringVariables.push({
                name: 'applicantAgeInYears',
                value: civicRegNrResult.ageInYears.toFixed(0),
                applicantNr: applicantNr
              });
            }
          }
          request.scoringVariables.push({
            name: 'applicantIncomePerMonth',
            value: Math.ceil(applicant.incomePerMonthAmount ?? 0).toFixed(0),
            applicantNr: applicantNr
          });
          if (applicant.employment) {
            request.scoringVariables.push({
              name: 'applicantEmploymentFormCode',
              value: applicant.employment,
              applicantNr: applicantNr
            });
          }
          request.scoringVariables.push({
            name: 'applicantClaimsLegalOrFinancialGuardian',
            value: applicant.hasLegalOrFinancialGuardian ? 'true' : 'false',
            applicantNr: applicantNr
          });
          applicantNr++;
        }
      }
      if (application.loanObjective) {
        request.scoringVariables.push({
          name: 'loanObjective',
          value: application.loanObjective,
          applicantNr: null
        });
      }
      return _this2.apiService.post('NTechHost', 'Api/PreCredit/PolicyFilters/PreScore-WebApplication', request, {
        isAnonymous: true
      });
    })();
  }
  static #_ = this.ɵfac = function UlStandardPreApplicationService_Factory(t) {
    return new (t || UlStandardPreApplicationService)(_angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵinject"](_common_services_customer_pages_api_service__WEBPACK_IMPORTED_MODULE_2__.CustomerPagesApiService));
  };
  static #_2 = this.ɵprov = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵdefineInjectable"]({
    token: UlStandardPreApplicationService,
    factory: UlStandardPreApplicationService.ɵfac,
    providedIn: 'root'
  });
}

/***/ }),

/***/ 2777:
/*!******************************************************************************************************************!*\
  !*** ./projects/customerpages/src/app/unsecured-loan-applications/unsecured-loan-applications-routing.module.ts ***!
  \******************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   UnsecuredLoanApplicationsRoutingModule: () => (/* binding */ UnsecuredLoanApplicationsRoutingModule)
/* harmony export */ });
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/router */ 7947);
/* harmony import */ var _common_services_customer_pages_auth_guard__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../common-services/customer-pages.auth.guard */ 7423);
/* harmony import */ var _pages_customer_pages_application_customer_pages_application_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./pages/customer-pages-application/customer-pages-application.component */ 3552);
/* harmony import */ var _pages_overview_overview_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./pages/overview/overview.component */ 1996);
/* harmony import */ var _pages_pre_application_economy_pre_application_economy_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/pre-application-economy/pre-application-economy.component */ 666);
/* harmony import */ var _pages_pre_application_calculator_pre_application_calculator_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./pages/pre-application-calculator/pre-application-calculator.component */ 2330);
/* harmony import */ var _pages_pre_application_applicants_pre_application_applicants_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./pages/pre-application-applicants/pre-application-applicants.component */ 891);
/* harmony import */ var _pages_pre_application_received_pre_application_received_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./pages/pre-application-received/pre-application-received.component */ 8420);
/* harmony import */ var _pages_pre_application_datashare_pre_application_datashare_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./pages/pre-application-datashare/pre-application-datashare.component */ 8627);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/core */ 1699);











const routes = [{
  path: 'unsecured-loan-applications',
  children: [{
    path: 'overview',
    component: _pages_overview_overview_component__WEBPACK_IMPORTED_MODULE_2__.OverviewComponent
  }, {
    path: 'application/:applicationNr',
    component: _pages_customer_pages_application_customer_pages_application_component__WEBPACK_IMPORTED_MODULE_1__.CustomerPagesApplicationComponent
  }],
  resolve: {},
  data: {
    requireFeatures: ['ntech.feature.unsecuredloans', 'ntech.feature.unsecuredloans.standard'],
    loginTargetName: 'ApplicationsOverview',
    requiredUserRole: 'EmbeddedCustomerPagesStandardCustomer'
  },
  canActivate: [_common_services_customer_pages_auth_guard__WEBPACK_IMPORTED_MODULE_0__.CustomerPagesAuthGuard]
}, {
  path: 'ul-webapplications',
  children: [{
    path: 'application-calculator',
    component: _pages_pre_application_calculator_pre_application_calculator_component__WEBPACK_IMPORTED_MODULE_4__.PreApplicationCalculatorComponent
  }, {
    path: 'application-applicants/:preApplicationId',
    component: _pages_pre_application_applicants_pre_application_applicants_component__WEBPACK_IMPORTED_MODULE_5__.PreApplicationApplicantsComponent
  }, {
    path: 'application-economy/:preApplicationId',
    component: _pages_pre_application_economy_pre_application_economy_component__WEBPACK_IMPORTED_MODULE_3__.PreApplicationEconomyComponent
  }, {
    path: 'application-datashare/:preApplicationId',
    component: _pages_pre_application_datashare_pre_application_datashare_component__WEBPACK_IMPORTED_MODULE_7__.PreApplicationDatashareComponent
  }, {
    path: 'application-received/:applicationNr',
    component: _pages_pre_application_received_pre_application_received_component__WEBPACK_IMPORTED_MODULE_6__.PreApplicationReceivedComponent
  }],
  resolve: {},
  data: {
    requireFeatures: ['ntech.feature.unsecuredloans', 'ntech.feature.unsecuredloans.standard', 'ntech.feature.unsecuredloans.webapplication']
  },
  canActivate: []
}];
class UnsecuredLoanApplicationsRoutingModule {
  static #_ = this.ɵfac = function UnsecuredLoanApplicationsRoutingModule_Factory(t) {
    return new (t || UnsecuredLoanApplicationsRoutingModule)();
  };
  static #_2 = this.ɵmod = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵdefineNgModule"]({
    type: UnsecuredLoanApplicationsRoutingModule
  });
  static #_3 = this.ɵinj = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵdefineInjector"]({
    imports: [_angular_router__WEBPACK_IMPORTED_MODULE_9__.RouterModule.forChild(routes), _angular_router__WEBPACK_IMPORTED_MODULE_9__.RouterModule]
  });
}
(function () {
  (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_8__["ɵɵsetNgModuleScope"](UnsecuredLoanApplicationsRoutingModule, {
    imports: [_angular_router__WEBPACK_IMPORTED_MODULE_9__.RouterModule],
    exports: [_angular_router__WEBPACK_IMPORTED_MODULE_9__.RouterModule]
  });
})();

/***/ }),

/***/ 9009:
/*!**********************************************************************************************************!*\
  !*** ./projects/customerpages/src/app/unsecured-loan-applications/unsecured-loan-applications.module.ts ***!
  \**********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   UnsecuredLoanApplicationsModule: () => (/* binding */ UnsecuredLoanApplicationsModule)
/* harmony export */ });
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @angular/common */ 6575);
/* harmony import */ var _pages_overview_overview_component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./pages/overview/overview.component */ 1996);
/* harmony import */ var _unsecured_loan_applications_routing_module__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./unsecured-loan-applications-routing.module */ 2777);
/* harmony import */ var _components_shell_shell_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./components/shell/shell.component */ 1108);
/* harmony import */ var _pages_customer_pages_application_customer_pages_application_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/customer-pages-application/customer-pages-application.component */ 3552);
/* harmony import */ var _components_customer_pages_application_offer_customer_pages_application_offer_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./components/customer-pages-application-offer/customer-pages-application-offer.component */ 9792);
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @angular/forms */ 8849);
/* harmony import */ var _components_customer_pages_agreement_customer_pages_agreement_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./components/customer-pages-agreement/customer-pages-agreement.component */ 1015);
/* harmony import */ var _components_customer_pages_bankaccounts_customer_pages_bankaccounts_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./components/customer-pages-bankaccounts/customer-pages-bankaccounts.component */ 7913);
/* harmony import */ var _components_customer_pages_direct_debit_customer_pages_direct_debit_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./components/customer-pages-direct-debit/customer-pages-direct-debit.component */ 5491);
/* harmony import */ var _components_task_toggle_block_task_toggle_block_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./components/task-toggle-block/task-toggle-block.component */ 2844);
/* harmony import */ var _pages_customer_pages_application_customer_pages_application_tasks_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./pages/customer-pages-application/customer-pages-application-tasks.component */ 8208);
/* harmony import */ var _shared_components_shared_components_module__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../shared-components/shared-components.module */ 7159);
/* harmony import */ var _pages_pre_application_economy_pre_application_economy_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./pages/pre-application-economy/pre-application-economy.component */ 666);
/* harmony import */ var _pages_pre_application_calculator_pre_application_calculator_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./pages/pre-application-calculator/pre-application-calculator.component */ 2330);
/* harmony import */ var _pages_pre_application_applicants_pre_application_applicants_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./pages/pre-application-applicants/pre-application-applicants.component */ 891);
/* harmony import */ var _pages_pre_application_received_pre_application_received_component__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./pages/pre-application-received/pre-application-received.component */ 8420);
/* harmony import */ var _pages_pre_application_datashare_pre_application_datashare_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./pages/pre-application-datashare/pre-application-datashare.component */ 8627);
/* harmony import */ var projects_ntech_components_src_public_api__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! projects/ntech-components/src/public-api */ 3044);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @angular/core */ 1699);
/* harmony import */ var _shared_components_customer_pages_application_messages_customer_pages_application_messages_component__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../shared-components/customer-pages-application-messages/customer-pages-application-messages.component */ 335);
/* harmony import */ var _shared_components_task_page_task_page_component__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../shared-components/task-page/task-page.component */ 9004);























class UnsecuredLoanApplicationsModule {
  static #_ = this.ɵfac = function UnsecuredLoanApplicationsModule_Factory(t) {
    return new (t || UnsecuredLoanApplicationsModule)();
  };
  static #_2 = this.ɵmod = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_19__["ɵɵdefineNgModule"]({
    type: UnsecuredLoanApplicationsModule
  });
  static #_3 = this.ɵinj = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_19__["ɵɵdefineInjector"]({
    imports: [_angular_common__WEBPACK_IMPORTED_MODULE_20__.CommonModule, _angular_forms__WEBPACK_IMPORTED_MODULE_21__.FormsModule, _angular_forms__WEBPACK_IMPORTED_MODULE_21__.ReactiveFormsModule, _shared_components_shared_components_module__WEBPACK_IMPORTED_MODULE_10__.SharedComponentsModule, projects_ntech_components_src_public_api__WEBPACK_IMPORTED_MODULE_16__.NtechComponentsModule, _unsecured_loan_applications_routing_module__WEBPACK_IMPORTED_MODULE_1__.UnsecuredLoanApplicationsRoutingModule]
  });
} //angular-in-memory-web-api for testing
(function () {
  (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_19__["ɵɵsetNgModuleScope"](UnsecuredLoanApplicationsModule, {
    declarations: [_pages_overview_overview_component__WEBPACK_IMPORTED_MODULE_0__.OverviewComponent, _components_shell_shell_component__WEBPACK_IMPORTED_MODULE_2__.ShellComponent, _components_task_toggle_block_task_toggle_block_component__WEBPACK_IMPORTED_MODULE_8__.TaskToggleBlockComponent, _pages_customer_pages_application_customer_pages_application_tasks_component__WEBPACK_IMPORTED_MODULE_9__.CustomerPagesApplicationTasksComponent, _pages_customer_pages_application_customer_pages_application_component__WEBPACK_IMPORTED_MODULE_3__.CustomerPagesApplicationComponent, _components_customer_pages_application_offer_customer_pages_application_offer_component__WEBPACK_IMPORTED_MODULE_4__.CustomerPagesApplicationOfferComponent, _components_customer_pages_agreement_customer_pages_agreement_component__WEBPACK_IMPORTED_MODULE_5__.CustomerPagesAgreementComponent, _components_customer_pages_bankaccounts_customer_pages_bankaccounts_component__WEBPACK_IMPORTED_MODULE_6__.CustomerPagesBankaccountsComponent, _components_customer_pages_direct_debit_customer_pages_direct_debit_component__WEBPACK_IMPORTED_MODULE_7__.CustomerPagesDirectDebitComponent, _pages_pre_application_economy_pre_application_economy_component__WEBPACK_IMPORTED_MODULE_11__.PreApplicationEconomyComponent, _pages_pre_application_calculator_pre_application_calculator_component__WEBPACK_IMPORTED_MODULE_12__.PreApplicationCalculatorComponent, _pages_pre_application_applicants_pre_application_applicants_component__WEBPACK_IMPORTED_MODULE_13__.PreApplicationApplicantsComponent, _pages_pre_application_received_pre_application_received_component__WEBPACK_IMPORTED_MODULE_14__.PreApplicationReceivedComponent, _pages_pre_application_datashare_pre_application_datashare_component__WEBPACK_IMPORTED_MODULE_15__.PreApplicationDatashareComponent],
    imports: [_angular_common__WEBPACK_IMPORTED_MODULE_20__.CommonModule, _angular_forms__WEBPACK_IMPORTED_MODULE_21__.FormsModule, _angular_forms__WEBPACK_IMPORTED_MODULE_21__.ReactiveFormsModule, _shared_components_shared_components_module__WEBPACK_IMPORTED_MODULE_10__.SharedComponentsModule, projects_ntech_components_src_public_api__WEBPACK_IMPORTED_MODULE_16__.NtechComponentsModule, _unsecured_loan_applications_routing_module__WEBPACK_IMPORTED_MODULE_1__.UnsecuredLoanApplicationsRoutingModule]
  });
})();
_angular_core__WEBPACK_IMPORTED_MODULE_19__["ɵɵsetComponentScope"](_pages_customer_pages_application_customer_pages_application_component__WEBPACK_IMPORTED_MODULE_3__.CustomerPagesApplicationComponent, [_angular_common__WEBPACK_IMPORTED_MODULE_20__.NgClass, _angular_common__WEBPACK_IMPORTED_MODULE_20__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_20__.NgIf, _shared_components_customer_pages_application_messages_customer_pages_application_messages_component__WEBPACK_IMPORTED_MODULE_17__.CustomerPagesApplicationMessagesComponent, _shared_components_task_page_task_page_component__WEBPACK_IMPORTED_MODULE_18__.TaskPageComponent, _components_shell_shell_component__WEBPACK_IMPORTED_MODULE_2__.ShellComponent, _pages_customer_pages_application_customer_pages_application_tasks_component__WEBPACK_IMPORTED_MODULE_9__.CustomerPagesApplicationTasksComponent, _components_customer_pages_application_offer_customer_pages_application_offer_component__WEBPACK_IMPORTED_MODULE_4__.CustomerPagesApplicationOfferComponent, _components_customer_pages_agreement_customer_pages_agreement_component__WEBPACK_IMPORTED_MODULE_5__.CustomerPagesAgreementComponent, _components_customer_pages_bankaccounts_customer_pages_bankaccounts_component__WEBPACK_IMPORTED_MODULE_6__.CustomerPagesBankaccountsComponent, _components_customer_pages_direct_debit_customer_pages_direct_debit_component__WEBPACK_IMPORTED_MODULE_7__.CustomerPagesDirectDebitComponent], []);

/***/ }),

/***/ 451:
/*!****************************************************************!*\
  !*** ./projects/customerpages/src/environments/environment.ts ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   environment: () => (/* binding */ environment)
/* harmony export */ });
// This file can be replaced during build by using the `fileReplacements` array.
// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.
// The list of file replacements can be found in `angular.json`.
const environment = {
  production: false
};
/*
 * For easier debugging in development mode, you can import the following file
 * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.
 *
 * This import should be commented out in production mode because it will have a negative impact
 * on performance if an error is thrown.
 */
// import 'zone.js/plugins/zone-error';  // Included with Angular CLI.

/***/ }),

/***/ 2452:
/*!********************************************!*\
  !*** ./projects/customerpages/src/main.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/platform-browser */ 6480);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ 1699);
/* harmony import */ var _app_app_module__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./app/app.module */ 5783);
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./environments/environment */ 451);




if (_environments_environment__WEBPACK_IMPORTED_MODULE_1__.environment.production) {
  (0,_angular_core__WEBPACK_IMPORTED_MODULE_2__.enableProdMode)();
}
_angular_platform_browser__WEBPACK_IMPORTED_MODULE_3__.platformBrowser().bootstrapModule(_app_app_module__WEBPACK_IMPORTED_MODULE_0__.AppModule).catch(err => console.error(err));

/***/ }),

/***/ 3818:
/*!**********************************************************************************************************!*\
  !*** ./projects/ntech-components/src/lib/kreditz-datashare-iframe/kreditz-datashare-iframe.component.ts ***!
  \**********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BankSharingMessageCode: () => (/* binding */ BankSharingMessageCode),
/* harmony export */   KreditzDatashareIframeComponent: () => (/* binding */ KreditzDatashareIframeComponent)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ 1699);
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/platform-browser */ 6480);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ 6575);



function KreditzDatashareIframeComponent_ng_container_0_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](2, "iframe", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("src", ctx_r0.m.iframeUrl, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeResourceUrl"]);
  }
}
class KreditzDatashareIframeComponent {
  constructor(sanitizer) {
    this.sanitizer = sanitizer;
  }
  onIFrameMessageEvent(event) {
    if (!(event?.origin ?? '').toLowerCase().includes('vista.kreditz.com')) {
      return;
    }
    let data = event?.data;
    if (!data) {
      return;
    }
    let parsedData = JSON.parse(data);
    let i = this.initialData;
    if (parsedData?.case_id !== i.caseId) {
      return;
    }
    let message = parsedData?.message;
    let emitMessage = code => {
      i.onMessage(code, () => {
        this.m.isHidden = true;
      });
    };
    if (message === 'bank(s) selected') {
      emitMessage(BankSharingMessageCode.bankSelected);
    } else if (message === 'banking authentication started') {
      emitMessage(BankSharingMessageCode.authenticationStarted);
    } else if (message === 'user cancelled bank authentication') {
      emitMessage(BankSharingMessageCode.authenticationCancelled);
    } else if (message === 'banking authentication finished') {
      emitMessage(BankSharingMessageCode.authenticationFinished);
    } else if (message === 'User flow completed') {
      emitMessage(BankSharingMessageCode.userFlowCompleted);
    }
  }
  ngOnChanges(_) {
    this.m = null;
    let url = 'https://vista.kreditz.com/connect_bank';
    let separator = '?';
    let addQueryParameter = (name, value) => {
      url += `${separator}${encodeURIComponent(name)}=${encodeURIComponent(value)}`;
      separator = '&';
    };
    let i = this.initialData;
    addQueryParameter('client_id', i.clientId);
    if (i.baseCountry === 'SE') {
      addQueryParameter('market', 'SE');
      addQueryParameter('locale', 'sw');
    } else if (i.baseCountry === 'FI') {
      addQueryParameter('market', 'FI');
      addQueryParameter('locale', 'fi');
    } else {
      throw new Error('Not implemented for this country');
    }
    if (i.isNTechTest) {
      addQueryParameter('env', 'sandbox'); //This is absent in their prod example. Possibly live is prod. Find out.
    }
    addQueryParameter('ssn_number', i.civicRegNr);
    addQueryParameter('case_id', i.caseId);
    addQueryParameter('type', 'Private');
    addQueryParameter('iframe', 'true');
    addQueryParameter('fetch_data_for_months', i.fetchDataForMonths.toFixed(0)); //1 -> 12
    this.m = {
      iframeUrl: this.sanitizer.bypassSecurityTrustResourceUrl(url),
      isHidden: false
    };
  }
  static #_ = this.ɵfac = function KreditzDatashareIframeComponent_Factory(t) {
    return new (t || KreditzDatashareIframeComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__.DomSanitizer));
  };
  static #_2 = this.ɵcmp = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({
    type: KreditzDatashareIframeComponent,
    selectors: [["kreditz-datashare-iframe"]],
    hostBindings: function KreditzDatashareIframeComponent_HostBindings(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("message", function KreditzDatashareIframeComponent_message_HostBindingHandler($event) {
          return ctx.onIFrameMessageEvent($event);
        }, false, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵresolveWindow"]);
      }
    },
    inputs: {
      initialData: "initialData"
    },
    features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]],
    decls: 1,
    vars: 1,
    consts: [[4, "ngIf"], [1, "iframe-container"], [1, "responsive-iframe", "iframe-placeholder", 3, "src"]],
    template: function KreditzDatashareIframeComponent_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, KreditzDatashareIframeComponent_ng_container_0_Template, 3, 1, "ng-container", 0);
      }
      if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.m);
      }
    },
    dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_2__.NgIf],
    styles: [".iframe-container[_ngcontent-%COMP%] {\n  position: relative;\n  overflow: hidden;\n  max-width: 1024px;\n  min-height: 975px;\n  width: 100%;\n  padding-top: 100%;\n  \n\n}\n\n\n\n.responsive-iframe[_ngcontent-%COMP%] {\n  position: absolute;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  width: 100%;\n  height: 100%;\n}\n\n.iframe-placeholder[_ngcontent-%COMP%] {\n  background: url('data:image/svg+xml;charset=utf-8,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" height=\"100%\" viewBox=\"0 0 100% 100%\"><text fill=\"black\" x=\"50%\" y=\"50%\" font-family=\"Arial, sans-serif\" font-size=\"24\" text-anchor=\"middle\">Laddar...</text></svg>') center center no-repeat;\n}\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3Byb2plY3RzL250ZWNoLWNvbXBvbmVudHMvc3JjL2xpYi9rcmVkaXR6LWRhdGFzaGFyZS1pZnJhbWUva3JlZGl0ei1kYXRhc2hhcmUtaWZyYW1lLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksa0JBQUE7RUFDQSxnQkFBQTtFQUNBLGlCQUFBO0VBQ0EsaUJBQUE7RUFDQSxXQUFBO0VBQ0EsaUJBQUE7RUFDQSxxQkFBQTtBQUNKOztBQUVBLGlGQUFBO0FBQ0E7RUFDSSxrQkFBQTtFQUNBLE1BQUE7RUFDQSxPQUFBO0VBQ0EsU0FBQTtFQUNBLFFBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtBQUNKOztBQUVBO0VBQ0ksb1NBQUE7QUFDSiIsInNvdXJjZXNDb250ZW50IjpbIi5pZnJhbWUtY29udGFpbmVyIHtcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgIG92ZXJmbG93OiBoaWRkZW47XHJcbiAgICBtYXgtd2lkdGg6IDEwMjRweDtcclxuICAgIG1pbi1oZWlnaHQ6IDk3NXB4O1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBwYWRkaW5nLXRvcDogMTAwJTtcclxuICAgIC8qIDE6MSBBc3BlY3QgUmF0aW8gKi9cclxufVxyXG5cclxuLyogVGhlbiBzdHlsZSB0aGUgaWZyYW1lIHRvIGZpdCBpbiB0aGUgY29udGFpbmVyIGRpdiB3aXRoIGZ1bGwgaGVpZ2h0IGFuZCB3aWR0aCAqL1xyXG4ucmVzcG9uc2l2ZS1pZnJhbWUge1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgdG9wOiAwO1xyXG4gICAgbGVmdDogMDtcclxuICAgIGJvdHRvbTogMDtcclxuICAgIHJpZ2h0OiAwO1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBoZWlnaHQ6IDEwMCU7XHJcbn1cclxuXHJcbi5pZnJhbWUtcGxhY2Vob2xkZXIge1xyXG4gICAgYmFja2dyb3VuZDogdXJsKCdkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCw8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjEwMCVcIiBoZWlnaHQ9XCIxMDAlXCIgdmlld0JveD1cIjAgMCAxMDAlIDEwMCVcIj48dGV4dCBmaWxsPVwiYmxhY2tcIiB4PVwiNTAlXCIgeT1cIjUwJVwiIGZvbnQtZmFtaWx5PVwiQXJpYWwsIHNhbnMtc2VyaWZcIiBmb250LXNpemU9XCIyNFwiIHRleHQtYW5jaG9yPVwibWlkZGxlXCI+TGFkZGFyLi4uPC90ZXh0Pjwvc3ZnPicpIGNlbnRlciBjZW50ZXIgbm8tcmVwZWF0O1xyXG59Il0sInNvdXJjZVJvb3QiOiIifQ== */"]
  });
}
var BankSharingMessageCode;
(function (BankSharingMessageCode) {
  BankSharingMessageCode[BankSharingMessageCode["bankSelected"] = 0] = "bankSelected";
  BankSharingMessageCode[BankSharingMessageCode["authenticationStarted"] = 1] = "authenticationStarted";
  BankSharingMessageCode[BankSharingMessageCode["authenticationCancelled"] = 2] = "authenticationCancelled";
  BankSharingMessageCode[BankSharingMessageCode["authenticationFinished"] = 3] = "authenticationFinished";
  BankSharingMessageCode[BankSharingMessageCode["userFlowCompleted"] = 4] = "userFlowCompleted";
})(BankSharingMessageCode || (BankSharingMessageCode = {}));

/***/ }),

/***/ 4299:
/*!**********************************************************************************************!*\
  !*** ./projects/ntech-components/src/lib/kyc-answers-editor/kyc-answers-editor.component.ts ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   KycAnswersEditorComponent: () => (/* binding */ KycAnswersEditorComponent),
/* harmony export */   getOrderedCountryDropdownOptions: () => (/* binding */ getOrderedCountryDropdownOptions),
/* harmony export */   getOrderedCountryDropdownOptionsFromIsoCountries: () => (/* binding */ getOrderedCountryDropdownOptionsFromIsoCountries)
/* harmony export */ });
/* harmony import */ var C_Repository_BaCS_SelfContainedModules_ntech_backoffice_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 1670);
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ 8849);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ 1699);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common */ 6575);





function KycAnswersEditorComponent_div_0_div_1_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 13)(1, "h3");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](ctx_r1.m.titleText);
  }
}
function KycAnswersEditorComponent_div_0_button_9_Template(rf, ctx) {
  if (rf & 1) {
    const _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "button", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function KycAnswersEditorComponent_div_0_button_9_Template_button_click_0_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r6);
      const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](2);
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r5.submitAnswers($event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](1, "span", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("disabled", ctx_r2.m.relation.form.invalid);
  }
}
function KycAnswersEditorComponent_div_0_button_10_Template(rf, ctx) {
  if (rf & 1) {
    const _r8 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "button", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function KycAnswersEditorComponent_div_0_button_10_Template_button_click_0_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r8);
      const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](2);
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r7.cancel($event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](1, "span", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
}
function KycAnswersEditorComponent_div_0_ng_container_12_div_1_option_5_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "option", 24);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const option_r15 = ctx.$implicit;
    const ctx_r14 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngValue", option_r15.value);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", ctx_r14.getTranslation(option_r15.translations), "");
  }
}
function KycAnswersEditorComponent_div_0_ng_container_12_div_1_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 20)(1, "label");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](3, "select", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](4, "option", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](5, KycAnswersEditorComponent_div_0_ng_container_12_div_1_option_5_Template, 2, 2, "option", 23);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const question_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]().$implicit;
    const ctx_r10 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](ctx_r10.getTranslation(question_r9.headerTranslations));
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("formControlName", question_r9.key);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngForOf", question_r9.options);
  }
}
function KycAnswersEditorComponent_div_0_ng_container_12_div_2_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 20)(1, "label");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](3, "select", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](4, "option", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](5, "option", 25);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](7, "option", 26);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](8);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()();
  }
  if (rf & 2) {
    const question_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]().$implicit;
    const ctx_r11 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](ctx_r11.getTranslation(question_r9.headerTranslations));
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("formControlName", question_r9.key);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](ctx_r11.getStaticTranslation("yes"));
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](ctx_r11.getStaticTranslation("no"));
  }
}
function KycAnswersEditorComponent_div_0_ng_container_12_ng_container_3_p_5_Template(rf, ctx) {
  if (rf & 1) {
    const _r24 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "p", 32);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](2, "button", 33);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function KycAnswersEditorComponent_div_0_ng_container_12_ng_container_3_p_5_Template_button_click_2_listener($event) {
      const restoredCtx = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r24);
      const countryCode_r21 = restoredCtx.$implicit;
      const question_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](2).$implicit;
      const ctx_r22 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](2);
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r22.removeCountryOption(question_r9, countryCode_r21, $event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](3, "span", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const countryCode_r21 = ctx.$implicit;
    const ctx_r18 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", ctx_r18.getCountryDisplayName(countryCode_r21), " ");
  }
}
function KycAnswersEditorComponent_div_0_ng_container_12_ng_container_3_ng_container_10_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](1, "option", 34);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const opt_r25 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("value", opt_r25.code);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](opt_r25.displayName);
  }
}
function KycAnswersEditorComponent_div_0_ng_container_12_ng_container_3_Template(rf, ctx) {
  if (rf & 1) {
    const _r28 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](1, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](3, "div", 27)(4, "div", 28);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](5, KycAnswersEditorComponent_div_0_ng_container_12_ng_container_3_p_5_Template, 4, 1, "p", 29);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](6, "select", 30, 31);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("change", function KycAnswersEditorComponent_div_0_ng_container_12_ng_container_3_Template_select_change_6_listener() {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r28);
      const _r19 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵreference"](7);
      const question_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]().$implicit;
      const ctx_r26 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](2);
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r26.onCountryOptionChanged(question_r9, _r19.value));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](8, "option", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](9);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](10, KycAnswersEditorComponent_div_0_ng_container_12_ng_container_3_ng_container_10_Template, 3, 2, "ng-container", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const question_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]().$implicit;
    const ctx_r12 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](ctx_r12.getTranslation(question_r9.optionsHeaderTranslations));
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngForOf", ctx_r12.m.relation.form.value[question_r9.optionsKey]);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("formControlName", "__country_select__" + question_r9.optionsKey);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](ctx_r12.getStaticTranslation("selectCountry"));
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngForOf", ctx_r12.countriesExceptChosen(question_r9, ctx_r12.m.countryOptions));
  }
}
function KycAnswersEditorComponent_div_0_ng_container_12_ng_container_4_div_4_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 36)(1, "label");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](2, "input", 37);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const option_r31 = ctx.$implicit;
    const question_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](2).$implicit;
    const ctx_r30 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("formControlName", ctx_r30.getQuestionOptionFormKey(question_r9, option_r31));
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"](" ", ctx_r30.getTranslation(option_r31.translations), " ");
  }
}
function KycAnswersEditorComponent_div_0_ng_container_12_ng_container_4_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](1, "div", 27)(2, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](4, KycAnswersEditorComponent_div_0_ng_container_12_ng_container_4_div_4_Template, 4, 2, "div", 35);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const question_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]().$implicit;
    const ctx_r13 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](ctx_r13.getTranslation(question_r9.optionsHeaderTranslations));
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngForOf", question_r9.options);
  }
}
function KycAnswersEditorComponent_div_0_ng_container_12_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](1, KycAnswersEditorComponent_div_0_ng_container_12_div_1_Template, 6, 3, "div", 18)(2, KycAnswersEditorComponent_div_0_ng_container_12_div_2_Template, 9, 4, "div", 18)(3, KycAnswersEditorComponent_div_0_ng_container_12_ng_container_3_Template, 11, 5, "ng-container", 19)(4, KycAnswersEditorComponent_div_0_ng_container_12_ng_container_4_Template, 5, 2, "ng-container", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const question_r9 = ctx.$implicit;
    const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", question_r9.type === "dropdown");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx_r4.isYesNoQuestion(question_r9));
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx_r4.m.relation.form.value[question_r9.key] === "yes" && question_r9.type === "yesNoWithCountryOptions");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx_r4.m.relation.form.value[question_r9.key] === "yes" && question_r9.type === "yesNoWithOptions");
  }
}
function KycAnswersEditorComponent_div_0_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](1, KycAnswersEditorComponent_div_0_div_1_Template, 3, 1, "div", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](2, "div", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵprojection"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](4, "form", 4)(5, "div", 5)(6, "div", 6)(7, "div", 7)(8, "div", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](9, KycAnswersEditorComponent_div_0_button_9_Template, 2, 1, "button", 9)(10, KycAnswersEditorComponent_div_0_button_10_Template, 2, 0, "button", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](11, "div", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](12, KycAnswersEditorComponent_div_0_ng_container_12_Template, 5, 4, "ng-container", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵprojection"](13, 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx_r0.m.titleText);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("formGroup", ctx_r0.m.relation.form);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx_r0.m.isSubmitEnabled);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx_r0.m.isCancelEnabled);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngForOf", ctx_r0.m.relation.questions);
  }
}
const _c0 = [[["", "kyc-answers-header-content", ""]], [["", "kyc-answers-footer-content", ""]]];
const _c1 = ["[kyc-answers-header-content]", "[kyc-answers-footer-content]"];
class KycAnswersEditorComponent {
  constructor(formBuilder) {
    this.formBuilder = formBuilder;
  }
  ngOnInit() {}
  ngOnChanges(_) {
    var _this = this;
    return (0,C_Repository_BaCS_SelfContainedModules_ntech_backoffice_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      _this.m = null;
      let i = _this.initialData;
      if (!i) {
        return;
      }
      yield _this.reset(i?.currentQuestionsTemplate);
    })();
  }
  reset(currentQuestionsTemplate) {
    var _this2 = this;
    return (0,C_Repository_BaCS_SelfContainedModules_ntech_backoffice_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      if (!currentQuestionsTemplate) {
        return;
      }
      let m = {
        relation: null,
        isCancelEnabled: !!_this2.initialData.onCancel,
        isSubmitEnabled: !!_this2.initialData.onAnswersSubmitted,
        staticTranslations: {
          saveAnswers: {
            sv: 'Skicka in svar',
            fi: 'Lähetä vastaukset'
          },
          yes: {
            sv: 'Ja',
            fi: 'Kyllä'
          },
          no: {
            sv: 'Nej',
            fi: 'Ei'
          },
          unsecuredLoan: {
            sv: 'Lån utan säkerhet',
            fi: 'Vakuudeton luotto'
          },
          savingsAccount: {
            sv: 'Sparkonto',
            fi: 'Säästötili'
          },
          selectCountry: {
            sv: 'Välj land',
            fi: 'Valitse maa'
          }
        },
        countryOptions: null
      };
      if (currentQuestionsTemplate.questions.findIndex(x => x.type == 'yesNoWithCountryOptions')) {
        m.countryOptions = yield _this2.loadAndReorderCountries();
      }
      let f = {};
      let formValidators = [];
      for (let question of currentQuestionsTemplate.questions) {
        if (question.type === 'dropdown') {
          f[question.key] = ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_2__.Validators.required]];
        } else if (_this2.isYesNoQuestion(question)) {
          f[question.key] = ['', [_angular_forms__WEBPACK_IMPORTED_MODULE_2__.Validators.required]];
          if (question.type === 'yesNoWithOptions') {
            for (let option of question.options) {
              f[_this2.getQuestionOptionFormKey(question, option)] = [false, []];
            }
            formValidators.push(x => {
              let isYes = x.value[question.key] === 'yes';
              if (!isYes) {
                return null;
              }
              for (let option of question.options) {
                if (x.value[_this2.getQuestionOptionFormKey(question, option)] === true) {
                  return null;
                }
              }
              return question.key;
            });
          } else if (question.type === 'yesNoWithCountryOptions') {
            f[question.optionsKey] = [[], []];
            f['__country_select__' + question.optionsKey] = ['', []];
            formValidators.push(x => {
              let isYes = x.value[question.key] === 'yes';
              if (!isYes) {
                return null;
              }
              let selectedCountries = x.value[question.optionsKey];
              return selectedCountries.length > 0 ? null : question.key;
            });
          }
        }
      }
      let form = _this2.formBuilder.group(f);
      form.setValidators(x => {
        let errors = formValidators.map(validate => validate(form)).filter(x => !!x);
        if (errors.length > 0) {
          let result = {};
          for (let error of errors) {
            result[error] = true;
          }
          return result;
        } else {
          return null;
        }
      });
      m.relation = {
        questionsVersion: currentQuestionsTemplate.version,
        questions: currentQuestionsTemplate.questions,
        form: form
      };
      m.titleText = _this2.initialData.titleText ? _this2.initialData.titleText : null;
      _this2.m = m;
      //NOTE: Keep this after assingment to this.m or refactor parseAnswers to not use this.m
      if (_this2.initialData.editState) {
        _this2.m.relation.form.valueChanges.subscribe(_ => {
          _this2.initialData.editState.next(_this2.parseAnswers());
        });
      }
    })();
  }
  isYesNoQuestion(question) {
    return question.type === 'yesNoWithOptions' || question.type === 'yesNo' || question.type === 'yesNoWithCountryOptions';
  }
  parseAnswers() {
    let answers = [];
    if (this.m.relation.form.invalid) {
      return {
        isSavePossible: false,
        answers: null
      };
    }
    for (let question of this.m.relation.questions) {
      let v = x => this.m.relation.form.value[x];
      if (question.type === 'dropdown') {
        let value = v(question.key);
        let selectedOption = question.options.find(x => x.value === value);
        answers.push({
          questionCode: question.key,
          answerCode: value,
          answerText: this.getTranslation(selectedOption.translations),
          questionText: this.getTranslation(question.headerTranslations)
        });
      } else if (question.type === 'yesNoWithOptions' || question.type === 'yesNo' || question.type === 'yesNoWithCountryOptions') {
        let isYes = v(question.key) == 'yes';
        if (isYes) {
          answers.push({
            questionCode: question.key,
            answerCode: 'true',
            answerText: this.getStaticTranslation('yes'),
            questionText: this.getTranslation(question.headerTranslations)
          });
          if (question.type === 'yesNoWithOptions') {
            let optionCodes = [];
            let optionTexts = [];
            for (let option of question.options) {
              if (v(this.getQuestionOptionFormKey(question, option)) === true) {
                optionCodes.push(option.value);
                optionTexts.push(this.getTranslation(option.translations));
              }
            }
            answers.push({
              questionCode: question.optionsKey,
              answerCode: optionCodes.join(', '),
              answerText: optionTexts.join(', '),
              questionText: this.getTranslation(question.headerTranslations) + ' - ' + this.getTranslation(question.optionsHeaderTranslations)
            });
          } else if (question.type === 'yesNoWithCountryOptions') {
            let optionCodes = [];
            let optionTexts = [];
            for (let countryCode of v(question.optionsKey)) {
              optionCodes.push(countryCode);
              optionTexts.push(this.getCountryDisplayName(countryCode));
            }
            answers.push({
              questionCode: question.optionsKey,
              answerCode: optionCodes.join(', '),
              answerText: optionTexts.join(', '),
              questionText: this.getTranslation(question.headerTranslations) + ' - ' + this.getTranslation(question.optionsHeaderTranslations)
            });
          }
        } else {
          answers.push({
            questionCode: question.key,
            answerCode: 'false',
            answerText: this.getStaticTranslation('no'),
            questionText: this.getTranslation(question.headerTranslations)
          });
        }
      }
    }
    return {
      isSavePossible: true,
      answers: answers
    };
  }
  onCountryOptionChanged(question, countryCode) {
    let currentValue = this.m.relation.form.value[question.optionsKey];
    let patch = {};
    if (currentValue.indexOf(countryCode) < 0) {
      currentValue.push(countryCode);
      patch[question.optionsKey] = currentValue;
    }
    patch['__country_select__' + question.optionsKey] = '';
    this.m.relation.form.patchValue(patch);
  }
  getCountryDisplayName(code) {
    return this.m.countryOptions.find(x => x.code == code).displayName;
  }
  removeCountryOption(question, countryCode, evt) {
    evt?.preventDefault();
    let currentValue = this.m.relation.form.value[question.optionsKey];
    let index = currentValue.indexOf(countryCode);
    if (index >= 0) {
      currentValue.splice(index, 1);
      this.m.relation.form.patchValue({
        [question.optionsKey]: currentValue
      });
    }
  }
  countriesExceptChosen(question, countryOptions) {
    let chosenCountries = this.m.relation.form.value[question.optionsKey];
    return countryOptions.filter(x => chosenCountries.indexOf(x.code) < 0);
  }
  submitAnswers(evt) {
    var _this3 = this;
    return (0,C_Repository_BaCS_SelfContainedModules_ntech_backoffice_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      evt?.preventDefault();
      let {
        answers
      } = _this3.parseAnswers();
      yield _this3.initialData.onAnswersSubmitted(answers);
    })();
  }
  cancel(evt) {
    var _this4 = this;
    return (0,C_Repository_BaCS_SelfContainedModules_ntech_backoffice_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      evt?.preventDefault();
      yield _this4.initialData.onCancel();
    })();
  }
  getQuestionOptionFormKey(question, option) {
    return `${question.key}_${option.value}`;
  }
  getStaticTranslation(key) {
    return this.getTranslation(this.m.staticTranslations[key]) || key;
  }
  getTranslation(translations) {
    if (!translations) {
      return '';
    }
    let preferredTranslation = translations[this.initialData.language.value];
    if (preferredTranslation) {
      return preferredTranslation;
    } else {
      let availableTranslations = Object.keys(translations);
      if (availableTranslations.length > 0) {
        return translations[availableTranslations[0]];
      } else {
        return '';
      }
    }
  }
  loadAndReorderCountries() {
    var _this5 = this;
    return (0,C_Repository_BaCS_SelfContainedModules_ntech_backoffice_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      let countries = yield _this5.initialData.getCountries();
      return getOrderedCountryDropdownOptionsFromIsoCountries(countries, _this5.initialData.clientTwoLetterCountryIsoCode, _this5.initialData.language.value);
    })();
  }
  static #_ = this.ɵfac = function KycAnswersEditorComponent_Factory(t) {
    return new (t || KycAnswersEditorComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdirectiveInject"](_angular_forms__WEBPACK_IMPORTED_MODULE_2__.UntypedFormBuilder));
  };
  static #_2 = this.ɵcmp = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
    type: KycAnswersEditorComponent,
    selectors: [["kyc-answers-editor"]],
    inputs: {
      initialData: "initialData"
    },
    features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵNgOnChangesFeature"]],
    ngContentSelectors: _c1,
    decls: 1,
    vars: 1,
    consts: [["class", "edit-container", 4, "ngIf"], [1, "edit-container"], ["class", "relation-header", 4, "ngIf"], [1, "editblock"], [3, "formGroup"], [1, "row"], [1, "col-xs-12"], [1, "pb-3"], [1, "text-right"], ["class", "n-icon-btn n-green-btn commit-btn", 3, "disabled", "click", 4, "ngIf"], ["class", "n-icon-btn n-white-btn cancel-btn", 3, "click", 4, "ngIf"], [1, "clearfix"], [4, "ngFor", "ngForOf"], [1, "relation-header"], [1, "n-icon-btn", "n-green-btn", "commit-btn", 3, "disabled", "click"], [1, "glyphicon", "glyphicon-ok"], [1, "n-icon-btn", "n-white-btn", "cancel-btn", 3, "click"], [1, "glyphicon", "glyphicon-remove"], ["class", "form-group pb-1", 4, "ngIf"], [4, "ngIf"], [1, "form-group", "pb-1"], [1, "form-control", 3, "formControlName"], ["value", ""], [3, "ngValue", 4, "ngFor", "ngForOf"], [3, "ngValue"], ["value", "yes"], ["value", "no"], [1, "pb-2"], [1, "pb-1"], ["class", "form-control-static copyable bb-1", 4, "ngFor", "ngForOf"], [1, "form-control", 3, "formControlName", "change"], ["country", ""], [1, "form-control-static", "copyable", "bb-1"], [1, "n-icon-btn", "n-red-btn", "table-button", 3, "click"], [3, "value"], ["class", "checkbox", 4, "ngFor", "ngForOf"], [1, "checkbox"], ["type", "checkbox", 3, "formControlName"]],
    template: function KycAnswersEditorComponent_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵprojectionDef"](_c0);
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](0, KycAnswersEditorComponent_div_0_Template, 14, 5, "div", 0);
      }
      if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.m);
      }
    },
    dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_3__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_3__.NgIf, _angular_forms__WEBPACK_IMPORTED_MODULE_2__["ɵNgNoValidate"], _angular_forms__WEBPACK_IMPORTED_MODULE_2__.NgSelectOption, _angular_forms__WEBPACK_IMPORTED_MODULE_2__["ɵNgSelectMultipleOption"], _angular_forms__WEBPACK_IMPORTED_MODULE_2__.CheckboxControlValueAccessor, _angular_forms__WEBPACK_IMPORTED_MODULE_2__.SelectControlValueAccessor, _angular_forms__WEBPACK_IMPORTED_MODULE_2__.NgControlStatus, _angular_forms__WEBPACK_IMPORTED_MODULE_2__.NgControlStatusGroup, _angular_forms__WEBPACK_IMPORTED_MODULE_2__.FormGroupDirective, _angular_forms__WEBPACK_IMPORTED_MODULE_2__.FormControlName],
    styles: [".edit-container[_ngcontent-%COMP%] {\n    display: flex;\n    flex-direction: column;\n    gap: 10px;\n}\n\n.commit-btn[_ngcontent-%COMP%] {\n    float: right;\n    margin-left: 5px;\n}\n\n.cancel-btn[_ngcontent-%COMP%] {\n    float: right\n}\n\n.relation-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] {\n    width: -moz-fit-content;\n    width: fit-content;\n    margin-top: 0px;\n    border-bottom: 2px solid rgb(60, 60, 60);\n}\n\n.table-button[_ngcontent-%COMP%] {\n    height: 25px;\n    width: 28px;\n    float: right;\n    margin-right: 3px;\n}\n.table-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\n    top: 0px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3Byb2plY3RzL250ZWNoLWNvbXBvbmVudHMvc3JjL2xpYi9reWMtYW5zd2Vycy1lZGl0b3Iva3ljLWFuc3dlcnMtZWRpdG9yLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxhQUFhO0lBQ2Isc0JBQXNCO0lBQ3RCLFNBQVM7QUFDYjs7QUFFQTtJQUNJLFlBQVk7SUFDWixnQkFBZ0I7QUFDcEI7O0FBRUE7SUFDSTtBQUNKOztBQUVBO0lBQ0ksdUJBQWtCO0lBQWxCLGtCQUFrQjtJQUNsQixlQUFlO0lBQ2Ysd0NBQXdDO0FBQzVDOztBQUVBO0lBQ0ksWUFBWTtJQUNaLFdBQVc7SUFDWCxZQUFZO0lBQ1osaUJBQWlCO0FBQ3JCO0FBQ0E7SUFDSSxRQUFRO0lBQ1IsYUFBYTtJQUNiLG1CQUFtQjtJQUNuQix1QkFBdUI7QUFDM0IiLCJzb3VyY2VzQ29udGVudCI6WyIuZWRpdC1jb250YWluZXIge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgICBnYXA6IDEwcHg7XHJcbn1cclxuXHJcbi5jb21taXQtYnRuIHtcclxuICAgIGZsb2F0OiByaWdodDtcclxuICAgIG1hcmdpbi1sZWZ0OiA1cHg7XHJcbn1cclxuXHJcbi5jYW5jZWwtYnRuIHtcclxuICAgIGZsb2F0OiByaWdodFxyXG59XHJcblxyXG4ucmVsYXRpb24taGVhZGVyIGgzIHtcclxuICAgIHdpZHRoOiBmaXQtY29udGVudDtcclxuICAgIG1hcmdpbi10b3A6IDBweDtcclxuICAgIGJvcmRlci1ib3R0b206IDJweCBzb2xpZCByZ2IoNjAsIDYwLCA2MCk7XHJcbn1cclxuXHJcbi50YWJsZS1idXR0b24ge1xyXG4gICAgaGVpZ2h0OiAyNXB4O1xyXG4gICAgd2lkdGg6IDI4cHg7XHJcbiAgICBmbG9hdDogcmlnaHQ7XHJcbiAgICBtYXJnaW4tcmlnaHQ6IDNweDtcclxufVxyXG4udGFibGUtYnV0dG9uIHNwYW4ge1xyXG4gICAgdG9wOiAwcHg7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG59Il0sInNvdXJjZVJvb3QiOiIifQ== */"]
  });
}
/*
Order countries by display name but move the client's country to the top of the list.
*/
function getOrderedCountryDropdownOptions(countries, clientTwoLetterCountryIsoCode, getDisplayName, getCountryIsoCode) {
  let defaultChoiceCountryCodes = [clientTwoLetterCountryIsoCode];
  if (clientTwoLetterCountryIsoCode == 'FI') {
    defaultChoiceCountryCodes.push('SE');
  }
  let orderedCountries = orderByStr(countries.map(x => ({
    code: getCountryIsoCode(x),
    displayName: getDisplayName(x)
  })), x => x.displayName);
  return [...orderedCountries.filter(x => defaultChoiceCountryCodes.includes(x.code)), ...orderedCountries.filter(x => !defaultChoiceCountryCodes.includes(x.code))];
}
function getOrderedCountryDropdownOptionsFromIsoCountries(countries, clientTwoLetterCountryIsoCode, userLanguage) {
  return getOrderedCountryDropdownOptions(countries, clientTwoLetterCountryIsoCode, x => x.translatedNameByLang2[userLanguage] ?? x.commonName, x => x.iso2Name);
}
function orderByStr(source, getSortKey) {
  return [...source].sort((x, y) => getSortKey(x).localeCompare(getSortKey(y)));
}

/***/ }),

/***/ 1772:
/*!******************************************************************************************!*\
  !*** ./projects/ntech-components/src/lib/kyc-answers-view/kyc-answers-view.component.ts ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   KycAnswersViewComponent: () => (/* binding */ KycAnswersViewComponent)
/* harmony export */ });
/* harmony import */ var C_Repository_BaCS_SelfContainedModules_ntech_backoffice_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 1670);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ 1699);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ 6575);



function KycAnswersViewComponent_div_0_div_1_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 9)(1, "h3");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](ctx_r1.m.titleText);
  }
}
function KycAnswersViewComponent_div_0_div_7_Template(rf, ctx) {
  if (rf & 1) {
    const _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 10)(1, "button", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵlistener"]("click", function KycAnswersViewComponent_div_0_div_7_Template_button_click_1_listener($event) {
      _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵrestoreView"](_r6);
      const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](2);
      return _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵresetView"](ctx_r5.onEdit($event));
    });
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](2, "span", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("disabled", ctx_r2.isEditDisabled());
  }
}
function KycAnswersViewComponent_div_0_ng_container_8_div_2_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div")(1, "div", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](3, "div", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const answer_r8 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](answer_r8.questionText);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](answer_r8.answerText);
  }
}
function KycAnswersViewComponent_div_0_ng_container_8_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](1, "div", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](2, KycAnswersViewComponent_div_0_ng_container_8_div_2_Template, 5, 2, "div", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngForOf", ctx_r3.m.answers);
  }
}
function KycAnswersViewComponent_div_0_ng_container_9_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](1, "div", 17)(2, "div");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](3, "-");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainerEnd"]();
  }
}
const _c0 = (a0, a1) => ({
  "glyphicon-exclamation-sign": a0,
  "glyphicon-ok": a1
});
function KycAnswersViewComponent_div_0_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](1, KycAnswersViewComponent_div_0_div_1_Template, 3, 1, "div", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](2, "div", 3)(3, "div", 4)(4, "div", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](5, "span", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](6, "div", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](7, KycAnswersViewComponent_div_0_div_7_Template, 3, 1, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](8, KycAnswersViewComponent_div_0_ng_container_8_Template, 3, 1, "ng-container", 8)(9, KycAnswersViewComponent_div_0_ng_container_9_Template, 4, 0, "ng-container", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
  }
  if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx_r0.m.titleText);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpureFunction2"](5, _c0, ctx_r0.m.isUpdateRequired, ctx_r0.m.nrOfDaysSinceAnswer <= 1));
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx_r0.m.showEditButton);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx_r0.m.hasAnswers);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", !ctx_r0.m.hasAnswers);
  }
}
class KycAnswersViewComponent {
  constructor() {}
  onEdit(evt) {
    var _this = this;
    return (0,C_Repository_BaCS_SelfContainedModules_ntech_backoffice_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      evt?.preventDefault();
      yield _this.initialData?.onEdit?.();
    })();
  }
  ngOnChanges(_) {
    var _this2 = this;
    return (0,C_Repository_BaCS_SelfContainedModules_ntech_backoffice_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      _this2.m = null;
      if (!_this2.initialData) {
        return;
      }
      let i = _this2.initialData;
      _this2.m = {
        titleText: i.titleText ? i.titleText : null,
        isUpdateRequired: i.isUpdateRequired,
        nrOfDaysSinceAnswer: i.nrOfDaysSinceAnswer,
        answers: i.answers,
        hasAnswers: i.answers != null && i.answers.length > 0,
        showEditButton: !!i.onEdit
      };
    })();
  }
  isEditDisabled() {
    return this.initialData?.isEditDisabled?.getValue() ?? false;
  }
  static #_ = this.ɵfac = function KycAnswersViewComponent_Factory(t) {
    return new (t || KycAnswersViewComponent)();
  };
  static #_2 = this.ɵcmp = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
    type: KycAnswersViewComponent,
    selectors: [["kyc-answers-view"]],
    inputs: {
      initialData: "initialData"
    },
    features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵNgOnChangesFeature"]],
    decls: 1,
    vars: 1,
    consts: [["class", "view-container", 4, "ngIf"], [1, "view-container"], ["class", "relation-header", 4, "ngIf"], [1, "editblock"], [1, "row"], [1, "col-sm-6"], [1, "glyphicon", 3, "ngClass"], ["class", "text-right", 4, "ngIf"], [4, "ngIf"], [1, "relation-header"], [1, "text-right"], [1, "n-icon-btn", "n-blue-btn", 3, "disabled", "click"], [1, "glyphicon", "glyphicon-pencil"], [1, "answers-container"], [4, "ngFor", "ngForOf"], [1, "question-text"], [1, "answer-text"], [1, "form-horizontal"]],
    template: function KycAnswersViewComponent_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](0, KycAnswersViewComponent_div_0_Template, 10, 8, "div", 0);
      }
      if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.m);
      }
    },
    dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_2__.NgClass, _angular_common__WEBPACK_IMPORTED_MODULE_2__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_2__.NgIf],
    styles: [".answers-container[_ngcontent-%COMP%] {\n    display:flex;\n    flex-direction: column;\n    gap: 10px;\n}\n\n.question-text[_ngcontent-%COMP%] {\n    margin-bottom: 5px;\n}\n\n.answer-text[_ngcontent-%COMP%] {\n    font-weight: bold;\n    border-bottom: 2px solid rgb(60,60,60);\n    padding-bottom: 2px;\n}\n\n.view-container[_ngcontent-%COMP%] {\n    display: flex;\n    flex-direction: column;\n    gap: 10px;\n}\n\n.relation-header[_ngcontent-%COMP%] {\n    display:block;\n    width:auto;    \n}\n\n.relation-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] {\n    width:-moz-fit-content;\n    width:fit-content;\n    margin-top: 0px;\n    border-bottom: 2px solid rgb(60,60,60);\n}\n\n\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3Byb2plY3RzL250ZWNoLWNvbXBvbmVudHMvc3JjL2xpYi9reWMtYW5zd2Vycy12aWV3L2t5Yy1hbnN3ZXJzLXZpZXcuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLFlBQVk7SUFDWixzQkFBc0I7SUFDdEIsU0FBUztBQUNiOztBQUVBO0lBQ0ksa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksaUJBQWlCO0lBQ2pCLHNDQUFzQztJQUN0QyxtQkFBbUI7QUFDdkI7O0FBRUE7SUFDSSxhQUFhO0lBQ2Isc0JBQXNCO0lBQ3RCLFNBQVM7QUFDYjs7QUFFQTtJQUNJLGFBQWE7SUFDYixVQUFVO0FBQ2Q7O0FBRUE7SUFDSSxzQkFBaUI7SUFBakIsaUJBQWlCO0lBQ2pCLGVBQWU7SUFDZixzQ0FBc0M7QUFDMUMiLCJzb3VyY2VzQ29udGVudCI6WyIuYW5zd2Vycy1jb250YWluZXIge1xyXG4gICAgZGlzcGxheTpmbGV4O1xyXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgIGdhcDogMTBweDtcclxufVxyXG5cclxuLnF1ZXN0aW9uLXRleHQge1xyXG4gICAgbWFyZ2luLWJvdHRvbTogNXB4O1xyXG59XHJcblxyXG4uYW5zd2VyLXRleHQge1xyXG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgICBib3JkZXItYm90dG9tOiAycHggc29saWQgcmdiKDYwLDYwLDYwKTtcclxuICAgIHBhZGRpbmctYm90dG9tOiAycHg7XHJcbn1cclxuXHJcbi52aWV3LWNvbnRhaW5lciB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgIGdhcDogMTBweDtcclxufVxyXG5cclxuLnJlbGF0aW9uLWhlYWRlciB7XHJcbiAgICBkaXNwbGF5OmJsb2NrO1xyXG4gICAgd2lkdGg6YXV0bzsgICAgXHJcbn1cclxuXHJcbi5yZWxhdGlvbi1oZWFkZXIgaDMge1xyXG4gICAgd2lkdGg6Zml0LWNvbnRlbnQ7XHJcbiAgICBtYXJnaW4tdG9wOiAwcHg7XHJcbiAgICBib3JkZXItYm90dG9tOiAycHggc29saWQgcmdiKDYwLDYwLDYwKTtcclxufVxyXG5cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */"]
  });
}

/***/ }),

/***/ 3663:
/*!**************************************************************************!*\
  !*** ./projects/ntech-components/src/lib/kyc-questions-overview-base.ts ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   KycQuestionsOverviewBase: () => (/* binding */ KycQuestionsOverviewBase)
/* harmony export */ });
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! rxjs */ 8071);

class KycQuestionsOverviewBase {
  constructor() {
    this.languages = [{
      code: 'sv',
      name: 'Svenska'
    }, {
      code: 'fi',
      name: 'Suomi'
    }];
    this.staticTranslations = {
      explanationText: {
        sv: 'För att få behålla dig som kund måste vi ha uppdaterad information om dig och ditt engagemang. Därför är det viktigt att du besvarar och uppdaterar alla frågor med aktuell information.',
        fi: 'Jotta voimme säilyttää sinut asiakkaanamme, meidän täytyy olla päivitettyä tietoa sinusta ja sitoutumisestasi. Siksi on tärkeää, että vastaat ja päivität kaikki kysymykset ajantasaisilla tiedoilla.'
      },
      explanationTextUpdate: {
        sv: 'Du behöver uppdatera din KYC-information (Know your customer). Det är viktigt för oss att ha aktuell information om dig och hur du använder våra tjänster, så att vi kan ge dig bästa möjliga kundupplevelse och uppfylla våra lagstadgade skyldigheter.',
        fi: 'Asiakkaan tuntemisen tietosi (KYC - Know your customer) tulisi päivittää. Meille on tärkeää tuntea sinut ja kuinka käytät palveluitamme, jotta voimme palvella sinua parhaalla mahdollisella tavalla ja voidaksemme täyttää lain meille asettamat velvollisuudet.'
      },
      language: {
        sv: 'Språk',
        fi: 'Kieli'
      },
      back: {
        sv: 'Tillbaka',
        fi: 'Takaisin'
      },
      loanTitle: {
        sv: 'Lån',
        fi: 'Luotto'
      },
      savingsTitle: {
        sv: 'Sparkonton',
        fi: 'Säästötili'
      },
      kyc: {
        sv: 'Kundkännedom',
        fi: 'Asiakkaan tuntemus'
      }
    };
    this.language = new rxjs__WEBPACK_IMPORTED_MODULE_0__.BehaviorSubject('sv');
  }
  setup(clientCountry, language) {
    if (clientCountry === 'FI') {
      this.languages = [{
        code: 'fi',
        name: 'Suomi'
      }, {
        code: 'sv',
        name: 'Svenska'
      }];
    } else {
      this.languages = [{
        code: 'sv',
        name: 'Svenska'
      }];
    }
    if (language && this.languages.find(x => x.code === language)) {
      this.language.next(language);
    } else {
      this.language.next(this.languages[0].code);
    }
  }
  getRelationTypeTranslationKey(relationType) {
    if (relationType === 'Credit_UnsecuredLoan') {
      return 'unsecuredLoan';
    } else if (relationType === 'SavingsAccount_StandardAccount') {
      return 'savingsAccount';
    } else {
      return relationType;
    }
  }
  getQuestionOptionFormKey(question, option) {
    return `${question.key}_${option.value}`;
  }
  getTranslation(translations) {
    if (!translations) {
      return '';
    }
    let preferredTranslation = translations[this.language.value];
    if (preferredTranslation) {
      return preferredTranslation;
    } else {
      let availableTranslations = Object.keys(translations);
      if (availableTranslations.length > 0) {
        return translations[availableTranslations[0]];
      } else {
        return '';
      }
    }
  }
  getStaticTranslation(key) {
    return this.getTranslation(this.staticTranslations[key]) || key;
  }
  onLanguageChanged(evt) {
    this.language.next(evt.target.value);
  }
}

/***/ }),

/***/ 417:
/*!**********************************************************************************************************!*\
  !*** ./projects/ntech-components/src/lib/ml-se-amortization-basis/ml-se-amortization-basis.component.ts ***!
  \**********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   MlSeAmortizationBasisComponent: () => (/* binding */ MlSeAmortizationBasisComponent)
/* harmony export */ });
/* harmony import */ var C_Repository_BaCS_SelfContainedModules_ntech_backoffice_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js */ 1670);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ 1699);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ 6575);



function MlSeAmortizationBasisComponent_div_0_ng_container_19_span_4_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](1, "(*)");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
}
function MlSeAmortizationBasisComponent_div_0_ng_container_19_tr_13_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "tr");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](1, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](2, "td", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](4, "currency");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](5, "td")(6, "td", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
  }
  if (rf & 2) {
    const loan_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](4, 1, loan_r2.maxCapitalBalanceAmount));
  }
}
function MlSeAmortizationBasisComponent_div_0_ng_container_19_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](1, "tr")(2, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](4, MlSeAmortizationBasisComponent_div_0_ng_container_19_span_4_Template, 2, 0, "span", 0);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](5, "td", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](7, "currency");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](8, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](9);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](10, "td", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](11);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](12, "currency");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](13, MlSeAmortizationBasisComponent_div_0_ng_container_19_tr_13_Template, 7, 3, "tr", 0);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementContainerEnd"]();
  }
  if (rf & 2) {
    const loan_r2 = ctx.$implicit;
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"]("", loan_r2.creditNr, " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx_r1.m.highlightCreditNr === loan_r2.creditNr);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](7, 6, loan_r2.currentCapitalBalanceAmount));
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](ctx_r1.getRuleDescription(loan_r2));
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](12, 8, loan_r2.monthlyAmortizationAmount));
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx_r1.isSecondLoanRowNeeded(loan_r2));
  }
}
function MlSeAmortizationBasisComponent_div_0_Template(rf, ctx) {
  if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](0, "div")(1, "h2");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](3, "date");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](4, "h3");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](6, "div", 1)(7, "table", 2)(8, "thead")(9, "tr")(10, "th", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](11, "L\u00E5n");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](12, "th", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](13, "Aktuell skuld / max");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](14, "th", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](15, "Regel");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](16, "th", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](17, "Amortering");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](18, "tbody");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](19, MlSeAmortizationBasisComponent_div_0_ng_container_19_Template, 14, 10, "ng-container", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](20, "div", 1)(21, "table", 8)(22, "thead");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelement"](23, "th", 9)(24, "th", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](25, "tbody")(26, "tr")(27, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](28, "V\u00E4rdering");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](29, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](30);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](31, "currency");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](32, "tr")(33, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](34, "V\u00E4rderingsdatum");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](35, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](36);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](37, "date");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](38, "tr")(39, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](40, "\u00C5rsinkomst");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](41, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](42);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](43, "currency");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](44, "tr")(45, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](46, "Bol\u00E5n p\u00E5 andra s\u00E4kerheter");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](47, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](48);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](49, "currency");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](50, "tr")(51, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](52, "LTV (bel\u00E5ningsgrad)");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](53, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](54);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](55, "percent");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](56, "tr")(57, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](58, "LTI (skuldkvot)");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](59, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](60);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](61, "number");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](62, "tr")(63, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](64, "Skuld som inte omfattas av amorteringskrav");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](65, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](66);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](67, "currency");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](68, "tr")(69, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](70, "Skuld som omfattas av amorteringskrav");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](71, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](72);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](73, "currency");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](74, "tr")(75, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](76, "Skuld som omfattas av sk\u00E4rpt amorteringskrav");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](77, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](78);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](79, "currency");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](80, "tr")(81, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](82, "Varav alternativregeln");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](83, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](84);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](85, "currency");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](86, "tr")(87, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](88, "Total amortering p\u00E5 objektet");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](89, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](90);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](91, "currency");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](92, "tr")(93, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](94, "Totalt amorteringskrav enl. huvudregeln");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](95, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](96);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](97, "currency");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](98, "tr")(99, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](100, "Totalt amorteringskrav enl. alternativregeln");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementStart"](101, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtext"](102);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipe"](103, "currency");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵelementEnd"]()()()()()();
  }
  if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"]("Amorteringsgrund per ", _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind2"](3, 16, ctx_r0.m.balanceDate, "shortDate"), "");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate1"]("Objektet: ", ctx_r0.m.propertyIdWithLabel, "");
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](14);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngForOf", ctx_r0.m.basis.loans);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](11);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](31, 19, ctx_r0.m.basis.objectValue));
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind2"](37, 21, ctx_r0.m.basis.objectValueDate, "shortDate"));
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](43, 24, ctx_r0.m.basis.currentCombinedYearlyIncomeAmount));
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](49, 26, ctx_r0.m.basis.otherMortageLoansAmount));
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](55, 28, ctx_r0.m.basis.ltvFraction));
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](61, 30, ctx_r0.m.basis.ltiFraction));
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](67, 32, ctx_r0.m.underlag.skuldEjOmfattasAmorteringskrav));
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](73, 34, ctx_r0.m.underlag.skuldOmfattasAmorteringskrav));
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](79, 36, ctx_r0.m.underlag.skuldOmfattasSkarptAmorteringskrav));
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](85, 38, ctx_r0.m.underlag.varavOvanAlternativRegeln));
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](91, 40, ctx_r0.m.underlag.totalAmorteringObjektet));
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](97, 42, ctx_r0.m.underlag.totalAmorteringKravObjektetBankenHuvud));
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵadvance"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵpipeBind1"](103, 44, ctx_r0.m.underlag.totalAmorteringKravObjektetBankenAlternativ));
  }
}
class MlSeAmortizationBasisComponent {
  constructor() {}
  ngOnInit() {}
  ngOnChanges(changes) {
    var _this = this;
    return (0,C_Repository_BaCS_SelfContainedModules_ntech_backoffice_ui_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__["default"])(function* () {
      _this.m = null;
      if (!_this.initialData) {
        return;
      }
      let basis = _this.initialData.basis;
      _this.m = {
        highlightCreditNr: _this.initialData.highlightCreditNr,
        balanceDate: basis.balanceDate,
        propertyIdWithLabel: basis.propertyIdWithLabel,
        basis: basis.amortizationBasis,
        underlag: basis.amorteringsunderlag
      };
    })();
  }
  getRuleDescription(loan) {
    let d = '';
    d += (() => {
      switch (loan.ruleCode) {
        case 'r201616':
          return 'Amorteringskrav';
        case 'r201723':
          return 'Skärpt amorteringskrav';
        case 'none':
          return 'Inget amorteringskrav';
        default:
          return loan.ruleCode;
      }
    })();
    if (loan.isUsingAlternateRule) {
      d += ' + Alternativregeln';
    }
    return d;
  }
  isSecondLoanRowNeeded(loan) {
    return loan.currentCapitalBalanceAmount !== loan.maxCapitalBalanceAmount;
  }
  static #_ = this.ɵfac = function MlSeAmortizationBasisComponent_Factory(t) {
    return new (t || MlSeAmortizationBasisComponent)();
  };
  static #_2 = this.ɵcmp = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineComponent"]({
    type: MlSeAmortizationBasisComponent,
    selectors: [["ml-se-amortization-basis"]],
    inputs: {
      initialData: "initialData"
    },
    features: [_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵNgOnChangesFeature"]],
    decls: 1,
    vars: 1,
    consts: [[4, "ngIf"], [1, "pt-3"], [1, "table"], [1, "col-xs-1"], [1, "col-xs-3", "text-right"], [1, "col-xs-5"], [1, "col-xs-2", "text-right"], [4, "ngFor", "ngForOf"], [1, "table", "table-striped"], [1, "col-sm-8"], [1, "col-sm-4"], [1, "text-right"]],
    template: function MlSeAmortizationBasisComponent_Template(rf, ctx) {
      if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵtemplate"](0, MlSeAmortizationBasisComponent_div_0_Template, 104, 46, "div", 0);
      }
      if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵproperty"]("ngIf", ctx.m);
      }
    },
    dependencies: [_angular_common__WEBPACK_IMPORTED_MODULE_2__.NgForOf, _angular_common__WEBPACK_IMPORTED_MODULE_2__.NgIf, _angular_common__WEBPACK_IMPORTED_MODULE_2__.DecimalPipe, _angular_common__WEBPACK_IMPORTED_MODULE_2__.PercentPipe, _angular_common__WEBPACK_IMPORTED_MODULE_2__.CurrencyPipe, _angular_common__WEBPACK_IMPORTED_MODULE_2__.DatePipe],
    encapsulation: 2
  });
}

/***/ }),

/***/ 9968:
/*!**********************************************************************!*\
  !*** ./projects/ntech-components/src/lib/ntech-components.module.ts ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   NtechComponentsModule: () => (/* binding */ NtechComponentsModule)
/* harmony export */ });
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/common */ 6575);
/* harmony import */ var _ml_se_amortization_basis_ml_se_amortization_basis_component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ml-se-amortization-basis/ml-se-amortization-basis.component */ 417);
/* harmony import */ var _kyc_answers_view_kyc_answers_view_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./kyc-answers-view/kyc-answers-view.component */ 1772);
/* harmony import */ var _kyc_answers_editor_kyc_answers_editor_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./kyc-answers-editor/kyc-answers-editor.component */ 4299);
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/forms */ 8849);
/* harmony import */ var _kreditz_datashare_iframe_kreditz_datashare_iframe_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./kreditz-datashare-iframe/kreditz-datashare-iframe.component */ 3818);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/core */ 1699);







class NtechComponentsModule {
  static #_ = this.ɵfac = function NtechComponentsModule_Factory(t) {
    return new (t || NtechComponentsModule)();
  };
  static #_2 = this.ɵmod = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵdefineNgModule"]({
    type: NtechComponentsModule
  });
  static #_3 = this.ɵinj = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵdefineInjector"]({
    imports: [_angular_common__WEBPACK_IMPORTED_MODULE_5__.CommonModule, _angular_forms__WEBPACK_IMPORTED_MODULE_6__.FormsModule, _angular_forms__WEBPACK_IMPORTED_MODULE_6__.ReactiveFormsModule]
  });
}
(function () {
  (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_4__["ɵɵsetNgModuleScope"](NtechComponentsModule, {
    declarations: [_ml_se_amortization_basis_ml_se_amortization_basis_component__WEBPACK_IMPORTED_MODULE_0__.MlSeAmortizationBasisComponent, _kyc_answers_view_kyc_answers_view_component__WEBPACK_IMPORTED_MODULE_1__.KycAnswersViewComponent, _kyc_answers_editor_kyc_answers_editor_component__WEBPACK_IMPORTED_MODULE_2__.KycAnswersEditorComponent, _kreditz_datashare_iframe_kreditz_datashare_iframe_component__WEBPACK_IMPORTED_MODULE_3__.KreditzDatashareIframeComponent],
    imports: [_angular_common__WEBPACK_IMPORTED_MODULE_5__.CommonModule, _angular_forms__WEBPACK_IMPORTED_MODULE_6__.FormsModule, _angular_forms__WEBPACK_IMPORTED_MODULE_6__.ReactiveFormsModule],
    exports: [_ml_se_amortization_basis_ml_se_amortization_basis_component__WEBPACK_IMPORTED_MODULE_0__.MlSeAmortizationBasisComponent, _kyc_answers_view_kyc_answers_view_component__WEBPACK_IMPORTED_MODULE_1__.KycAnswersViewComponent, _kyc_answers_editor_kyc_answers_editor_component__WEBPACK_IMPORTED_MODULE_2__.KycAnswersEditorComponent, _kreditz_datashare_iframe_kreditz_datashare_iframe_component__WEBPACK_IMPORTED_MODULE_3__.KreditzDatashareIframeComponent]
  });
})();

/***/ }),

/***/ 3044:
/*!*****************************************************!*\
  !*** ./projects/ntech-components/src/public-api.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   KycAnswersEditorComponent: () => (/* reexport safe */ _lib_kyc_answers_editor_kyc_answers_editor_component__WEBPACK_IMPORTED_MODULE_2__.KycAnswersEditorComponent),
/* harmony export */   KycAnswersViewComponent: () => (/* reexport safe */ _lib_kyc_answers_view_kyc_answers_view_component__WEBPACK_IMPORTED_MODULE_1__.KycAnswersViewComponent),
/* harmony export */   KycQuestionsOverviewBase: () => (/* reexport safe */ _lib_kyc_questions_overview_base__WEBPACK_IMPORTED_MODULE_3__.KycQuestionsOverviewBase),
/* harmony export */   MlSeAmortizationBasisComponent: () => (/* reexport safe */ _lib_ml_se_amortization_basis_ml_se_amortization_basis_component__WEBPACK_IMPORTED_MODULE_0__.MlSeAmortizationBasisComponent),
/* harmony export */   NtechComponentsModule: () => (/* reexport safe */ _lib_ntech_components_module__WEBPACK_IMPORTED_MODULE_4__.NtechComponentsModule),
/* harmony export */   getOrderedCountryDropdownOptions: () => (/* reexport safe */ _lib_kyc_answers_editor_kyc_answers_editor_component__WEBPACK_IMPORTED_MODULE_2__.getOrderedCountryDropdownOptions),
/* harmony export */   getOrderedCountryDropdownOptionsFromIsoCountries: () => (/* reexport safe */ _lib_kyc_answers_editor_kyc_answers_editor_component__WEBPACK_IMPORTED_MODULE_2__.getOrderedCountryDropdownOptionsFromIsoCountries)
/* harmony export */ });
/* harmony import */ var _lib_ml_se_amortization_basis_ml_se_amortization_basis_component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./lib/ml-se-amortization-basis/ml-se-amortization-basis.component */ 417);
/* harmony import */ var _lib_kyc_answers_view_kyc_answers_view_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./lib/kyc-answers-view/kyc-answers-view.component */ 1772);
/* harmony import */ var _lib_kyc_answers_editor_kyc_answers_editor_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./lib/kyc-answers-editor/kyc-answers-editor.component */ 4299);
/* harmony import */ var _lib_kyc_questions_overview_base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./lib/kyc-questions-overview-base */ 3663);
/* harmony import */ var _lib_ntech_components_module__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./lib/ntech-components.module */ 9968);
/*
 * Public API Surface of ntech-components
 */






/***/ }),

/***/ 9375:
/*!******************************************************!*\
  !*** ./src/app/common-components/pipes/join.pipe.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   JoinPipe: () => (/* binding */ JoinPipe)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ 1699);

class JoinPipe {
  /**
   * Ex. HouseHildChildren | join:', ':'AgeInYears
   * Above will yield a commaseparated list with the parameters AgeInYears
   * @param input an array with ex. strings, or objects
   * @param separator the separator, ex ', '
   * @param parameterName if array of objects, the name of the parameter to print, ex. 'AgeInYears'
   * @returns
   */
  transform(input, separator, parameterName) {
    if (parameterName) return input.map(obj => obj[parameterName]).join(separator);
    return input.join(separator);
  }
  static #_ = this.ɵfac = function JoinPipe_Factory(t) {
    return new (t || JoinPipe)();
  };
  static #_2 = this.ɵpipe = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefinePipe"]({
    name: "join",
    type: JoinPipe,
    pure: true
  });
}

/***/ }),

/***/ 1838:
/*!*************************************************************!*\
  !*** ./src/app/common-services/complex-application-list.ts ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ComplexApplicationList: () => (/* binding */ ComplexApplicationList),
/* harmony export */   ComplexApplicationListRow: () => (/* binding */ ComplexApplicationListRow)
/* harmony export */ });
/* harmony import */ var _common_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../common.types */ 198);

class ComplexApplicationList {
  constructor(listName, flattendItems) {
    this.listName = listName;
    this.rows = {};
    let itemsByNr = (0,_common_types__WEBPACK_IMPORTED_MODULE_0__.groupByNumber)(flattendItems, x => x.Nr);
    for (let nr of (0,_common_types__WEBPACK_IMPORTED_MODULE_0__.getNumberDictionaryKeys)(itemsByNr)) {
      this.rows[nr] = new ComplexApplicationListRow(listName, nr, itemsByNr[nr]);
    }
  }
  static createListsFromFlattenedItems(items) {
    let itemsByListName = (0,_common_types__WEBPACK_IMPORTED_MODULE_0__.groupByString)(items, x => x.ListName);
    let result = {};
    for (let listName of Object.keys(itemsByListName)) {
      result[listName] = new ComplexApplicationList(listName, itemsByListName[listName]);
    }
    return result;
  }
  static createListFromFlattenedItems(listName, items) {
    let lists = ComplexApplicationList.createListsFromFlattenedItems(items);
    let count = Object.keys(lists).length;
    if (count == 0) {
      return new ComplexApplicationList(listName, []);
    } else if (count > 1) {
      throw new Error('Expected items from exactly one list');
    } else if (!lists[listName]) {
      throw new Error('Expected items from only the list ' + listName);
    } else {
      return lists[listName];
    }
  }
  getRow(nr, emptyRowOnNotExists) {
    let actualRow = this.rows[nr];
    return actualRow ? actualRow : emptyRowOnNotExists ? new ComplexApplicationListRow(this.listName, nr, []) : null;
  }
  getRowNumbers() {
    let rowNrs = (0,_common_types__WEBPACK_IMPORTED_MODULE_0__.getNumberDictionaryKeys)(this.rows);
    rowNrs.sort((a, b) => a - b);
    return rowNrs;
  }
}
class ComplexApplicationListRow {
  constructor(listName, nr, flattendItems) {
    this.listName = listName;
    this.nr = nr;
    this.uniqueItems = {};
    this.repeatedItems = {};
    for (let item of flattendItems) {
      if (item.IsRepeatable) {
        if (!this.repeatedItems[item.ItemName]) {
          this.repeatedItems[item.ItemName] = [];
        }
        this.repeatedItems[item.ItemName].push(item.ItemValue);
      } else {
        this.uniqueItems[item.ItemName] = item.ItemValue;
      }
    }
  }
  getUniqueItemNames() {
    return Object.keys(this.uniqueItems ?? {});
  }
  getUniqueItem(itemName) {
    return this.uniqueItems[itemName];
  }
  getUniqueItemBoolean(itemName) {
    let rawValue = (0,_common_types__WEBPACK_IMPORTED_MODULE_0__.getFromDictionary)(this.uniqueItems, itemName, null);
    if (rawValue === 'true') {
      return true;
    } else if (rawValue === 'false') {
      return false;
    } else {
      return null;
    }
  }
  getUniqueItemInteger(itemName) {
    let rawValue = (0,_common_types__WEBPACK_IMPORTED_MODULE_0__.getFromDictionary)(this.uniqueItems, itemName, null);
    if (rawValue == null) {
      return null;
    }
    return parseInt(rawValue);
  }
  getUniqueItemDecimal(itemName) {
    let rawValue = (0,_common_types__WEBPACK_IMPORTED_MODULE_0__.getFromDictionary)(this.uniqueItems, itemName, null);
    if (rawValue == null) {
      return null;
    }
    return parseFloat(rawValue);
  }
  getRepeatedItems(itemName) {
    return this.repeatedItems[itemName] || [];
  }
  static fromDictionary(listName, nr, uniqueValues) {
    let items = uniqueValues ? Object.keys(uniqueValues).map(x => {
      return {
        ListName: listName,
        Nr: nr,
        ItemName: x,
        ItemValue: uniqueValues[x],
        IsRepeatable: false
      };
    }) : [];
    return new ComplexApplicationListRow(listName, nr, items);
  }
}

/***/ }),

/***/ 9094:
/*!***********************************************************************!*\
  !*** ./src/app/common-services/effective-interest-rate.calculator.ts ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   EffectiveInterestRateCalculation: () => (/* binding */ EffectiveInterestRateCalculation),
/* harmony export */   computeSingleNotificationEffectiveInterestRate: () => (/* binding */ computeSingleNotificationEffectiveInterestRate)
/* harmony export */ });
/* harmony import */ var _common_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../common.types */ 198);
/* harmony import */ var _ntech_math__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ntech.math */ 3319);


function computeSingleNotificationEffectiveInterestRate(effectiveInterestRateRoundToDigits, initialPaidToCustomerAmount, singleNotificationAmount, repaymentTimeInDays) {
  try {
    //X = (D / K) ^ (1 / s) - 1
    var fraction = Math.pow(singleNotificationAmount / initialPaidToCustomerAmount, 365 / repaymentTimeInDays) - 1;
    return new _common_types__WEBPACK_IMPORTED_MODULE_0__.NullableNumber(_ntech_math__WEBPACK_IMPORTED_MODULE_1__.NTechMath.roundToPlaces(100 * fraction, effectiveInterestRateRoundToDigits));
  } catch {
    return null;
  }
}
class EffectiveInterestRateCalculation {
  constructor(effectiveInterestRateRoundToDigits) {
    this.effectiveInterestRateRoundToDigits = effectiveInterestRateRoundToDigits;
    this.loans = [];
    this.payments = [];
  }
  getTimeFromMonthNr(monthNr) {
    if (monthNr <= Number.EPSILON) {
      throw new Error('monthNr should start at 1');
    }
    return monthNr / 12;
  }
  addAdditionalLoan(amount, monthNr) {
    this.loans.push([amount, this.getTimeFromMonthNr(monthNr)]);
  }
  addInitialLoan(amount) {
    this.loans.push([amount, 0]);
  }
  addPayment(amount, monthNr) {
    this.payments.push([amount, this.getTimeFromMonthNr(monthNr)]);
  }
  calculate() {
    if (this.loans.length == 1 && this.payments.length == 1 && _ntech_math__WEBPACK_IMPORTED_MODULE_1__.NTechMath.equals(this.loans[0][0], this.payments[0][0])) {
      //This really has not rate as the customer is actually making money here so if anything it should be negative but zero
      //seems way less likely to cause issues in practice.
      return new _common_types__WEBPACK_IMPORTED_MODULE_0__.NullableNumber(0);
    }
    //See: https://sv.wikipedia.org/wiki/Effektiv_r%C3%A4nta
    let f = x => {
      let sum = 0;
      for (let loan of this.loans) {
        sum += loan[0] * Math.pow(1 + x, -loan[1]);
      }
      for (let payment of this.payments) {
        sum -= payment[0] * Math.pow(1 + x, -payment[1]);
      }
      return sum;
    };
    let root = this.findRootUsingBrentsMethod(f, 0, 100000, 1e-8);
    if (!root) {
      return null;
    }
    let rate = _ntech_math__WEBPACK_IMPORTED_MODULE_1__.NTechMath.roundToPlaces(root.value * 100, this.effectiveInterestRateRoundToDigits);
    return new _common_types__WEBPACK_IMPORTED_MODULE_0__.NullableNumber(rate);
  }
  findRootUsingBrentsMethod(f, left, right, tolerance) {
    let iterationsUsed = 0;
    //@ts-ignore TODO remove unused locals
    let errorEstimate;
    let maxIterations = 75;
    if (tolerance <= 0.0 + Number.EPSILON) {
      throw new Error('Tolerance must be positive');
    }
    errorEstimate = Number.MAX_SAFE_INTEGER;
    // Implementation and notation based on Chapter 4 in
    // "Algorithms for Minimization without Derivatives"
    // by Richard Brent.
    let c, d, e, fa, fb, fc, tol, m, p, q, r, s;
    // set up aliases to match Brent's notation
    let a = left;
    let b = right;
    let t = tolerance;
    iterationsUsed = 0;
    fa = f(a);
    fb = f(b);
    if (fa * fb + Number.EPSILON > 0.0) {
      return null;
    }
    let skipInt = false;
    while (true) {
      if (!skipInt) {
        c = a;
        fc = fa;
        d = e = b - a;
      }
      if (Math.abs(fc) < Math.abs(fb) + Number.EPSILON) {
        a = b;
        b = c;
        c = a;
        fa = fb;
        fb = fc;
        fc = fa;
      }
      iterationsUsed++;
      tol = 2.0 * t * Math.abs(b) + t;
      errorEstimate = m = 0.5 * (c - b);
      if (Math.abs(m) + Number.EPSILON > tol && !_ntech_math__WEBPACK_IMPORTED_MODULE_1__.NTechMath.equals(fb, 0.0)) {
        // exact comparison with 0 is OK here
        // See if bisection is forced
        if (Math.abs(e) < tol + Number.EPSILON || Math.abs(fa) <= Math.abs(fb) + Number.EPSILON) {
          d = e = m;
        } else {
          s = fb / fa;
          if (_ntech_math__WEBPACK_IMPORTED_MODULE_1__.NTechMath.equals(a, c)) {
            // linear interpolation
            p = 2.0 * m * s;
            q = 1.0 - s;
          } else {
            // Inverse quadratic interpolation
            q = fa / fc;
            r = fb / fc;
            p = s * (2.0 * m * q * (q - r) - (b - a) * (r - 1.0));
            q = (q - 1.0) * (r - 1.0) * (s - 1.0);
          }
          if (p + Number.EPSILON > 0.0) q = -q;else p = -p;
          s = e;
          e = d;
          if (2.0 * p < 3.0 * m * q - Math.abs(tol * q) + Number.EPSILON && p < Math.abs(0.5 * s * q) + Number.EPSILON) d = p / q;else d = e = m;
        }
        a = b;
        fa = fb;
        if (Math.abs(d) + Number.EPSILON > tol) b += d;else if (m + Number.EPSILON > 0.0) b += tol;else b -= tol;
        if (iterationsUsed == maxIterations) return null;
        fb = f(b);
        if (fb + Number.EPSILON > 0.0 && fc + Number.EPSILON > 0.0 || fb <= 0.0 + Number.EPSILON && fc <= 0.0 + Number.EPSILON) skipInt = false;else skipInt = true;
      } else return new _common_types__WEBPACK_IMPORTED_MODULE_0__.NullableNumber(b);
    }
  }
}

/***/ }),

/***/ 6851:
/*!*******************************************************!*\
  !*** ./src/app/common-services/loader.interceptor.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   LoaderInterceptor: () => (/* binding */ LoaderInterceptor),
/* harmony export */   LoaderInterceptorBase: () => (/* binding */ LoaderInterceptorBase),
/* harmony export */   LoaderInterceptorSkipHeader: () => (/* binding */ LoaderInterceptorSkipHeader)
/* harmony export */ });
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common/http */ 4860);
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ 2235);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ 1699);
/* harmony import */ var _ntech_event_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ntech-event.service */ 2224);




/*


*/
/*
https://github.com/angular/angular/issues/18155
The fact that you cant pass custom data in request options is so sad.
 */
const LoaderInterceptorSkipHeader = 'X-NTech-Skip-Loader';
class LoaderInterceptorBase {
  constructor() {
    //NOTE: Dont put a constructor here since this is shared with customer pages which has a different set of injected services
    this.requests = [];
  }
  removeRequest(req) {
    const i = this.requests.indexOf(req);
    if (i >= 0) {
      this.requests.splice(i, 1);
    }
    this.isLoadingSubject().next(this.requests.length > 0);
  }
  intercept(req, next) {
    if (req.headers.has(LoaderInterceptorSkipHeader)) {
      const headers = req.headers.delete(LoaderInterceptorSkipHeader);
      return next.handle(req.clone({
        headers
      }));
    } else {
      this.requests.push(req);
      this.isLoadingSubject().next(true);
      return new rxjs__WEBPACK_IMPORTED_MODULE_1__.Observable(observer => {
        const subscription = next.handle(req).subscribe(event => {
          if (event instanceof _angular_common_http__WEBPACK_IMPORTED_MODULE_2__.HttpResponse) {
            this.removeRequest(req);
            observer.next(event);
          }
        }, err => {
          this.removeRequest(req);
          observer.error(err);
        }, () => {
          this.removeRequest(req);
          observer.complete();
        });
        return () => {
          this.removeRequest(req);
          subscription.unsubscribe();
        };
      });
    }
  }
}
class LoaderInterceptor extends LoaderInterceptorBase {
  constructor(eventService) {
    super();
    this.eventService = eventService;
  }
  isLoadingSubject() {
    return this.eventService.isLoading;
  }
  static #_ = this.ɵfac = function LoaderInterceptor_Factory(t) {
    return new (t || LoaderInterceptor)(_angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵinject"](_ntech_event_service__WEBPACK_IMPORTED_MODULE_0__.NtechEventService));
  };
  static #_2 = this.ɵprov = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵdefineInjectable"]({
    token: LoaderInterceptor,
    factory: LoaderInterceptor.ɵfac
  });
}

/***/ }),

/***/ 3136:
/*!**********************************************************!*\
  !*** ./src/app/common-services/ml-standard-functions.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   createMortgagePropertyIdFromCollateralItems: () => (/* binding */ createMortgagePropertyIdFromCollateralItems)
/* harmony export */ });
function createMortgagePropertyIdFromCollateralItems(getCollateralItem, includeObjectTypeLabel) {
  let v = n => getCollateralItem(n) ?? `Missing ${n}`;
  let createRawId = () => {
    if (v('objectTypeCode') === 'seBrf') {
      return `${v('objectAddressMunicipality')} ${v('seBrfName')} ${v('seBrfApartmentNr')}`;
    } else if (v('objectTypeCode') === 'seFastighet') {
      return v('objectId');
    } else {
      return v('objectTypeCode');
    }
  };
  let propertyId = createRawId();
  if (includeObjectTypeLabel) {
    return getCollateralItem('objectTypeCode') === 'seBrf' ? `BRF: ${propertyId}` : propertyId;
  } else {
    return propertyId;
  }
}

/***/ }),

/***/ 2224:
/*!********************************************************!*\
  !*** ./src/app/common-services/ntech-event.service.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   ApplicationEvent: () => (/* binding */ ApplicationEvent),
/* harmony export */   NtechEventService: () => (/* binding */ NtechEventService),
/* harmony export */   NtechEventServiceBase: () => (/* binding */ NtechEventServiceBase),
/* harmony export */   ReloadApplicationAndClosePopupEventName: () => (/* binding */ ReloadApplicationAndClosePopupEventName),
/* harmony export */   ReloadApplicationEventName: () => (/* binding */ ReloadApplicationEventName),
/* harmony export */   ReloadCreditCommentsEventName: () => (/* binding */ ReloadCreditCommentsEventName),
/* harmony export */   UpdateToggleBlock: () => (/* binding */ UpdateToggleBlock)
/* harmony export */ });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ 1699);
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ 8071);
/* harmony import */ var _common_types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../common.types */ 198);




class NtechEventServiceBase {
  constructor() {
    //NOTE: Dont put a constructor here since this is shared with customer pages which has a different set of injected services
    this.isLoading = new rxjs__WEBPACK_IMPORTED_MODULE_1__.BehaviorSubject(false);
    this.applicationEvents = new _angular_core__WEBPACK_IMPORTED_MODULE_2__.EventEmitter();
  }
  emitApplicationEvent(eventCode, customData, context) {
    this.applicationEvents.emit(new ApplicationEvent(eventCode, customData, context));
  }
  generateDialogId() {
    return (0,_common_types__WEBPACK_IMPORTED_MODULE_0__.generateUniqueId)(10);
  }
  signalReloadApplication(applicationNr) {
    this.applicationEvents.emit(new ApplicationEvent(ReloadApplicationEventName, applicationNr));
  }
  signalReloadApplicationAndClosePopup(applicationNr) {
    this.applicationEvents.emit(new ApplicationEvent(ReloadApplicationAndClosePopupEventName, applicationNr));
  }
  signalUpdateToggleBlock(toggleBlockId, updates) {
    this.applicationEvents.emit(new ApplicationEvent(UpdateToggleBlock, {
      toggleBlockId,
      newTitle: updates?.newTitle
    }));
  }
  signalReloadCreditComments(creditNr) {
    this.applicationEvents.emit(new ApplicationEvent(ReloadCreditCommentsEventName, creditNr));
  }
}
const ReloadApplicationAndClosePopupEventName = 'ReloadUnsecuredLoanApplicationAndClosePopup';
const ReloadApplicationEventName = 'ReloadUnsecuredLoanApplication';
const UpdateToggleBlock = 'UpdateToggleBlock';
const ReloadCreditCommentsEventName = 'ReloadCreditComments';
class NtechEventService extends NtechEventServiceBase {
  constructor() {
    super();
  }
  setCustomPageTitle(title, browserTitle) {
    this.applicationEvents.emit(new ApplicationEvent('setCustomPageTitle', {
      title: title,
      browserTitle: browserTitle
    }));
  }
  setApplicationNr(applicationNr) {
    this.applicationEvents.emit(new ApplicationEvent('setApplicationNr', {
      applicationNr: applicationNr
    }));
  }
  static #_ = this.ɵfac = function NtechEventService_Factory(t) {
    return new (t || NtechEventService)();
  };
  static #_2 = this.ɵprov = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_2__["ɵɵdefineInjectable"]({
    token: NtechEventService,
    factory: NtechEventService.ɵfac,
    providedIn: 'root'
  });
}
class ApplicationEvent {
  constructor(eventCode, customData, context) {
    this.eventCode = eventCode;
    this.customData = customData;
    this.context = context;
  }
  isReloadApplicationEvent() {
    return this.eventCode === ReloadApplicationEventName;
  }
  isReloadApplicationAndClosePopupEvent() {
    return this.eventCode === ReloadApplicationAndClosePopupEventName;
  }
}

/***/ }),

/***/ 7093:
/*!*******************************************************!*\
  !*** ./src/app/common-services/ntech-forms-helper.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   FormsHelper: () => (/* binding */ FormsHelper)
/* harmony export */ });
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/forms */ 8849);
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ 4980);
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs/operators */ 9736);



/**
 * Internal form handling using reactive forms.
 */
class FormsHelper {
  constructor(form) {
    this.form = form;
  }
  getFormControl(groupName, controlName) {
    if (!this.form) {
      return null;
    }
    return groupName ? this.form?.get(groupName)?.get(controlName) : this.form?.get(controlName);
  }
  hasFormControl(groupName, controlName) {
    return !!this.getFormControl(groupName, controlName);
  }
  getValue(controlName) {
    let control = this.getFormControl(null, controlName);
    return control?.value;
  }
  setValue(controlName, value) {
    let control = this.getFormControl(null, controlName);
    return control?.setValue(value);
  }
  setValue2(groupName, controlName, value) {
    let control = this.getFormControl(groupName, controlName);
    return control?.setValue(value);
  }
  getFormGroupValue(groupName, controlName) {
    let control = this.getFormControl(groupName, controlName);
    return control?.value;
  }
  getFormGroupValue2(groupName1, groupName2, controlName) {
    let group2 = this.getFormControl(groupName1, groupName2);
    return group2?.get(controlName)?.value;
  }
  hasError(controlName, groupName) {
    let control = this.getFormControl(groupName, controlName);
    return control && control.invalid && control.dirty;
  }
  hasAnyError(controlName, formValidationErrorName, groupName) {
    let control = this.getFormControl(groupName, controlName);
    return this.hasError(controlName, groupName) || this.hasNamedValidationError(formValidationErrorName) && control.dirty;
  }
  hasErrorStrict(controlName, groupName) {
    let control = this.getFormControl(groupName, controlName);
    return control && control.invalid;
  }
  hasNamedValidationError(validatorName) {
    return this.form.errors && this.form.errors[validatorName] === true;
  }
  ensureControlOnConditionOnly(shouldExist, controlName, getInitialValue, getValidators, getAsyncValidators) {
    if (!shouldExist && this.form.contains(controlName)) {
      this.form.removeControl(controlName);
    } else if (shouldExist) {
      this.addControlIfNotExists(controlName, getInitialValue(), getValidators(), getAsyncValidators ? getAsyncValidators() : null);
    }
  }
  addControlIfNotExists(controlName, initialValue, validators, asyncValidators) {
    if (this.form.contains(controlName)) {
      return;
    }
    let control = new _angular_forms__WEBPACK_IMPORTED_MODULE_0__.UntypedFormControl(initialValue, validators, asyncValidators ? asyncValidators : null);
    this.form.addControl(controlName, control);
  }
  addGroupIfNotExists(groupName, controls) {
    if (this.form.contains(groupName)) {
      return null;
    }
    let groupControls = {};
    for (let control of controls) {
      if (control) {
        //To allow conditionally skipping things with inline logic
        groupControls[control.controlName] = new _angular_forms__WEBPACK_IMPORTED_MODULE_0__.UntypedFormControl(control.initialValue, control.validators, control.asyncValidators);
      }
    }
    let group = new _angular_forms__WEBPACK_IMPORTED_MODULE_0__.UntypedFormGroup(groupControls);
    this.form.addControl(groupName, group);
    return group;
  }
  setDisabled(groupName, controlName, isDisabled, emitEvent) {
    let control = this.getFormControl(groupName, controlName);
    if (!control) {
      return;
    }
    //NOTE: The reason we care about emitEvent is that angular has a "feature" (that any sane person would consider a bug)
    //      where changing disabled triggers valueChange. This is supressed by emitEvent: false so we flip the default here from insane way to the sane way.
    if (isDisabled && !control.disabled) {
      control.disable({
        emitEvent: !!emitEvent
      });
    } else if (!isDisabled && control.disabled) {
      control.enable({
        emitEvent: !!emitEvent
      });
    }
  }
  invalid() {
    return this.form?.invalid;
  }
  setFormValidator(validate, validatorName) {
    this.setFormValidators([{
      validate,
      validatorName
    }]);
  }
  setFormValidators(validators) {
    let actualValidator;
    if (validators.length > 1) {
      let actualValidators = [];
      for (let validator of validators) {
        actualValidators.push(FormsHelper.createFormValidator(validator.validate, validator.validatorName));
      }
      actualValidator = _angular_forms__WEBPACK_IMPORTED_MODULE_0__.Validators.compose(actualValidators);
    } else {
      actualValidator = FormsHelper.createFormValidator(validators[0].validate, validators[0].validatorName);
    }
    this.form.setValidators(actualValidator);
    this.form.updateValueAndValidity();
  }
  ensureGroupedControlOnConditionOnly(shouldExist, groupName, controlName, getInitialValue, getValidators, getAsyncValidators) {
    let group = this.form.controls[groupName];
    if (!shouldExist && group?.contains(controlName)) {
      group.removeControl(controlName);
    } else if (shouldExist && group) {
      this.addGroupedControlIfNotExists(group, controlName, getInitialValue(), getValidators(), getAsyncValidators ? getAsyncValidators() : null);
    }
  }
  addGroupedControlIfNotExists(group, controlName, initialValue, validators, asyncValidators) {
    if (group.contains(controlName)) {
      return;
    }
    let control = new _angular_forms__WEBPACK_IMPORTED_MODULE_0__.UntypedFormControl(initialValue, validators, asyncValidators ? asyncValidators : null);
    group.addControl(controlName, control);
  }
  static createFormValidator(validate, validatorName) {
    let validateActual = x => {
      let isValid = validate(x);
      if (isValid) {
        return null;
      } else {
        let errors = {};
        errors[validatorName || 'formInvalid'] = true;
        return errors;
      }
    };
    return validateActual;
  }
  static loadSingleAttachedFileAsDataUrl(attachedFiles) {
    return new Promise((resolve, reject) => {
      if (attachedFiles.length == 1) {
        let r = new FileReader();
        var f = attachedFiles[0];
        if (f.size > 10 * 1024 * 1024) {
          reject('Attached file is too big!');
        }
        r.onloadend = e => {
          let result = {
            dataUrl: e.target.result,
            filename: f.name
          };
          resolve(result);
        };
        r.readAsDataURL(f);
      } else if (attachedFiles.length == 0) {
        reject('No agreement attached!');
      } else {
        reject('Multiple files have been attached. Please reload the page and only attach a single file.');
      }
    });
  }
  static createValidatorAsync(validatorName, isValid) {
    return x => {
      let isMissing = x.value === '' || x.value === null || x.value === undefined;
      if (isMissing) {
        return (0,rxjs__WEBPACK_IMPORTED_MODULE_1__.of)(null);
      }
      return isValid(x.value).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.map)(y => {
        if (y) {
          return null;
        } else {
          let err = {};
          err[validatorName] = 'invalid';
          return err;
        }
      }));
    };
  }
}

/***/ }),

/***/ 5378:
/*!**************************************************************!*\
  !*** ./src/app/common-services/ntech-paymentplan.service.ts ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   BasicRepaymentTimePaymentPlanRequest: () => (/* binding */ BasicRepaymentTimePaymentPlanRequest),
/* harmony export */   MonthlyPayment: () => (/* binding */ MonthlyPayment),
/* harmony export */   NTechPaymentPlanService: () => (/* binding */ NTechPaymentPlanService),
/* harmony export */   PaymentPlan: () => (/* binding */ PaymentPlan),
/* harmony export */   RepaymentTimePaymentPlanRequest: () => (/* binding */ RepaymentTimePaymentPlanRequest)
/* harmony export */ });
/* harmony import */ var _ntech_math__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ntech.math */ 3319);
/* harmony import */ var _effective_interest_rate_calculator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./effective-interest-rate.calculator */ 9094);
/* harmony import */ var _common_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../common.types */ 198);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/core */ 1699);




class NTechPaymentPlanService {
  constructor() {
    this.annuityRoundToDigits = 2;
    this.paymentRoundToDigits = 2;
    this.monthCountCapEvenIfNotFullyPaid = null;
    this.lastMonthCarryOverStrategyPercentOfAnnuity = new _common_types__WEBPACK_IMPORTED_MODULE_2__.NullableNumber(10);
    this.lastMonthCarryOverStrategyPercentOfFixedMonthlyCapitalAmount = new _common_types__WEBPACK_IMPORTED_MODULE_2__.NullableNumber(10);
    this.lastMonthCarryOverStrategyFixedAmount = null;
    this.effectiveInterestRateRoundToDigits = 2;
  }
  caclculatePlanWithSinglePaymentWithRepaymentTimeInDays(r, repaymentTimeInDays) {
    let interestRatePercent = this.getTotalInterestRatePercent(r);
    let loanAmount = this.getLoanAmount(r);
    let capitalAmount = loanAmount + (r.initialFeeCapitalizedAmount ?? 0);
    let interestOnNotification = _ntech_math__WEBPACK_IMPORTED_MODULE_0__.NTechMath.roundToPlaces(loanAmount * interestRatePercent / 365.25 / 100 * (repaymentTimeInDays + 1), 2);
    let payment = {
      monthNr: 1,
      initialFee: r.initialFeeOnFirstNotificationAmount ?? 0,
      monthlyFee: r.notificationFee ?? 0,
      capital: capitalAmount,
      interest: interestOnNotification,
      totalAmount: null,
      nonStandardPaymentDays: repaymentTimeInDays
    };
    payment.totalAmount = payment.initialFee + payment.monthlyFee + payment.interest + payment.capital;
    let plan = {
      UsesAnnuities: false,
      LoanAmount: loanAmount,
      LoansToSettleAmount: r.loansToSettleAmount,
      PaidToCustomerAmount: r.paidToCustomerAmount,
      InitialFeeCapitalizedAmount: r.initialFeeCapitalizedAmount,
      InitialFeeWithheldAmount: r.initialFeeWithheldAmount,
      MonthlyFeeAmount: r.notificationFee,
      MonthlyCostExcludingFeesAmount: payment.capital + payment.interest,
      MonthlyCostIncludingFeesAmount: payment.capital + payment.interest + payment.monthlyFee,
      RepaymentTimeInMonths: 1,
      RepaymentTimeInYears: 1,
      MarginInterestRatePercent: r.marginInterestRatePercent,
      ReferenceInterestRatePercent: r.referenceInterestRatePercent,
      TotalInterestRatePercent: interestRatePercent,
      TotalPaidAmount: payment.totalAmount,
      EffectiveInterstRatePercent: (0,_effective_interest_rate_calculator__WEBPACK_IMPORTED_MODULE_1__.computeSingleNotificationEffectiveInterestRate)(this.effectiveInterestRateRoundToDigits, loanAmount - r.initialFeeWithheldAmount, payment.totalAmount, repaymentTimeInDays),
      Payments: [payment]
    };
    return plan;
  }
  getTotalInterestRatePercent(r) {
    return r.marginInterestRatePercent + r.referenceInterestRatePercent;
  }
  getLoanAmount(r) {
    return r.loansToSettleAmount + r.paidToCustomerAmount + r.initialFeeWithheldAmount;
  }
  calculatePlanWithAnnuitiesFromRepaymentTime(r) {
    let interestRatePercent = this.getTotalInterestRatePercent(r);
    let loanAmount = this.getLoanAmount(r);
    let initialCapitalDebtAmount = this.computeInitialCapitalDebtAmount(loanAmount, r.initialFeeCapitalizedAmount);
    let annuityAmount = _ntech_math__WEBPACK_IMPORTED_MODULE_0__.NTechMath.roundToPlaces(this.computeAnnuity(interestRatePercent, initialCapitalDebtAmount, r.repaymentTimeInMonths), this.annuityRoundToDigits);
    let payments = this.computeMonthlyPayments(annuityAmount, initialCapitalDebtAmount, interestRatePercent, r.notificationFee, new _common_types__WEBPACK_IMPORTED_MODULE_2__.NullableNumber(r.initialFeeOnFirstNotificationAmount ?? 0));
    return {
      LoanAmount: loanAmount,
      UsesAnnuities: true,
      LoansToSettleAmount: r.loansToSettleAmount,
      PaidToCustomerAmount: r.paidToCustomerAmount,
      InitialFeeCapitalizedAmount: r.initialFeeCapitalizedAmount,
      InitialFeeWithheldAmount: r.initialFeeWithheldAmount,
      MonthlyFeeAmount: r.notificationFee,
      MonthlyCostExcludingFeesAmount: annuityAmount,
      MonthlyCostIncludingFeesAmount: annuityAmount + r.notificationFee,
      RepaymentTimeInMonths: r.repaymentTimeInMonths,
      RepaymentTimeInYears: Math.ceil(r.repaymentTimeInMonths / 12),
      MarginInterestRatePercent: r.marginInterestRatePercent,
      ReferenceInterestRatePercent: r.referenceInterestRatePercent,
      TotalInterestRatePercent: interestRatePercent,
      TotalPaidAmount: _ntech_math__WEBPACK_IMPORTED_MODULE_0__.NTechMath.sum(payments, x => x.totalAmount),
      EffectiveInterstRatePercent: this.calculateEffectiveInterestRatePercent(loanAmount - r.initialFeeWithheldAmount, payments),
      Payments: payments
    };
  }
  computeInitialCapitalDebtAmount(loanAmount, capitalizedInitialFeeAmount) {
    return loanAmount + capitalizedInitialFeeAmount;
  }
  computeAnnuity(interestRatePercent, initialCapitalDebtAmount, repaymentTimeInMonths) {
    if (interestRatePercent < 0.00001) {
      return initialCapitalDebtAmount / repaymentTimeInMonths;
    }
    let r = interestRatePercent / 100 / 12;
    let pv = initialCapitalDebtAmount;
    let n = repaymentTimeInMonths;
    let result = r * pv / (1 - Math.pow(1 + r, -n));
    return result;
  }
  getActualAmortizationAmountForMonth(monthNr, standardAmortizationAmount, remainingCapitalAmount) {
    return Math.min(standardAmortizationAmount, remainingCapitalAmount);
  }
  shouldCarryOverRemainingCapitalAmount(remainingCapitalAmount, annuityAmount, fixedMonthlyCapitalAmount) {
    if (remainingCapitalAmount == 0) return false;
    if (!annuityAmount && !fixedMonthlyCapitalAmount || annuityAmount && fixedMonthlyCapitalAmount) throw new Error('Must supply exactly one of annuityAmount and fixedMonthlyCapitalAmount');
    if (annuityAmount) {
      if (this.lastMonthCarryOverStrategyFixedAmount || this.lastMonthCarryOverStrategyPercentOfAnnuity) {
        if (this.lastMonthCarryOverStrategyFixedAmount && this.lastMonthCarryOverStrategyPercentOfAnnuity) {
          throw new Error('Not implemented');
        }
        let lastMonthCarryOverLimit = this.lastMonthCarryOverStrategyPercentOfAnnuity ? this.lastMonthCarryOverStrategyPercentOfAnnuity.value / 100 * annuityAmount.value : this.lastMonthCarryOverStrategyFixedAmount.value;
        return remainingCapitalAmount < lastMonthCarryOverLimit;
      } else {
        return false;
      }
    } else if (fixedMonthlyCapitalAmount) {
      if (this.lastMonthCarryOverStrategyFixedAmount || this.lastMonthCarryOverStrategyPercentOfFixedMonthlyCapitalAmount) {
        if (this.lastMonthCarryOverStrategyFixedAmount && this.lastMonthCarryOverStrategyPercentOfFixedMonthlyCapitalAmount) {
          throw new Error('Not implemented');
        }
        let lastMonthCarryOverLimit = this.lastMonthCarryOverStrategyPercentOfFixedMonthlyCapitalAmount ? this.lastMonthCarryOverStrategyPercentOfFixedMonthlyCapitalAmount.value / 100 * fixedMonthlyCapitalAmount.value : this.lastMonthCarryOverStrategyFixedAmount.value;
        return remainingCapitalAmount < lastMonthCarryOverLimit;
      } else {
        return false;
      }
    } else {
      throw new Error('Not implemented');
    }
  }
  computeMonthlyPayments(annuityAmount, initialCapitalDebtAmount, interestRatePercent, notficationFeeAmount, initialFeePaidOnFirstNotification) {
    let paymentPlan = [];
    let first = true;
    let remainingAmount = initialCapitalDebtAmount;
    let monthNr = 0;
    while (remainingAmount > 0) {
      monthNr++;
      let interest = _ntech_math__WEBPACK_IMPORTED_MODULE_0__.NTechMath.roundToPlaces(remainingAmount * interestRatePercent / 100 / 12, this.paymentRoundToDigits);
      let amortization = this.getActualAmortizationAmountForMonth(monthNr, annuityAmount - interest, remainingAmount);
      if (amortization < 0) {
        amortization = 0;
      }
      remainingAmount -= amortization;
      var shouldCarryOverAmount = this.shouldCarryOverRemainingCapitalAmount(remainingAmount, new _common_types__WEBPACK_IMPORTED_MODULE_2__.NullableNumber(annuityAmount), null);
      if (shouldCarryOverAmount || this.monthCountCapEvenIfNotFullyPaid && this.monthCountCapEvenIfNotFullyPaid.value == monthNr) {
        amortization += remainingAmount;
        remainingAmount = 0;
      }
      let p = {
        monthNr: monthNr,
        capital: amortization,
        interest: interest,
        initialFee: first ? initialFeePaidOnFirstNotification ? initialFeePaidOnFirstNotification.value : 0 : 0,
        monthlyFee: notficationFeeAmount,
        totalAmount: null
      };
      p.totalAmount = p.capital + p.interest + p.initialFee + p.monthlyFee;
      paymentPlan.push(p);
      first = false;
      if (monthNr == 500 * 12) {
        throw new Error('Will never be paid with current terms');
      }
    }
    return paymentPlan;
  }
  calculateEffectiveInterestRatePercent(initialPaidToCustomerAmount, payments) {
    let c = new _effective_interest_rate_calculator__WEBPACK_IMPORTED_MODULE_1__.EffectiveInterestRateCalculation(this.effectiveInterestRateRoundToDigits);
    c.addInitialLoan(initialPaidToCustomerAmount);
    for (let p of payments) {
      c.addPayment(p.totalAmount, p.monthNr);
    }
    return c.calculate();
  }
  static #_ = this.ɵfac = function NTechPaymentPlanService_Factory(t) {
    return new (t || NTechPaymentPlanService)();
  };
  static #_2 = this.ɵprov = /*@__PURE__*/_angular_core__WEBPACK_IMPORTED_MODULE_3__["ɵɵdefineInjectable"]({
    token: NTechPaymentPlanService,
    factory: NTechPaymentPlanService.ɵfac,
    providedIn: 'root'
  });
}
class BasicRepaymentTimePaymentPlanRequest {}
class RepaymentTimePaymentPlanRequest extends BasicRepaymentTimePaymentPlanRequest {}
class MonthlyPayment {}
class PaymentPlan {}

/***/ }),

/***/ 1203:
/*!*************************************************************************!*\
  !*** ./src/app/common-services/ntech-validation-shared-base.service.ts ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   NTechValidationSharedBaseService: () => (/* binding */ NTechValidationSharedBaseService),
/* harmony export */   requiredIfValidator: () => (/* binding */ requiredIfValidator)
/* harmony export */ });
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! moment */ 8540);
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/forms */ 8849);
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs */ 2235);
/* harmony import */ var _country_specific_country_specific_validator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../country-specific/country-specific-validator */ 2288);
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common */ 6575);
/* harmony import */ var _ntech_forms_helper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ntech-forms-helper */ 7093);






class NTechValidationSharedBaseService {
  constructor(twoLetterClientCountryIsoCode) {
    this.twoLetterClientCountryIsoCode = twoLetterClientCountryIsoCode;
    this.locale = 'sv-SE';
    this.isNullOrWhitespace = input => {
      if (typeof input === 'undefined' || input == null) return true;
      if (typeof input === 'string') {
        return this.trim(input).length < 1;
      } else {
        return false;
      }
    };
    this.isValidPositiveDecimal = value => {
      return this.isValidDecimal(value, false);
    };
    this.isValidDecimal = (value, allowNegativeValues) => {
      if (this.isNullOrWhitespace(value)) return true;
      var v = this.removeWhitespace(value.toString());
      if (allowNegativeValues) {
        v = v.replace('-', '');
      }
      return /^([0]|[1-9]([0-9])*)([\.|,]([0-9])+)?$/.test(v);
    };
    this.perCountry = (0,_country_specific_country_specific_validator__WEBPACK_IMPORTED_MODULE_1__.createCountrySpecificValidator)(twoLetterClientCountryIsoCode);
  }
  parseDatetimeOffset(input) {
    let m = moment__WEBPACK_IMPORTED_MODULE_0__(input, moment__WEBPACK_IMPORTED_MODULE_0__.ISO_8601, true);
    if (!m.isValid()) {
      throw new Error('Invalid date');
    }
    return m;
  }
  formatInteger(value) {
    if (value === undefined || value === null) {
      return '';
    }
    return value.toString();
  }
  formatIntegerForDisplay(value) {
    let n;
    if (typeof value === 'string') {
      n = this.parseIntegerOrNull(value);
    } else {
      n = value;
    }
    if (n === undefined || n === null) {
      return '';
    }
    let result = (0,_angular_common__WEBPACK_IMPORTED_MODULE_3__.formatNumber)(n, this.locale, '1.0-0');
    return result;
  }
  formatDecimalForDisplay(value, nrOfDecimals = 2) {
    let n;
    if (typeof value === 'string') {
      n = this.parseIntegerOrNull(value);
    } else {
      n = value;
    }
    if (n === undefined || n === null) {
      return '';
    }
    let result = (0,_angular_common__WEBPACK_IMPORTED_MODULE_3__.formatNumber)(n, this.locale, `1.0-${nrOfDecimals}`);
    return result;
  }
  formatIntegerForEdit(value) {
    if (value === undefined || value === null) {
      return '';
    }
    return value.toString();
  }
  formatDateForEdit(value) {
    if (value === undefined || value === null) {
      return '';
    }
    return value.format('YYYY-MM-DD');
  }
  parseInteger(value) {
    return parseInt(this.removeWhitespace(value), 10);
  }
  parseIntegerOrNull(value, treatEmptyAsZero = false) {
    if (this.isNullOrWhitespace(value)) {
      return treatEmptyAsZero ? 0 : null;
    } else {
      let result = this.parseInteger(value);
      return Number.isNaN(result) ? null : result;
    }
  }
  normalizeString(value) {
    let s = this.trim(value ?? '');
    return s.length === 0 ? null : s;
  }
  isValidEmail(value) {
    if (!value) {
      return false;
    }
    return !!value.match(/^([^\.].*[\@]+.*[^\.])$/);
  }
  //Not an attempt to actually validate, just to help the user from accidently mixing up fields with each other. Use googles phone library if actual validation is important.
  isValidPhone(value) {
    if (!value) {
      return false;
    }
    let digitCount = 0;
    for (let c of value) {
      if (this.isLetter(c)) {
        return false;
      } else if (this.isDigit(c)) {
        digitCount = digitCount + 1;
      }
    }
    return digitCount >= 4;
  }
  /** https://stackoverflow.com/a/43467144/2928868
   * Note: this is just a simple healthcheck and not a full validator.
   */
  isValidHttpUrl(value) {
    let url;
    try {
      url = new URL(value);
    } catch (_) {
      return false;
    }
    return url.protocol === 'http:' || url.protocol === 'https:';
  }
  removeWhitespace(s) {
    if (s === null || s === undefined) {
      return s;
    }
    return s.replace(/\s+/g, '');
  }
  getAlwaysInvalidValidator() {
    return this.getValidator('alwaysInvalid', x => false);
  }
  getEmailValidator() {
    return this.getValidator('email', x => this.isValidEmail(x));
  }
  getUrlValidator() {
    return this.getValidator('url', x => this.isValidHttpUrl(x));
  }
  getIntegerValidator(name, minValue, maxValue, allowNegativeValues) {
    return this.getValidator(name, x => {
      let noWhitespaceX = this.removeWhitespace(x);
      let isValidInt = allowNegativeValues ? /^(0|([-]?[1-9][0-9]*))$/.test(noWhitespaceX) : /^(0|([1-9][0-9]*))$/.test(noWhitespaceX);
      if (!isValidInt) {
        return false;
      }
      if (minValue == null && maxValue == null) {
        return true;
      }
      let v = this.parseInteger(noWhitespaceX);
      if (minValue != null && v < minValue) {
        return false;
      }
      if (maxValue != null && v > maxValue) {
        return false;
      }
      return true;
    });
  }
  getIntegerWithBoundsValidator(minValue, maxValue) {
    return this.getIntegerValidator('anyInt', minValue, maxValue, true);
  }
  getPositiveIntegerWithBoundsValidator(minValue, maxValue) {
    return this.getIntegerValidator('positiveInt', minValue, maxValue, false);
  }
  getPositiveIntegerValidator() {
    return this.getPositiveIntegerWithBoundsValidator(null, null);
  }
  getPhoneValidator() {
    return this.getValidator('phone', x => this.isValidPhone(x));
  }
  getBannedValueValidator(validatorName, bannedValue) {
    return this.getValidator(validatorName, x => bannedValue === null || x !== bannedValue);
  }
  getBankAccountNrAsyncValidator(config, validatorName, isValidBankAccountNr) {
    var client = config.getClient();
    let bankAccountType;
    if (client.BaseCountry == 'SE') {
      bankAccountType = 'BankAccountSe';
    } else if (client.BaseCountry == 'FI') {
      bankAccountType = 'IBANFi';
    } else {
      bankAccountType = 'NotImplemented';
    }
    return {
      defaultBankAccountType: bankAccountType,
      validator: this.getValidatorAsync(validatorName, x => {
        return new rxjs__WEBPACK_IMPORTED_MODULE_4__.Observable(observer => {
          if (x.length < 5) {
            //Basic sanity check to avoid server calls for no reason.
            observer.next(false);
            observer.complete();
          } else {
            isValidBankAccountNr(x, bankAccountType).then(x => {
              observer.next(x);
              observer.complete();
            });
          }
        });
      })
    };
  }
  isRegularBankAccount(bankAccountNrType) {
    return this.perCountry.isRegularBankAccount(bankAccountNrType);
  }
  trim(s) {
    if (!s) return s;
    //https://stackoverflow.com/questions/196925/what-is-the-best-way-to-trim-in-javascript
    return s.replace(/^\s\s*/, '').replace(/\s\s*$/, '');
  }
  formatPositiveDecimalForEdit(value) {
    return this.formatDecimalForEdit(value);
  }
  formatDecimalForEdit(value) {
    if (this.isNullOrWhitespace(value)) {
      return '';
    }
    return value.toLocaleString('sv-SE', {
      maximumFractionDigits: 4,
      minimumFractionDigits: 0
    });
  }
  parsePositiveDecimalOrNull(n) {
    return this.parseDecimalOrNull(n, false);
  }
  parseDecimalOrNull(n, allowNegativeValues) {
    if (this.isNullOrWhitespace(n)) {
      return null;
    }
    let tmp = this.removeWhitespace(n.replace(',', '.'));
    if (!this.isValidDecimal(tmp, allowNegativeValues)) {
      return null;
    }
    if (typeof n === 'string') {
      return parseFloat(tmp);
    } else {
      return parseFloat(tmp);
    }
  }
  getPositiveDecimalValidator() {
    return this.getValidator('positiveDecimal', this.isValidPositiveDecimal);
  }
  getDecimalValidator() {
    return this.getValidator('anyDecimal', x => this.isValidDecimal(x, true));
  }
  parseDateOnlyOrNull(value) {
    let parse = () => {
      let m = moment__WEBPACK_IMPORTED_MODULE_0__(value, 'YYYY-MM-DD', true);
      if (m.isValid()) {
        return m;
      }
      m = moment__WEBPACK_IMPORTED_MODULE_0__(value + '-01', 'YYYY-MM-DD', true);
      if (m.isValid()) {
        return m;
      }
      m = moment__WEBPACK_IMPORTED_MODULE_0__(value, 'YYYYMMDD', true);
      if (m.isValid()) {
        return m;
      }
      m = moment__WEBPACK_IMPORTED_MODULE_0__(value + '01', 'YYYYMMDD', true);
      return m;
    };
    let m = parse();
    if (m.isValid()) {
      return m.format('YYYY-MM-DD');
    } else {
      return null;
    }
  }
  isValidDateOnly(value) {
    return this.parseDateOnlyOrNull(value) !== null;
  }
  parseDateOnly(value) {
    let v = this.parseDateOnlyOrNull(value);
    if (v === null) {
      throw new Error('Invalid date');
    }
    return v;
  }
  getDateOnlyValidator() {
    return this.getValidator('dateOnly', x => this.isValidDateOnly(x));
  }
  getValidator(validatorName, isValid) {
    return x => {
      let isMissingOrValid = x.value === '' || x.value === null || x.value === undefined || isValid(x.value);
      if (isMissingOrValid) {
        return null;
      } else {
        let err = {};
        err[validatorName] = 'invalid';
        return err;
      }
    };
  }
  getValidatorAsync(validatorName, isValid) {
    return _ntech_forms_helper__WEBPACK_IMPORTED_MODULE_2__.FormsHelper.createValidatorAsync(validatorName, isValid);
  }
  getFormValidatorAsync(getFormErrors) {
    return _ => new rxjs__WEBPACK_IMPORTED_MODULE_4__.Observable(observer => {
      getFormErrors().then(x => {
        observer.next(x);
      });
    });
  }
  isLetter(str) {
    return str.length === 1 && str.match(/[a-z]/i);
  }
  isDigit(str) {
    return str.length === 1 && str.match(/[0-9]/i);
  }
  isTextLimitExceeded(txt, charLimit) {
    if (txt.length > charLimit) return true;else return false;
  }
  trimLimitChars(txt, maxChars) {
    if (txt.length > maxChars) {
      txt = txt.substring(0, maxChars) + '...';
    }
    return txt;
  }
  clone(value) {
    if (!value) {
      return null;
    }
    return JSON.parse(JSON.stringify(value));
  }
  isValidOrgnr(value) {
    return this.perCountry.isValidOrgnr(value);
  }
  isValidCivicNr(value) {
    return this.perCountry.isValidCivicNr(value);
  }
  getCivicRegNrValidator(options) {
    return this.getValidator('civicRegNr', x => {
      let isValidCivicNr = this.isValidCivicNr(x);
      if (options?.require12DigitCivicRegNrSe && isValidCivicNr && this.twoLetterClientCountryIsoCode === 'SE') {
        return x.replace(/\D/g, '').length === 12;
      }
      return isValidCivicNr;
    });
  }
  getOrgNrValidator() {
    return this.getValidator('orgnr', x => this.isValidOrgnr(x));
  }
  /**
   * 10d for 10 days or 10m for 10 months
   */
  parseRepaymentTimeWithPeriodMarker(value, allowMissingValue) {
    let v = (value ?? '').trim();
    if (v.length === 0) {
      return allowMissingValue ? {
        isValid: true,
        isMissingValue: true
      } : {
        isValid: false
      };
    }
    if (!(v.endsWith('m') || v.endsWith('d'))) {
      return {
        isValid: false
      };
    }
    let isDays = v.endsWith('d');
    v = v.substring(0, v.length - 1);
    let parsedValue = this.parseIntegerOrNull(v, false);
    if (parsedValue === null || parsedValue <= 0) {
      return {
        isValid: false
      };
    }
    return {
      isValid: true,
      isMissingValue: false,
      isDays: isDays,
      repaymentTime: parsedValue
    };
  }
  /**
   * 10d for 10 days or 10m for 10 months
   */
  formatRepaymentTimeWithPeriodMarkerForStorage(repaymentTime, isDays) {
    if (repaymentTime === undefined || repaymentTime === null) {
      return null;
    } else {
      return `${repaymentTime.toFixed(0)}${isDays ? 'd' : 'm'}`;
    }
  }
  formatJsonForDisplay(json) {
    if (!json) {
      return json;
    }
    try {
      //Try to indent the json
      return JSON.stringify(JSON.parse(json), null, 2);
    } catch {
      return json;
    }
  }
}
/**
 * Makes the field required if the predicate function returns true.
 * Use like this:
 * getValidators: () => [requiredIfValidator(() => form.form.get('paidToCustomerAmount').value > 0)],
 */
function requiredIfValidator(predicate) {
  return formControl => {
    if (!formControl.parent) {
      return null;
    }
    if (predicate()) {
      return _angular_forms__WEBPACK_IMPORTED_MODULE_5__.Validators.required(formControl);
    }
    return null;
  };
}

/***/ }),

/***/ 3319:
/*!***********************************************!*\
  !*** ./src/app/common-services/ntech.math.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   NTechMath: () => (/* binding */ NTechMath)
/* harmony export */ });
var NTechMath;
(function (NTechMath) {
  //Be aware that this can have some strange results due to floating point math. Dont use this if exact result are super important. See https://stackoverflow.com/questions/11832914/round-to-at-most-2-decimal-places-only-if-necessary
  function roundToPlaces(value, places) {
    var multiplier = Math.pow(10, places);
    return Math.round(value * multiplier) / multiplier;
  }
  NTechMath.roundToPlaces = roundToPlaces;
  function sum(items, f) {
    let sum = 0;
    for (let i of items) {
      sum += f(i);
    }
    return sum;
  }
  NTechMath.sum = sum;
  function map(items, f) {
    let r = [];
    for (let i of items) {
      r.push(f(i));
    }
    return r;
  }
  NTechMath.map = map;
  function mapI(items, f) {
    let r = [];
    let index = 0;
    for (let i of items) {
      r.push(f(i, index));
      index++;
    }
    return r;
  }
  NTechMath.mapI = mapI;
  function orderBy(items, f, descending) {
    let directionMultiplier = descending ? -1 : 1;
    let compareFn = (x1, x2) => {
      let n1 = f(x1);
      let n2 = f(x2);
      if (n1 > n2) {
        return directionMultiplier * 1;
      }
      if (n1 < n2) {
        return directionMultiplier * -1;
      }
      return 0;
    };
    let result = items.map(x => x); //Make a copy since .sort is inplace
    result.sort(compareFn);
    return result;
  }
  NTechMath.orderBy = orderBy;
  function equals(n1, n2) {
    if (n1 === null && n2 === null) {
      return true;
    }
    return Math.abs(n1 - n2) < Number.EPSILON;
  }
  NTechMath.equals = equals;
  function getRandomIntInclusive(min, max) {
    min = Math.ceil(min);
    max = Math.floor(max);
    return Math.floor(Math.random() * (max - min + 1)) + min; //The maximum is inclusive and the minimum is inclusive
  }
  NTechMath.getRandomIntInclusive = getRandomIntInclusive;
  function isAnyOf(code, values) {
    return values.indexOf(code) >= 0;
  }
  NTechMath.isAnyOf = isAnyOf;
})(NTechMath || (NTechMath = {}));

/***/ }),

/***/ 7790:
/*!***********************************************!*\
  !*** ./src/app/common-services/randomizer.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   Randomizer: () => (/* binding */ Randomizer)
/* harmony export */ });
/* harmony import */ var _ntech_math__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ntech.math */ 3319);

var Randomizer;
(function (Randomizer) {
  function anyOf(values) {
    return values[_ntech_math__WEBPACK_IMPORTED_MODULE_0__.NTechMath.getRandomIntInclusive(0, values.length - 1)];
  }
  Randomizer.anyOf = anyOf;
  function anyNumberBetween(min, max) {
    return _ntech_math__WEBPACK_IMPORTED_MODULE_0__.NTechMath.getRandomIntInclusive(min, max);
  }
  Randomizer.anyNumberBetween = anyNumberBetween;
  /**
   *
   * @param min Min value
   * @param max Max value
   * @param dimension Dimension of the result, ex. 1000 gives even thousand, 100 even hundred etc.
   * @returns
   */
  function anyEvenNumberBetween(min, max, dimension) {
    let value = _ntech_math__WEBPACK_IMPORTED_MODULE_0__.NTechMath.getRandomIntInclusive(min, max);
    return Math.round(value / dimension) * dimension;
  }
  Randomizer.anyEvenNumberBetween = anyEvenNumberBetween;
})(Randomizer || (Randomizer = {}));

/***/ }),

/***/ 2830:
/*!****************************************************************!*\
  !*** ./src/app/common-services/size-and-time-limited-cache.ts ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   SizeAndTimeLimitedCache: () => (/* binding */ SizeAndTimeLimitedCache)
/* harmony export */ });
class SizeAndTimeLimitedCache {
  constructor(maxCount, maxAgeInMinutes) {
    this.maxCount = maxCount;
    this.maxAgeInMinutes = maxAgeInMinutes;
    this.initialInsertionOrderedEntries = [];
    this.entryByKey = {};
  }
  get(key) {
    let entry = this.entryByKey[key];
    if (!entry || this.isExpired(entry.expirationTimeMs)) {
      return null;
    }
    return entry.value;
  }
  set(key, value) {
    let newExpirationTime = new Date().getTime() + this.maxAgeInMinutes * 60 * 1000;
    if (this.entryByKey[key]) {
      //Replace previous entry
      let currentEntry = this.entryByKey[key];
      currentEntry.expirationTimeMs = newExpirationTime;
      currentEntry.value = value;
    } else {
      //Add a new entry
      let entry = {
        key: key,
        value: value,
        expirationTimeMs: newExpirationTime
      };
      while (this.initialInsertionOrderedEntries.length >= this.maxCount && this.initialInsertionOrderedEntries.length > 0) {
        let oldest = this.initialInsertionOrderedEntries[0];
        this.entryByKey[oldest.key] = null;
        this.initialInsertionOrderedEntries.splice(0, 1);
      }
      this.initialInsertionOrderedEntries.push(entry);
      this.entryByKey[entry.key] = entry;
    }
  }
  isExpired(expirationTimeMs) {
    return expirationTimeMs < new Date().getTime();
  }
}

/***/ }),

/***/ 198:
/*!*********************************!*\
  !*** ./src/app/common.types.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   NullableNumber: () => (/* binding */ NullableNumber),
/* harmony export */   camelCaseRevier: () => (/* binding */ camelCaseRevier),
/* harmony export */   dateOnlyToIsoDate: () => (/* binding */ dateOnlyToIsoDate),
/* harmony export */   distinct: () => (/* binding */ distinct),
/* harmony export */   fromUrlSafeBase64String: () => (/* binding */ fromUrlSafeBase64String),
/* harmony export */   generateUniqueId: () => (/* binding */ generateUniqueId),
/* harmony export */   getBankAccountTypeDropdownOptions: () => (/* binding */ getBankAccountTypeDropdownOptions),
/* harmony export */   getDateOnlyParts: () => (/* binding */ getDateOnlyParts),
/* harmony export */   getDictionaryValues: () => (/* binding */ getDictionaryValues),
/* harmony export */   getFromDictionary: () => (/* binding */ getFromDictionary),
/* harmony export */   getNumberDictionaryKeys: () => (/* binding */ getNumberDictionaryKeys),
/* harmony export */   getNumberDictionaryValues: () => (/* binding */ getNumberDictionaryValues),
/* harmony export */   getOrAddToDictionary: () => (/* binding */ getOrAddToDictionary),
/* harmony export */   groupByNumber: () => (/* binding */ groupByNumber),
/* harmony export */   groupByString: () => (/* binding */ groupByString),
/* harmony export */   normalizeStringSlashes: () => (/* binding */ normalizeStringSlashes),
/* harmony export */   orderBy: () => (/* binding */ orderBy),
/* harmony export */   orderByStr: () => (/* binding */ orderByStr),
/* harmony export */   parseQueryStringParameters: () => (/* binding */ parseQueryStringParameters),
/* harmony export */   parseTriStateBoolean: () => (/* binding */ parseTriStateBoolean),
/* harmony export */   stringJoin: () => (/* binding */ stringJoin),
/* harmony export */   toCamelCase: () => (/* binding */ toCamelCase),
/* harmony export */   toUrlSafeBase64String: () => (/* binding */ toUrlSafeBase64String)
/* harmony export */ });
function getOrAddToDictionary(source, key, create) {
  if (!source[key]) {
    source[key] = create();
  }
  return source[key];
}
function getFromDictionary(source, key, defaultValue) {
  if (source[key]) {
    return source[key];
  } else {
    return defaultValue;
  }
}
function distinct(i) {
  if (!i) {
    return null;
  }
  return i.filter((item, i, ar) => ar.indexOf(item) === i);
}
function groupByString(source, getKey) {
  let d = {};
  for (let item of source || []) {
    let key = getKey(item);
    if (!d[key]) {
      d[key] = [];
    }
    d[key].push(item);
  }
  return d;
}
function groupByNumber(source, getKey) {
  let d = {};
  for (let item of source || []) {
    let key = getKey(item);
    if (!d[key]) {
      d[key] = [];
    }
    d[key].push(item);
  }
  return d;
}
function getNumberDictionaryKeys(source) {
  let result = [];
  if (!source) {
    result;
  }
  for (let key of Object.keys(source)) {
    result.push(parseInt(key));
  }
  return result;
}
function getNumberDictionaryValues(source) {
  let result = [];
  if (!source) {
    result;
  }
  for (let key of getNumberDictionaryKeys(source)) {
    result.push(source[key]);
  }
  return result;
}
function getDictionaryValues(source) {
  let result = [];
  if (!source) {
    result;
  }
  for (let key of Object.keys(source)) {
    result.push(source[key]);
  }
  return result;
}
function orderBy(source, getSortKey) {
  return [...source].sort((x, y) => getSortKey(x) - getSortKey(y));
}
function orderByStr(source, getSortKey) {
  return [...source].sort((x, y) => getSortKey(x).localeCompare(getSortKey(y)));
}
class NullableNumber {
  constructor(value) {
    this.value = value;
  }
}
class UniqueIdGenerator {
  constructor() {
    this.alphabet = '23456789abdegjkmnpqrvwxyz';
  }
  generateUniqueId(length) {
    var rtn = '';
    for (var i = 0; i < length; i++) {
      rtn += this.alphabet.charAt(Math.floor(Math.random() * this.alphabet.length));
    }
    return rtn;
  }
}
let uniqueIdGenerator = new UniqueIdGenerator();
function generateUniqueId(length) {
  return uniqueIdGenerator.generateUniqueId(length);
}
//Based on https://github.com/neosmart/UrlBase64/blob/master/UrlBase64/UrlBase64.cs
function toUrlSafeBase64String(data) {
  let encoded = btoa(JSON.stringify(data)).replace('+', '-').replace('/', '_');
  while (encoded[encoded.length - 1] === '=') {
    encoded = encoded.substr(0, encoded.length - 1);
  }
  return encoded;
}
function fromUrlSafeBase64String(data) {
  if (!data) {
    return null;
  }
  let decodeFirstPass = () => {
    let decoded = '';
    for (let c of data) {
      if (c === '_') {
        decoded += '/';
      } else if (c === '-') {
        decoded += '+';
      } else {
        decoded += c;
      }
    }
    switch (decoded.length % 4) {
      case 2:
        return decoded + '==';
      case 3:
        return decoded + '=';
      default:
        return decoded;
    }
  };
  let d = decodeFirstPass();
  return JSON.parse(atob(d));
}
function parseQueryStringParameters() {
  let d = {};
  let query = window.location.search.substring(1);
  let vars = query.split('&');
  if (vars && vars.length > 0 && vars[0].trim().length > 0) {
    for (var i = 0; i < vars.length; i++) {
      var pair = vars[i].split('=');
      d[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);
    }
  }
  return d;
}
function normalizeStringSlashes(input, leading, trailing) {
  let result = input;
  if (result.startsWith('/') && leading === false) {
    result = result.substr(1);
  }
  if (result.endsWith('/') && trailing === false) {
    result = result.substr(0, result.length - 1);
  }
  if (!result.startsWith('/') && leading === true) {
    result = '/' + result;
  }
  if (!result.endsWith('/') && trailing === true) {
    result = result + '/';
  }
  return result;
}
function parseTriStateBoolean(value) {
  return value === 'true' ? true : value === 'false' ? false : null;
}
function stringJoin(separator, values) {
  let s = '';
  for (let value of values || []) {
    if (s.length > 0) {
      s += separator;
    }
    s += value;
  }
  return s;
}
let bankAccountNrTypesFallback = {
  BankAccountSe: 'Regular account',
  BankGiroSe: 'Bankgiro',
  PlusGiroSe: 'Plusgiro',
  IBANFi: 'Finnish IBAN'
};
let bankAccountNrTypesLang = {
  sv: {
    BankAccountSe: 'Vanligt bankkonto',
    BankGiroSe: 'Bankgiro',
    PlusGiroSe: 'Plusgiro'
  }
};
function getBankAccountTypeDropdownOptions(baseCountry, includeEmptyOption, language, excludeRegularAccounts) {
  let types = [];
  if (includeEmptyOption) {
    types.push({
      Code: '',
      DisplayName: ''
    });
  }
  if (baseCountry == 'SE') {
    types.push({
      Code: 'BankGiroSe',
      DisplayName: ''
    });
    types.push({
      Code: 'PlusGiroSe',
      DisplayName: ''
    });
    if (!excludeRegularAccounts) types.push({
      Code: 'BankAccountSe',
      DisplayName: ''
    });
  } else if (baseCountry == 'FI') {
    types.push({
      Code: 'IBANFi',
      DisplayName: ''
    });
  }
  for (let t of types) {
    let langOverride = language ? bankAccountNrTypesLang[language] : null;
    t.DisplayName = (langOverride ? langOverride[t.Code] : null) || bankAccountNrTypesFallback[t.Code];
  }
  return types;
}
function getDateOnlyParts(d) {
  if (!d) {
    return null;
  }
  let ymd = d.yearMonthDay; //yyyymmdd
  let day = ymd % 100;
  ymd = (ymd - day) / 100; //yyyymm
  let month = ymd % 100;
  let year = (ymd - month) / 100; //yyyy
  return {
    year,
    month,
    day
  };
}
function dateOnlyToIsoDate(d) {
  let parts = getDateOnlyParts(d);
  if (!parts) return null;
  return `${parts.year}-${String(parts.month).padStart(2, '0')}-${String(parts.day).padStart(2, '0')}`;
}
// https://stackoverflow.com/questions/12931828/convert-returned-json-object-properties-to-lower-first-camelcase
function toCamelCase(o) {
  let newO;
  let origKey;
  let newKey;
  let value;
  if (o instanceof Array) {
    return o.map(function (value) {
      if (typeof value === "object") {
        value = toCamelCase(value);
      }
      return value;
    });
  } else {
    newO = {};
    for (origKey in o) {
      if (o.hasOwnProperty(origKey)) {
        newKey = (origKey.charAt(0).toLowerCase() + origKey.slice(1) || origKey).toString();
        value = o[origKey];
        if (value instanceof Array || value !== null && value.constructor === Object) {
          value = toCamelCase(value);
        }
        newO[newKey] = value;
      }
    }
  }
  return newO;
}
//https://stackoverflow.com/a/5480605/353526
function camelCaseRevier(key, value) {
  if (value && typeof value === 'object' && !Array.isArray(value)) {
    let replacement = {};
    for (var k in value) {
      if (Object.hasOwnProperty.call(value, k)) {
        replacement[k && k.charAt(0).toLowerCase() + k.substring(1)] = value[k];
      }
    }
    return replacement;
  }
  return value;
}

/***/ }),

/***/ 2288:
/*!****************************************************************!*\
  !*** ./src/app/country-specific/country-specific-validator.ts ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   createCountrySpecificValidator: () => (/* binding */ createCountrySpecificValidator),
/* harmony export */   createCountrySpecificValidatorUsingCountryIsoCode: () => (/* binding */ createCountrySpecificValidatorUsingCountryIsoCode)
/* harmony export */ });
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! moment */ 8540);
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_0__);

function createCountrySpecificValidatorUsingCountryIsoCode(twoLetterCountryIsoCode) {
  if (twoLetterCountryIsoCode === 'SE') {
    return new CountrySpecificValidatorSe();
  } else if (twoLetterCountryIsoCode === 'FI') {
    return new CountrySpecificValidatorFi();
  } else {
    throw new Error(`Country ${twoLetterCountryIsoCode} not supported`);
  }
}
function createCountrySpecificValidator(twoLetterClientCountryIsoCode) {
  return createCountrySpecificValidatorUsingCountryIsoCode(twoLetterClientCountryIsoCode);
}
class CountrySpecificValidatorFi {
  constructor() {
    this.civicNrDigits = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'A', 'B', 'C', 'D', 'E', 'F', 'H', 'J', 'K', 'L', 'M', 'N', 'P', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y'];
  }
  isRegularBankAccount(bankAccountNrType) {
    return false;
  }
  isValidCivicNr(value) {
    //https://sv.wikipedia.org/wiki/Personnummer#Finland
    if (!value) {
      return false;
    }
    var c = value.trim();
    if (c.length != 11) {
      return false;
    }
    if (!moment__WEBPACK_IMPORTED_MODULE_0__(c.slice(0, 6), 'DDMMYY', true).isValid()) {
      return false;
    }
    return c[10].toUpperCase() === this.computeCheckDigitCivicNrFi(c);
  }
  isValidOrgnr(input) {
    throw new Error('Not implemented for country FI');
  }
  isValidPaymentFileReferenceNr(bankAccountNrType, referenceNr) {
    throw new Error('Not implemented for country FI');
  }
  computeCheckDigitCivicNrFi(prefix) {
    let i = parseInt(prefix.slice(0, 6) + prefix.slice(7, 10), 10) % 31;
    return this.civicNrDigits[i];
  }
}
class CountrySpecificValidatorSe {
  isRegularBankAccount(bankAccountNrType) {
    return bankAccountNrType === 'BankAccountSe';
  }
  isValidOrgnr(input) {
    if (this.isValidCivicNr(input)) {
      //Enskild firma
      return true;
    }
    if (!input) {
      return false;
    }
    let digits = input.replace(/\D/g, '');
    if (digits.length != 10) {
      return false;
    }
    let mPart = parseInt(digits.substr(2, 2));
    if (mPart < 20) {
      return false;
    }
    return this.hasValidMod10CheckDigit(digits);
  }
  isValidCivicNr(input) {
    // Check valid length & form
    if (!input) {
      return false;
    }
    if (input.indexOf('-') === -1) {
      if (input.length === 10) {
        input = input.slice(0, 6) + '-' + input.slice(6);
      } else {
        input = input.slice(0, 8) + '-' + input.slice(8);
      }
    }
    if (!input.match(/^(\d{2})(\d{2})(\d{2})\-(\d{4})|(\d{4})(\d{2})(\d{2})\-(\d{4})$/)) {
      return false;
    }
    input = input.replace('-', '');
    if (input.length === 12) {
      input = input.substring(2);
    }
    let yearNr = parseInt(!!RegExp.$1 ? RegExp.$1 : RegExp.$5);
    let monthNr = parseInt(!!RegExp.$2 ? RegExp.$2 : RegExp.$6) - 1;
    let dayNr = parseInt(!!RegExp.$3 ? RegExp.$3 : RegExp.$7);
    var d = new Date(yearNr, monthNr, dayNr);
    // Check valid date
    if (Object.prototype.toString.call(d) !== '[object Date]' || isNaN(d.getTime())) return false;
    // Check luhn algorithm
    return this.hasValidMod10CheckDigit(input);
  }
  isValidPaymentFileReferenceNr(bankAccountNrType, referenceNr) {
    if (!referenceNr || !bankAccountNrType) {
      return false;
    }
    if (!/^[\d ]*$/.test(referenceNr)) {
      //digits and whitespace only
      return false;
    }
    let cleanedNr = referenceNr.replace(/\D/g, '');
    if (bankAccountNrType == 'BankGiroSe' || bankAccountNrType == 'PlusGiroSe') {
      return cleanedNr.length >= 2 && cleanedNr.length <= 25 && this.hasValidMod10CheckDigit(cleanedNr);
    } else {
      throw new Error('Not implemented for ' + bankAccountNrType);
    }
  }
  hasValidMod10CheckDigit(digits) {
    let sum = 0;
    let parity = digits.length % 2;
    for (var i = 0; i < digits.length; i = i + 1) {
      let digit = parseInt(digits.charAt(i), 10);
      if (i % 2 === parity) {
        digit *= 2;
      }
      if (digit > 9) {
        digit -= 9;
      }
      sum += digit;
    }
    return sum % 10 === 0;
  }
}

/***/ }),

/***/ 2606:
/*!**********************************************************!*\
  !*** ./src/app/secure-messages/shared.quill.settings.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   sharedQuillSettings: () => (/* binding */ sharedQuillSettings)
/* harmony export */ });
const sharedQuillSettings = {
  editorOptions: {
    toolbar: [[{
      header: [1, 2, false]
    }], ['bold', 'italic', 'underline'], [{
      list: 'ordered'
    }, {
      list: 'bullet'
    }]]
  },
  editorFormats: ['background', 'bold', 'font', 'code', 'italic', 'link', 'size', 'strike', 'script', 'underline', 'blockquote', 'header', 'indent', 'list', 'align', 'direction', 'formula']
};

/***/ }),

/***/ 6700:
/*!***************************************************!*\
  !*** ./node_modules/moment/locale/ sync ^\.\/.*$ ***!
  \***************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var map = {
	"./af": 5528,
	"./af.js": 5528,
	"./ar": 1036,
	"./ar-dz": 7579,
	"./ar-dz.js": 7579,
	"./ar-kw": 9588,
	"./ar-kw.js": 9588,
	"./ar-ly": 1650,
	"./ar-ly.js": 1650,
	"./ar-ma": 3258,
	"./ar-ma.js": 3258,
	"./ar-sa": 4085,
	"./ar-sa.js": 4085,
	"./ar-tn": 287,
	"./ar-tn.js": 287,
	"./ar.js": 1036,
	"./az": 9757,
	"./az.js": 9757,
	"./be": 9620,
	"./be.js": 9620,
	"./bg": 1139,
	"./bg.js": 1139,
	"./bm": 4042,
	"./bm.js": 4042,
	"./bn": 9641,
	"./bn-bd": 9126,
	"./bn-bd.js": 9126,
	"./bn.js": 9641,
	"./bo": 494,
	"./bo.js": 494,
	"./br": 934,
	"./br.js": 934,
	"./bs": 6274,
	"./bs.js": 6274,
	"./ca": 5831,
	"./ca.js": 5831,
	"./cs": 2354,
	"./cs.js": 2354,
	"./cv": 9692,
	"./cv.js": 9692,
	"./cy": 8774,
	"./cy.js": 8774,
	"./da": 8955,
	"./da.js": 8955,
	"./de": 1557,
	"./de-at": 4954,
	"./de-at.js": 4954,
	"./de-ch": 1881,
	"./de-ch.js": 1881,
	"./de.js": 1557,
	"./dv": 6475,
	"./dv.js": 6475,
	"./el": 8877,
	"./el.js": 8877,
	"./en-au": 454,
	"./en-au.js": 454,
	"./en-ca": 7356,
	"./en-ca.js": 7356,
	"./en-gb": 456,
	"./en-gb.js": 456,
	"./en-ie": 8789,
	"./en-ie.js": 8789,
	"./en-il": 5471,
	"./en-il.js": 5471,
	"./en-in": 9664,
	"./en-in.js": 9664,
	"./en-nz": 7672,
	"./en-nz.js": 7672,
	"./en-sg": 805,
	"./en-sg.js": 805,
	"./eo": 7390,
	"./eo.js": 7390,
	"./es": 1564,
	"./es-do": 1473,
	"./es-do.js": 1473,
	"./es-mx": 2089,
	"./es-mx.js": 2089,
	"./es-us": 4156,
	"./es-us.js": 4156,
	"./es.js": 1564,
	"./et": 6513,
	"./et.js": 6513,
	"./eu": 7856,
	"./eu.js": 7856,
	"./fa": 2378,
	"./fa.js": 2378,
	"./fi": 2687,
	"./fi.js": 2687,
	"./fil": 32,
	"./fil.js": 32,
	"./fo": 6845,
	"./fo.js": 6845,
	"./fr": 8875,
	"./fr-ca": 6425,
	"./fr-ca.js": 6425,
	"./fr-ch": 1746,
	"./fr-ch.js": 1746,
	"./fr.js": 8875,
	"./fy": 7037,
	"./fy.js": 7037,
	"./ga": 1217,
	"./ga.js": 1217,
	"./gd": 7010,
	"./gd.js": 7010,
	"./gl": 1931,
	"./gl.js": 1931,
	"./gom-deva": 4488,
	"./gom-deva.js": 4488,
	"./gom-latn": 8032,
	"./gom-latn.js": 8032,
	"./gu": 4984,
	"./gu.js": 4984,
	"./he": 9090,
	"./he.js": 9090,
	"./hi": 2085,
	"./hi.js": 2085,
	"./hr": 8787,
	"./hr.js": 8787,
	"./hu": 2901,
	"./hu.js": 2901,
	"./hy-am": 9819,
	"./hy-am.js": 9819,
	"./id": 4074,
	"./id.js": 4074,
	"./is": 715,
	"./is.js": 715,
	"./it": 3838,
	"./it-ch": 7040,
	"./it-ch.js": 7040,
	"./it.js": 3838,
	"./ja": 3180,
	"./ja.js": 3180,
	"./jv": 4346,
	"./jv.js": 4346,
	"./ka": 5538,
	"./ka.js": 5538,
	"./kk": 9772,
	"./kk.js": 9772,
	"./km": 7905,
	"./km.js": 7905,
	"./kn": 9125,
	"./kn.js": 9125,
	"./ko": 9140,
	"./ko.js": 9140,
	"./ku": 6780,
	"./ku.js": 6780,
	"./ky": 3768,
	"./ky.js": 3768,
	"./lb": 4016,
	"./lb.js": 4016,
	"./lo": 3169,
	"./lo.js": 3169,
	"./lt": 2353,
	"./lt.js": 2353,
	"./lv": 3243,
	"./lv.js": 3243,
	"./me": 2338,
	"./me.js": 2338,
	"./mi": 5555,
	"./mi.js": 5555,
	"./mk": 5794,
	"./mk.js": 5794,
	"./ml": 3151,
	"./ml.js": 3151,
	"./mn": 6458,
	"./mn.js": 6458,
	"./mr": 9165,
	"./mr.js": 9165,
	"./ms": 8680,
	"./ms-my": 7477,
	"./ms-my.js": 7477,
	"./ms.js": 8680,
	"./mt": 9684,
	"./mt.js": 9684,
	"./my": 285,
	"./my.js": 285,
	"./nb": 5922,
	"./nb.js": 5922,
	"./ne": 9040,
	"./ne.js": 9040,
	"./nl": 5066,
	"./nl-be": 4460,
	"./nl-be.js": 4460,
	"./nl.js": 5066,
	"./nn": 3693,
	"./nn.js": 3693,
	"./oc-lnc": 8676,
	"./oc-lnc.js": 8676,
	"./pa-in": 2341,
	"./pa-in.js": 2341,
	"./pl": 7416,
	"./pl.js": 7416,
	"./pt": 4344,
	"./pt-br": 113,
	"./pt-br.js": 113,
	"./pt.js": 4344,
	"./ro": 2643,
	"./ro.js": 2643,
	"./ru": 1305,
	"./ru.js": 1305,
	"./sd": 6095,
	"./sd.js": 6095,
	"./se": 4486,
	"./se.js": 4486,
	"./si": 8742,
	"./si.js": 8742,
	"./sk": 6722,
	"./sk.js": 6722,
	"./sl": 3345,
	"./sl.js": 3345,
	"./sq": 2416,
	"./sq.js": 2416,
	"./sr": 9450,
	"./sr-cyrl": 501,
	"./sr-cyrl.js": 501,
	"./sr.js": 9450,
	"./ss": 2222,
	"./ss.js": 2222,
	"./sv": 9454,
	"./sv.js": 9454,
	"./sw": 9638,
	"./sw.js": 9638,
	"./ta": 6494,
	"./ta.js": 6494,
	"./te": 4435,
	"./te.js": 4435,
	"./tet": 5003,
	"./tet.js": 5003,
	"./tg": 3706,
	"./tg.js": 3706,
	"./th": 6025,
	"./th.js": 6025,
	"./tk": 9780,
	"./tk.js": 9780,
	"./tl-ph": 2068,
	"./tl-ph.js": 2068,
	"./tlh": 9167,
	"./tlh.js": 9167,
	"./tr": 2494,
	"./tr.js": 2494,
	"./tzl": 8707,
	"./tzl.js": 8707,
	"./tzm": 1296,
	"./tzm-latn": 4532,
	"./tzm-latn.js": 4532,
	"./tzm.js": 1296,
	"./ug-cn": 2086,
	"./ug-cn.js": 2086,
	"./uk": 5069,
	"./uk.js": 5069,
	"./ur": 9304,
	"./ur.js": 9304,
	"./uz": 5115,
	"./uz-latn": 7609,
	"./uz-latn.js": 7609,
	"./uz.js": 5115,
	"./vi": 4802,
	"./vi.js": 4802,
	"./x-pseudo": 5605,
	"./x-pseudo.js": 5605,
	"./yo": 8456,
	"./yo.js": 8456,
	"./zh-cn": 3272,
	"./zh-cn.js": 3272,
	"./zh-hk": 9402,
	"./zh-hk.js": 9402,
	"./zh-mo": 8101,
	"./zh-mo.js": 8101,
	"./zh-tw": 262,
	"./zh-tw.js": 262
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	return __webpack_require__(id);
}
function webpackContextResolve(req) {
	if(!__webpack_require__.o(map, req)) {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return map[req];
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = 6700;

/***/ })

},
/******/ __webpack_require__ => { // webpackRuntimeModules
/******/ var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
/******/ __webpack_require__.O(0, ["vendor"], () => (__webpack_exec__(2452)));
/******/ var __webpack_exports__ = __webpack_require__.O();
/******/ }
]);
//# sourceMappingURL=main.e16bfee366e721e7.js.map