@{
    Layout = null;
}

<script type="text/ng-template" id="edit-customer-contact-info-value.html">
    <div>
        <div class="pt-1 pb-2" ng-if="!$ctrl.initialData.hideHeader">
                <div class="pull-left" ng-if="$ctrl.initialData.onClose"><a href="#" ng-click="$ctrl.initialData.onClose($event)" class="n-back"><span class="glyphicon glyphicon-arrow-left"></span></a></div>
                <h1 class="adjusted">{{$ctrl.getLabelText()}}</h1>
            </div>

            <div class="row pb-3">
                <div class="col-sm-offset-2 col-xs-8">
                    <!--edit value-->
                    <div class="editblock">
                        <form novalidate name="contactValueEditForm">
                            <div class="form-horizontal">
                                <ntech-input t="$ctrl.getInputType()" required="true" label="('propertylabel.' + $ctrl.initialData.itemName) | translate" model="$ctrl.m.editValue" label-classes="'col-xs-4'" input-classes="'col-xs-8'">
                                </ntech-input>
                            </div>
                            <div class="row pt-3">
                                <div class="col-xs-6 text-right"><button class="n-main-btn n-white-btn" ng-click="$ctrl.initialData.onClose($event)">Cancel</button></div>
                                <div class="col-xs-6"><button class="n-main-btn n-green-btn" ng-click="$ctrl.saveChange($event)" ng-disabled="!contactValueEditForm.$valid" >Save</button></div>
                            </div>
                        </form>
                    </div>
                    <!--end edit value-->
                </div>
            </div>

            <div class="row pt-3">
                <div class="col-xs-10 col-sm-offset-1">
                    <h2>History</h2>
                    <hr class="hr-section" />
                    <table class="table">
                        <thead>
                            <tr>
                                <th class="col-xs-3">Date</th>
                                <th class="col-xs-3">Value</th>
                                <th class="col-xs-3 text-right">By</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="c in $ctrl.m.historicalValues">
                                <td>{{c.ChangeDate | date:'short'}}</td>
                                <td class="copyable">{{c.Value}}</td>
                                <td class="text-right">{{c.ChangedByDisplayName}}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
    </div>
</script>
