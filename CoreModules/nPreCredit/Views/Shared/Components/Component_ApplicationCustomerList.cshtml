@{
    Layout = null;
}

<script type="text/ng-template" id="application-customer-list.html">
        <form ng-show="$ctrl.m.selectNr && $ctrl.initialData.isEditable" novalidate name="applicationCustomerListForm1">
            <div class="row">
                <div class="col-xs-4">
                    <ntech-input t="'custom'" required="true" label="'Civic nr'" model="$ctrl.m.selectNr.nr" label-classes="''" input-classes="''" placeholder-text="'YYYYMMDD-XXXX'" custom-is-valid="$ctrl.isValidCivicRegNr"></ntech-input>
                </div>
                <div class="col-xs-4">
                    <div class="pt-3">
                        <button class="n-main-btn n-blue-btn" ng-disabled="!applicationCustomerListForm1.$valid" ng-click="$ctrl.selectNr($event)">Search</button>
                    </div>
                </div>
            </div>
        </form>

        <form ng-show="$ctrl.m.editData" name="applicationCustomerListForm2" novalidate>
            <div class="row">
                <div class="col-xs-4">
                    <div class="form-group">
                        <label>Civic nr</label>
                        <p class="form-control-static">{{$ctrl.m.editData.nr}}</p>
                    </div>
                </div>
                <div class="col-xs-4">
                    <ntech-input t="'text'" required="true" label="'First name'" model="$ctrl.m.editData.firstName" label-classes="''" input-classes="''"></ntech-input>
                </div>
                <div class="col-xs-4">
                    <ntech-input t="'text'" required="true" label="'Last name'" model="$ctrl.m.editData.lastName" label-classes="''" input-classes="''"></ntech-input>
                </div>
            </div>
            <div class="row">
                <div class="col-xs-4">
                    <ntech-input t="'text'" required="false" label="'Street'" model="$ctrl.m.editData.addressStreet" label-classes="''" input-classes="''"></ntech-input>
                </div>
                <div class="col-xs-4">
                    <ntech-input t="'text'" required="false" label="'Zip'" model="$ctrl.m.editData.addressZipcode" label-classes="''" input-classes="''"></ntech-input>
                </div>
                <div class="col-xs-4">
                    <ntech-input t="'text'" required="false" label="'City'" model="$ctrl.m.editData.addressCity" label-classes="''" input-classes="''"></ntech-input>
                </div>
            </div>
            <div class="row pt-1">
                <div class="col-xs-4">
                    <ntech-input t="'text'" required="false" label="'Country'" model="$ctrl.m.editData.addressCountry" label-classes="''" input-classes="''"></ntech-input>
                </div>
                <div class="col-xs-4">
                    <ntech-input t="'email'" required="true" label="'E-mail'" model="$ctrl.m.editData.email" label-classes="''" input-classes="''"></ntech-input>
                </div>
                <div class="col-xs-4">
                    <ntech-input t="'text'" required="true" label="'Phone'" model="$ctrl.m.editData.phone" label-classes="''" input-classes="''"></ntech-input>
                </div>
            </div>
            <div class="row pt-1" ng-if="$ctrl.initialData.multipleEditorService.includeCompanyRoles">
                    <div class="col-xs-4">
                    Roles
                    </div>
                    <br/>
                    <div class="col-xs-3">
                        <input type="checkbox" id="isBeneficialOwner" name="isBeneficialOwner" ng-model="$ctrl.m.editData.isBeneficialOwner"> </input>
                        <label for="isBeneficialOwner">Beneficial Owner</label>
                    </div>
                    <div class="col-xs-3">
                        <input type="checkbox" id="isAuthorizedSignatory" name="isAuthorizedSignatory" ng-model="$ctrl.m.editData.isAuthorizedSignatory"> </input>
                        <label for="isAuthorizedSignatory">Authorized Signatory</label>
                    </div>
            </div>
            <div class="row">
                <div class="col-xs-4">
                    <div class="pt-3">
                        <button class="n-main-btn n-green-btn" ng-disabled="!applicationCustomerListForm2.$valid" ng-click="$ctrl.addCustomer($event)">Add</button>
                    </div>
                </div>
            </div>
        </form>

        <!--list of customers-->        
        <div class="pt-3">
            <h3 ng-if="$ctrl.initialData.header">{{$ctrl.initialData.header}}</h3>
            <hr class="dotted" />
            <div ng-show="$ctrl.m">
                <div ng-repeat="c in $ctrl.m.customers" ng-hide="c.isRemoved">
                    <div class="row pb-2">
                        <div class="col-xs-8">
                            <application-customerinfo initial-data="c.componentData"></application-customerinfo>
                        </div>
                        <div class="col-xs-4 text-right">
                            <button ng-show="$ctrl.initialData.isEditable" class="n-icon-btn n-red-btn" ng-click="$ctrl.removeCustomer(c, $event)"><span class="glyphicon glyphicon-minus"></span></button>
                        </div>
                    </div>
                    <hr class="dotted" />
                </div>
            </div>
        </div>
        <div ng-if="$ctrl.initialData.multipleEditorService">
        <div class="pt-1">
            <h3 ng-if="$ctrl.initialData.multipleEditorService.header">{{$ctrl.initialData.multipleEditorService.header}}</h3>
            <hr class="dotted" />
            <div ng-show="$ctrl.m">
                <div ng-repeat="c in $ctrl.m.multipleEditorServiceCustomers" ng-hide="c.isRemoved">
                    <div class="row pb-2">
                        <div class="col-xs-8">
                            <application-customerinfo initial-data="c.componentData"></application-customerinfo>
                        </div>
                        <div class="col-xs-4 text-right">
                            <button ng-show="$ctrl.initialData.isEditable" class="n-icon-btn n-red-btn" ng-click="$ctrl.removeMultipleEditorServiceCustomer(c, $event)"><span class="glyphicon glyphicon-minus"></span></button>
                        </div>
                    </div>
                    <hr class="dotted" />
                </div>
            </div>
        </div>
       </div>
</script>