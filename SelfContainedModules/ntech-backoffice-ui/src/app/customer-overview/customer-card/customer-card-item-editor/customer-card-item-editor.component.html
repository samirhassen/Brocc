<div *ngIf="m">
    <div class="pt-1 pb-2" *ngIf="!m.hideHeader">
        <div class="pull-left" *ngIf="m.showClose"><a href="#" (click)="close($event)" class="n-back"><span
                    class="glyphicon glyphicon-arrow-left"></span></a></div>
        <h1 class="adjusted">{{getHeaderText()}}</h1>
    </div>

    <div class="row pb-3">
        <div class="col-sm-offset-2 col-xs-8">
            <div class="editblock">
                <form [formGroup]="m.form.form">
                    <div class="form-horizontal">
                        <ng-container *ngIf="m.isSingleTextBox">
                            <div class="form-group" [ngClass]="{ 'has-error' : m.form.hasError('itemValue') }">
                                <label class="control-label col-xs-4">{{m.itemLabelText}}</label>
                                <div class="col-xs-8">
                                    <input type="text" class="form-control" formControlName="itemValue" autocomplete="off" placeholder="">
                                </div>
                            </div>
                        </ng-container>
                        <ng-container *ngIf="m.dropdownOptions">
                            <div class="form-group" [ngClass]="{ 'has-error' : m.form.hasError('itemValue') }">
                                <label class="control-label col-xs-4">{{m.itemLabelText}}</label>
                                <div class="col-xs-8">
                                    <select class="form-control" formControlName="itemValue">
                                        <option *ngFor="let option of m.dropdownOptions" [value]="option.code" >{{option.displayName}}</option>
                                    </select>
                                </div>
                            </div>
                        </ng-container>
                    </div>
                    <div class="row pt-3">
                        <div class="col-xs-6 text-right"><button class="n-main-btn n-white-btn"
                                (click)="close($event)">Cancel</button></div>
                        <div class="col-xs-6"><button class="n-main-btn n-green-btn" (click)="saveChange($event)"
                                [disabled]="m.form.invalid()">Save</button></div>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <div class="row pt-3">
        <div class="col-xs-10 col-sm-offset-1">
            <h2>History</h2>
            <hr class="hr-section" />
            <table class="table">
                <thead>
                    <tr>
                        <th class="col-xs-3">Date</th>
                        <th class="col-xs-3">Value</th>
                        <th class="col-xs-3 text-right">By</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let c of m.historicalValues">
                        <td>{{c.ChangeDate | date:'short'}}</td>
                        <td class="copyable">{{c.Value}}</td>
                        <td class="text-right">{{c.ChangedByDisplayName}}</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
<!--
   

 -->